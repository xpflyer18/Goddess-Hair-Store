!function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=65)}([function(e,t,i){"use strict";var n=i(18),a=i.n(n);function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=this;this.mouseDetected=!1,this.mouseMoveHandler=function(){return function(e){window.removeEventListener("mousedown",t.mouseMoveHandler,!1),window.removeEventListener("touchstart",t.mouseMoveHandler,!1),"touchstart"===e.type?(e.stopPropagation(),t.mouseDetected=!1):t.mouseDetected=!0}},window.addEventListener("mousedown",this.mouseMoveHandler,!1),window.addEventListener("touchstart",this.mouseMoveHandler,!1)}return s(e,null,[{key:"ClassPref",get:function(){var e=a.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"ICONS",get:function(){return{MORE_SVG:'<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 0 48 48" width="48"><path d="M0 0h48v48h-48z" fill="none"/><path d="M12 20c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm24 0c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-12 0c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"/></svg>',ARR_DOWN_SVG:'<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 0 48 48" width="48"><path d="M14.83 16.42l9.17 9.17 9.17-9.17 2.83 2.83-12 12-12-12z"/><path d="M0-.75h48v48h-48z" fill="none"/></svg>',ZOOM_SVG:'<svg enable-background="new 0 0 32 32" id="Glyph" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M27.414,24.586l-5.077-5.077C23.386,17.928,24,16.035,24,14c0-5.514-4.486-10-10-10S4,8.486,4,14  s4.486,10,10,10c2.035,0,3.928-0.614,5.509-1.663l5.077,5.077c0.78,0.781,2.048,0.781,2.828,0  C28.195,26.633,28.195,25.367,27.414,24.586z M7,14c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S7,17.86,7,14z" id="XMLID_223_"/></svg>',MAXIMIZE_SVG:'<svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/></svg>',NOTE_SVG:'<svg version="1.1" viewBox="0 0 58 94" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M37.992,0h-8.021v65.358c-4.435-1.706-10.174-1.73-15.835,0.328C3.994,69.377-2.049,78.355,0.638,85.736   c2.688,7.383,13.088,10.374,23.229,6.683c8.614-3.134,14.249-10.082,14.111-16.626l0.014-53.451   c13.986,2.204,14.943,19.884,13.268,24.842c-0.636,1.879,0.484,3.286,2.598,0C68.938,23.726,37.992,13.376,37.992,0z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>',VIMEO_SVG:'<svg enable-background="new 0 0 56.693 56.693" height="56.693px" id="Layer_1" version="1.1" viewBox="-5 -5 66.693 66.693" width="56.693px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M3.602,22.974l2.01,2.636c0,0,4.146-3.267,5.528-1.634c1.382,1.634,6.656,21.357,8.417,24.997  c1.537,3.192,5.777,7.413,10.426,4.397c4.646-3.014,20.098-16.205,22.863-31.781c2.764-15.574-18.594-12.313-20.854,1.256  c5.652-3.395,8.671,1.38,5.778,6.784c-2.889,5.399-5.527,8.921-6.908,8.921c-1.379,0-2.441-3.612-4.021-9.928  c-1.635-6.53-1.624-18.291-8.416-16.958C12.019,12.921,3.602,22.974,3.602,22.974z"/></svg>',YOU_TUBE_SVG:'<svg data-name="Layer 21" height="24" id="Layer_21" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title/><path d="M21.80731,7.805a2.79915,2.79915,0,0,0-2.54907-2.53906C17.69061,5.13586,15.36707,5,12.50012,5c-3.45251,0-6.05865.14105-7.74353.27332A2.79932,2.79932,0,0,0,2.1925,7.815C2.08936,8.90021,2,10.33344,2,12.0423c0,1.66632.08862,3.07422.19128,4.14594a2.79852,2.79852,0,0,0,2.56384,2.53833C6.43994,18.85883,9.04657,19,12.50012,19c2.86694,0,5.19049-.13586,6.75812-.266a2.799,2.799,0,0,0,2.54907-2.539C21.91052,15.11548,22,13.69189,22,12S21.91052,8.88452,21.80731,7.805ZM9.77594,14.93878V9.06122L15.574,12Z"/></svg>',BOOKMARK_SVG:'<svg height="1792" viewBox="0 0 1792 1792" width="1792" xmlns="http://www.w3.org/2000/svg"><path d="M1420 128q23 0 44 9 33 13 52.5 41t19.5 62v1289q0 34-19.5 62t-52.5 41q-19 8-44 8-48 0-83-32l-441-424-441 424q-36 33-83 33-23 0-44-9-33-13-52.5-41t-19.5-62v-1289q0-34 19.5-62t52.5-41q21-9 44-9h1048z"/></svg>',HEART_SVG:'<svg enable-background="new 0 0 51 46" height="46px" id="Layer_1" version="1.1" viewBox="0 0 51 46" width="51px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M46.188,4.101c-5.529-5.53-14.495-5.53-20.023,0L25.39,4.875l-0.996-0.774c-5.529-5.53-14.715-5.53-20.245,0  C-1.38,9.63-1.27,18.595,4.26,24.125l18.753,18.643c0.671,0.671,1.4,1.258,2.376,1.766c0.76-0.508,1.483-1.095,2.155-1.766  l18.643-18.643C51.717,18.595,51.717,9.63,46.188,4.101z""/></svg>',HEART_2_SVG:'<svg enable-background="new 0 0 24 24" id="Layer_1" version="1.0" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M16.4,6c2,0,3.6,1.6,3.6,3.6c0,2-3.9,6.4-8,9.8c-4.1-3.5-8-7.9-8-9.8C4,7.6,5.6,6,7.6,6C10,6,12,9,12,9S13.9,6,16.4,6   M16.4,4C14.6,4,13,4.9,12,6.3C11,4.9,9.4,4,7.6,4C4.5,4,2,6.5,2,9.6C2,14,12,22,12,22s10-8,10-12.4C22,6.5,19.5,4,16.4,4L16.4,4z"/></svg>',COMENTS_SVG:'<svg style="enable-background:new 0 0 24 24;" version="1.1" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="info"/><g id="icons"><path d="M20,1H4C1.8,1,0,2.8,0,5v10c0,2.2,1.8,4,4,4v3c0,0.9,1.1,1.3,1.7,0.7L9.4,19H20c2.2,0,4-1.8,4-4V5   C24,2.8,22.2,1,20,1z M14,13H8c-0.6,0-1-0.4-1-1c0-0.6,0.4-1,1-1h6c0.6,0,1,0.4,1,1C15,12.6,14.6,13,14,13z M16,9H8   C7.4,9,7,8.6,7,8c0-0.6,0.4-1,1-1h8c0.6,0,1,0.4,1,1C17,8.6,16.6,9,16,9z" id="message"/></g></svg>',COMENTS_2_SVG:'<svg enable-background="new 0 0 64 64" height="64px" id="Layer_1" version="1.1" viewBox="0 0 64 64" width="64px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M47.964,8.127H16.036c-4.4,0-8,3.6-8,8v20.977c0,4.4,3.6,8,8,8h7.397v10.768l13.333-10.768h11.197c4.4,0,8-3.6,8-8V16.127   C55.964,11.727,52.364,8.127,47.964,8.127z M50.964,37.104c0,1.626-1.374,3-3,3H36.767H35l-1.375,1.11l-5.191,4.193v-0.303v-5h-5   h-7.397c-1.626,0-3-1.374-3-3V16.127c0-1.626,1.374-3,3-3h31.928c1.626,0,3,1.374,3,3V37.104z"/><circle cx="21.743" cy="26.617" r="2.913"/><circle cx="32" cy="26.617" r="2.913"/><circle cx="42.256" cy="26.617" r="2.913"/></g></svg>',INFO_SVG:'<svg height="100px" id="Capa_1" style="enable-background:new 0 0 46 100;" version="1.1" viewBox="0 0 46 100" width="46px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M35.162,0c6.696,0,10.043,4.567,10.043,9.789c0,6.522-5.814,12.555-13.391,12.555c-6.344,0-10.045-3.752-9.869-9.947   C21.945,7.176,26.35,0,35.162,0z M14.543,100c-5.287,0-9.164-3.262-5.463-17.615l6.07-25.457c1.057-4.077,1.23-5.707,0-5.707   c-1.588,0-8.451,2.816-12.51,5.59L0,52.406C12.863,41.48,27.662,35.072,34.004,35.072c5.285,0,6.168,6.361,3.525,16.148   L30.58,77.98c-1.234,4.729-0.703,6.359,0.527,6.359c1.586,0,6.787-1.963,11.896-6.041L46,82.377C33.488,95.1,19.83,100,14.543,100z   "/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>',DOWNLOAD_SVG:'<svg version="1.1" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="info"/><g id="icons"><g id="save"><path d="M11.2,16.6c0.4,0.5,1.2,0.5,1.6,0l6-6.3C19.3,9.8,18.8,9,18,9h-4c0,0,0.2-4.6,0-7c-0.1-1.1-0.9-2-2-2c-1.1,0-1.9,0.9-2,2    c-0.2,2.3,0,7,0,7H6c-0.8,0-1.3,0.8-0.8,1.4L11.2,16.6z"/><path d="M19,19H5c-1.1,0-2,0.9-2,2v0c0,0.6,0.4,1,1,1h16c0.6,0,1-0.4,1-1v0C21,19.9,20.1,19,19,19z"/></g></g></svg>',DOWNLOAD_2_SVG:'<svg enable-background="new 0 0 64 64" height="64px" id="Layer_1" version="1.1" viewBox="0 0 64 64" width="64px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M40.001,36.254c0,3.299-2.673,5.971-5.97,5.971H29.97c-3.297,0-5.97-2.672-5.97-5.971H8v17c0,2.209,1.791,4,4,4h40   c2.209,0,4-1.791,4-4v-17H40.001z"/><path d="M31.916,33.246l7.608-7.452c0.747-0.733,0.506-1.327-0.543-1.327h-4.565V9.246c0-1.381-1.119-2.5-2.5-2.5   s-2.5,1.119-2.5,2.5v15.221h-4.565c-1.05,0-1.291,0.595-0.542,1.327L31.916,33.246z"/></g></svg>',LINK_SVG:'<svg height="1792" viewBox="0 0 1792 1792" width="1792" xmlns="http://www.w3.org/2000/svg"><path d="M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z"/></svg>',LINK_2_SVG:'<svg data-name="Layer 21" height="24" id="Layer_21" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title/><path d="M9.87012,5.541l4.26953,4.26953a2.02108,2.02108,0,0,1,0,2.855l-1.42383,1.42285,1.41406,1.415,1.42383-1.42334a4.02449,4.02449,0,0,0,0-5.68359L11.28418,4.127a4.01858,4.01858,0,0,0-5.68359,0L4.17676,5.55029a4.02212,4.02212,0,0,0,0,5.68311L5.59082,9.81934a2.02108,2.02108,0,0,1,0-2.855L7.01465,5.541A2.06778,2.06778,0,0,1,9.87012,5.541Z"/><path d="M19.82324,12.666l-1.41406,1.41406a2.02108,2.02108,0,0,1,0,2.855L16.98535,18.3584a2.06778,2.06778,0,0,1-2.85547,0L9.86035,14.08887a2.02108,2.02108,0,0,1,0-2.855L11.28418,9.811,9.87012,8.396,8.44629,9.81934a4.02449,4.02449,0,0,0,0,5.68359l4.26953,4.26953a4.01917,4.01917,0,0,0,5.68359.00049l1.42383-1.42334A4.02449,4.02449,0,0,0,19.82324,12.666Z"/></svg>',SHARE_SVG:'<svg height="1792" viewBox="0 0 1792 1792" width="1792" xmlns="http://www.w3.org/2000/svg"><path d="M1344 1024q133 0 226.5 93.5t93.5 226.5-93.5 226.5-226.5 93.5-226.5-93.5-93.5-226.5q0-12 2-34l-360-180q-92 86-218 86-133 0-226.5-93.5t-93.5-226.5 93.5-226.5 226.5-93.5q126 0 218 86l360-180q-2-22-2-34 0-133 93.5-226.5t226.5-93.5 226.5 93.5 93.5 226.5-93.5 226.5-226.5 93.5q-126 0-218-86l-360 180q2 22 2 34t-2 34l360 180q92-86 218-86z"/></svg>',SHARE_2_SVG:'<svg enable-background="new 0 0 64 64" height="64px" id="Layer_1" version="1.1" viewBox="0 0 64 64" width="64px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M48,39.26c-2.377,0-4.515,1-6.033,2.596L24.23,33.172c0.061-0.408,0.103-0.821,0.103-1.246c0-0.414-0.04-0.818-0.098-1.215  l17.711-8.589c1.519,1.609,3.667,2.619,6.054,2.619c4.602,0,8.333-3.731,8.333-8.333c0-4.603-3.731-8.333-8.333-8.333  s-8.333,3.73-8.333,8.333c0,0.414,0.04,0.817,0.098,1.215l-17.711,8.589c-1.519-1.609-3.666-2.619-6.054-2.619  c-4.603,0-8.333,3.731-8.333,8.333c0,4.603,3.73,8.333,8.333,8.333c2.377,0,4.515-1,6.033-2.596l17.737,8.684  c-0.061,0.407-0.103,0.821-0.103,1.246c0,4.603,3.731,8.333,8.333,8.333s8.333-3.73,8.333-8.333C56.333,42.99,52.602,39.26,48,39.26  z"/></svg>',FULL_SCREEN_SVG:'<svg height="14px" version="1.1" viewBox="0 0 14 14" width="14px" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" xmlns:xlink="http://www.w3.org/1999/xlink"><title/><desc/><defs/><g fill-rule="evenodd" id="Page-1" stroke="none" stroke-width="1"><g transform="translate(-215.000000, -257.000000)"><g transform="translate(215.000000, 257.000000)"><path d="M2,9 L0,9 L0,14 L5,14 L5,12 L2,12 L2,9 L2,9 Z M0,5 L2,5 L2,2 L5,2 L5,0 L0,0 L0,5 L0,5 Z M12,12 L9,12 L9,14 L14,14 L14,9 L12,9 L12,12 L12,12 Z M9,0 L9,2 L12,2 L12,5 L14,5 L14,0 L9,0 L9,0 Z" id="Shape"/></g></g></g></svg>',NORMAL_SCREEN_SVG:'<svg height="14px" version="1.1" viewBox="0 0 14 14" width="14px" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" xmlns:xlink="http://www.w3.org/1999/xlink"><g fill-rule="evenodd" stroke="none" stroke-width="1"><g id="Core" transform="translate(-257.000000, -257.000000)"><g id="fullscreen-exit" transform="translate(257.000000, 257.000000)"><path d="M0,11 L3,11 L3,14 L5,14 L5,9 L0,9 L0,11 L0,11 Z M3,3 L0,3 L0,5 L5,5 L5,0 L3,0 L3,3 L3,3 Z M9,14 L11,14 L11,11 L14,11 L14,9 L9,9 L9,14 L9,14 Z M11,3 L11,0 L9,0 L9,5 L14,5 L14,3 L11,3 L11,3 Z" id="Shape"/></g></g></g></svg>',CLOSE_SVG:'<svg height="512px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M437.5,386.6L306.9,256l130.6-130.6c14.1-14.1,14.1-36.8,0-50.9c-14.1-14.1-36.8-14.1-50.9,0L256,205.1L125.4,74.5  c-14.1-14.1-36.8-14.1-50.9,0c-14.1,14.1-14.1,36.8,0,50.9L205.1,256L74.5,386.6c-14.1,14.1-14.1,36.8,0,50.9  c14.1,14.1,36.8,14.1,50.9,0L256,306.9l130.6,130.6c14.1,14.1,36.8,14.1,50.9,0C451.5,423.4,451.5,400.6,437.5,386.6z"/></svg>',VIEW_SVG:'<svg enable-background="new 0 0 167 93" height="93px" id="Layer_1" version="1.1" viewBox="0 0 167 93" width="167px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M83.25,29.25c-9.649,0-17.5,7.851-17.5,17.5s7.851,17.5,17.5,17.5s17.5-7.851,17.5-17.5   S92.899,29.25,83.25,29.25z"/><path d="M83.25,0.75c-45.84,0-83,46-83,46s37.16,46,83,46s83-46,83-46S129.09,0.75,83.25,0.75z M83.25,81.25   c-19.054,0-34.5-15.445-34.5-34.5c0-19.054,15.446-34.5,34.5-34.5s34.5,15.446,34.5,34.5C117.75,65.805,102.304,81.25,83.25,81.25z   "/></g></svg>',FB_SVG_COLOR:'<svg version="1.1" viewBox="0 0 32 32" width="32" height="32" aria-hidden="false"><path d="M27.6 3h-23.2c-.8 0-1.4.6-1.4 1.4v23.1c0 .9.6 1.5 1.4 1.5h12.5v-10.1h-3.4v-3.9h3.4v-2.9c0-3.4 2.1-5.2 5-5.2 1.4 0 2.7.1 3 .2v3.5h-2.1c-1.6 0-1.9.8-1.9 1.9v2.5h3.9l-.5 3.9h-3.4v10.1h6.6c.8 0 1.4-.6 1.4-1.4v-23.2c.1-.8-.5-1.4-1.3-1.4z"></path></svg>',FB_SVG:'<svg enable-background="new 0 0 32 32" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Flat_copy"><path d="M11.848,32h6.612V15.998h4.411l0.584-5.514H18.46l0.007-2.761c0-1.437,0.137-2.209,2.2-2.209h2.757V0h-4.412   c-5.299,0-7.164,2.675-7.164,7.174v3.311H8.545v5.515h3.303V32z"/></g></svg>',TW_SVG:'<svg version="1.1" viewBox="0 0 32 32" width="32" height="32" aria-hidden="false"><path d="M30 7.3c-1 .5-2.1.8-3.3.9 1.2-.7 2.1-1.8 2.5-3.2-1.1.7-2.3 1.1-3.6 1.4-1-1.1-2.5-1.8-4.2-1.8-3.2 0-5.7 2.6-5.7 5.7 0 .5.1.9.1 1.3-4.8-.2-9-2.5-11.8-6-.5.9-.8 1.9-.8 3 0 2 1 3.8 2.6 4.8-.9 0-1.8-.3-2.6-.7v.1c0 2.8 2 5.1 4.6 5.6-.5.1-1 .2-1.5.2-.4 0-.7 0-1.1-.1.7 2.3 2.9 3.9 5.4 4-2 1.5-4.4 2.5-7.1 2.5-.5 0-.9 0-1.4-.1 2.5 1.6 5.6 2.6 8.8 2.6 10.6 0 16.3-8.8 16.3-16.3v-.7c1.1-1 2-2 2.8-3.2z"></path></svg>',PIN_SVG:'<svg version="1.1" viewBox="0 0 32 32" width="32" height="32" aria-hidden="false"><path d="M16 3c-7.2 0-13 5.8-13 13 0 5.5 3.4 10.2 8.3 12.1-.1-1-.2-2.6 0-3.7.2-1 1.5-6.5 1.5-6.5s-.4-.8-.4-1.9c0-1.8 1-3.2 2.4-3.2 1.1 0 1.6.8 1.6 1.8 0 1.1-.7 2.8-1.1 4.3-.3 1.3.6 2.3 1.9 2.3 2.3 0 4.1-2.4 4.1-6 0-3.1-2.2-5.3-5.4-5.3-3.7 0-5.9 2.8-5.9 5.6 0 1.1.4 2.3 1 3 .1.1.1.2.1.4-.1.4-.3 1.3-.4 1.5-.1.2-.2.3-.4.2-1.6-.8-2.6-3.1-2.6-5 0-4.1 3-7.9 8.6-7.9 4.5 0 8 3.2 8 7.5 0 4.5-2.8 8.1-6.7 8.1-1.3 0-2.6-.7-3-1.5 0 0-.7 2.5-.8 3.1-.3 1.1-1.1 2.5-1.6 3.4 1.2.4 2.5.6 3.8.6 7.2 0 13-5.8 13-13 0-7.1-5.8-12.9-13-12.9z"></path></svg>',ZOOM_IN_SVG:'<svg enable-background="new 0 0 512 512" height="512px" id="Layer_1" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M497.913,497.914c-18.782,18.781-49.226,18.781-68.008,0l-84.862-84.864c-34.89,22.366-76.131,35.718-120.66,35.718  C100.468,448.768,0,348.314,0,224.384C0,100.454,100.468,0,224.383,0c123.931,0,224.384,100.453,224.384,224.384  c0,44.529-13.353,85.771-35.718,120.675l84.863,84.849C516.695,448.689,516.695,479.131,497.913,497.914z M224.383,64.11  c-88.511,0-160.274,71.763-160.274,160.274c0,88.526,71.764,160.274,160.274,160.274c88.526,0,160.273-71.748,160.273-160.274  C384.656,135.873,312.909,64.11,224.383,64.11z M256.438,320.548h-64.108v-64.109H128.22V192.33h64.109v-64.11h64.108v64.11h64.11  v64.109h-64.11V320.548z"/></svg>',ZOOM_OUT_SVG:'<svg enable-background="new 0 0 512 512" height="512px" id="Layer_1" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g><path d="M497.913,429.906l-84.863-84.848c22.365-34.903,35.718-76.146,35.718-120.676C448.768,100.453,348.314,0,224.383,0    C100.468,0,0,100.453,0,224.384s100.468,224.384,224.383,224.384c44.529,0,85.771-13.352,120.66-35.718l84.862,84.864    c18.782,18.781,49.226,18.781,68.008,0C516.695,479.131,516.695,448.689,497.913,429.906z M224.383,384.658    c-88.511,0-160.274-71.748-160.274-160.274c0-88.511,71.764-160.274,160.274-160.274c88.526,0,160.273,71.763,160.273,160.274    C384.656,312.91,312.909,384.658,224.383,384.658z M128.219,256.438h192.329v-64.109H128.219V256.438z"/></g></g></svg>',PLAY_SVG:'<svg height="512px" id="Layer_1" enable-background:new 0 0 512 512 version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M405.2,232.9L126.8,67.2c-3.4-2-6.9-3.2-10.9-3.2c-10.9,0-19.8,9-19.8,20H96v344h0.1c0,11,8.9,20,19.8,20  c4.1,0,7.5-1.4,11.2-3.4l278.1-165.5c6.6-5.5,10.8-13.8,10.8-23.1C416,246.7,411.8,238.5,405.2,232.9z"/></svg>',PAUSE_SVG:'<svg height="512px" id="Layer_1" enable-background:new 0 0 512 512 version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M224,435.8V76.1c0-6.7-5.4-12.1-12.2-12.1h-71.6c-6.8,0-12.2,5.4-12.2,12.1v359.7c0,6.7,5.4,12.2,12.2,12.2h71.6   C218.6,448,224,442.6,224,435.8z"/><path d="M371.8,64h-71.6c-6.7,0-12.2,5.4-12.2,12.1v359.7c0,6.7,5.4,12.2,12.2,12.2h71.6c6.7,0,12.2-5.4,12.2-12.2V76.1   C384,69.4,378.6,64,371.8,64z"/></g></svg>',USER_SVG:'<svg version="1.1" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="info"/><g id="icons"><path d="M12,0C5.4,0,0,5.4,0,12c0,6.6,5.4,12,12,12s12-5.4,12-12C24,5.4,18.6,0,12,0z M12,4c2.2,0,4,2.2,4,5s-1.8,5-4,5   s-4-2.2-4-5S9.8,4,12,4z M18.6,19.5C16.9,21,14.5,22,12,22s-4.9-1-6.6-2.5c-0.4-0.4-0.5-1-0.1-1.4c1.1-1.3,2.6-2.2,4.2-2.7   c0.8,0.4,1.6,0.6,2.5,0.6s1.7-0.2,2.5-0.6c1.7,0.5,3.1,1.4,4.2,2.7C19.1,18.5,19.1,19.1,18.6,19.5z" id="user2"/></g></svg>',ATTENTION_SVG:'<svg enable-background="new 0 0 91.8 92.6" id="Layer_1" version="1.0" viewBox="0 0 91.8 92.6" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M45.9,3.6c-23.5,0-42.5,19-42.5,42.5c0,23.5,19,42.5,42.5,42.5c23.5,0,42.5-19,42.5-42.5  C88.4,22.7,69.4,3.6,45.9,3.6z M43.7,21.1h4.3c0.5,0,0.9,0.4,0.9,0.9l-0.6,34.5c0,0.5-0.4,0.9-0.9,0.9h-3c-0.5,0-0.9-0.4-0.9-0.9  L42.8,22C42.8,21.5,43.2,21.1,43.7,21.1z M48.6,71.2c-0.8,0.8-1.7,1.1-2.7,1.1c-1,0-1.9-0.3-2.6-1c-0.8-0.7-1.3-1.8-1.3-2.9  c0-1,0.4-1.9,1.1-2.7c0.7-0.8,1.8-1.2,2.9-1.2c1.2,0,2.2,0.5,3,1.4c0.5,0.6,0.8,1.3,0.9,2.1C49.9,69.3,49.5,70.3,48.6,71.2z"/></svg>',POST_TYPE:'<svg xmlns="http://www.w3.org/2000/svg" height="1792" viewBox="0 0 1792 1792" width="1792"><path d="M1596 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22zm384 1528v-1024h-416q-40 0-68-28t-28-68v-416h-768v1536h1280zm-1024-864q0-14 9-23t23-9h704q14 0 23 9t9 23v64q0 14-9 23t-23 9h-704q-14 0-23-9t-9-23v-64zm736 224q14 0 23 9t9 23v64q0 14-9 23t-23 9h-704q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h704zm0 256q14 0 23 9t9 23v64q0 14-9 23t-23 9h-704q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h704z"/></svg>',VIDEO_TYPE:'<svg xmlns="http://www.w3.org/2000/svg" height="1792" viewBox="0 0 1792 1792" width="1792"><path d="M1596 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22zm384 1528v-1024h-416q-40 0-68-28t-28-68v-416h-768v1536h1280zm-640-896q52 0 90 38t38 90v384q0 52-38 90t-90 38h-384q-52 0-90-38t-38-90v-384q0-52 38-90t90-38h384zm492 2q20 8 20 30v576q0 22-20 30-8 2-12 2-14 0-23-9l-265-266v-90l265-266q9-9 23-9 4 0 12 2z"/></svg>',AUDIO_TYPE:'<svg xmlns="http://www.w3.org/2000/svg" height="1792" viewBox="0 0 1792 1792" width="1792"><path d="M1596 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22zm384 1528v-1024h-416q-40 0-68-28t-28-68v-416h-768v1536h1280zm-788-814q20 8 20 30v544q0 22-20 30-8 2-12 2-12 0-23-9l-166-167h-131q-14 0-23-9t-9-23v-192q0-14 9-23t23-9h131l166-167q16-15 35-7zm417 689q31 0 50-24 129-159 129-363t-129-363q-16-21-43-24t-47 14q-21 17-23.5 43.5t14.5 47.5q100 123 100 282t-100 282q-17 21-14.5 47.5t23.5 42.5q18 15 40 15zm-211-148q27 0 47-20 87-93 87-219t-87-219q-18-19-45-20t-46 17-20 44.5 18 46.5q52 57 52 131t-52 131q-19 20-18 46.5t20 44.5q20 17 44 17z"/></svg>',GRID_SVG:'<svg xmlns="http://www.w3.org/2000/svg" height="32" viewBox="0 0 32 32" width="32"><path d=" M2 2 L10 2 L10 10 L2 10z M12 2 L20 2 L20 10 L12 10z M22 2 L30 2 L30 10 L22 10z M2 12 L10 12 L10 20 L2 20z M12 12 L20 12 L20 20 L12 20z M22 12 L30 12 L30 20 L22 20z M2 22 L10 22 L10 30 L2 30z M12 22 L20 22 L20 30 L12 30z M22 22 L30 22 L30 30 L22 30z "/></svg>'}}}]),s(e,null,[{key:"createPreloaderView",value:function(t){var i=0,n=document.createElement("div");n.className="".concat(e.ClassPref,"preloader");var a=document.createElement("div");a.className="".concat(e.ClassPref,"static"),a.style.width="".concat(8,"px"),a.style.height="".concat(8,"px"),a.style.margin="".concat(-4,"px"),a.style.backgroundColor=t,n.appendChild(a);var o=document.createElement("div");o.className="".concat(e.ClassPref,"spinner"),o.style.position="absolute",o.style.width="".concat(36,"px"),o.style.height="".concat(36,"px"),o.style.margin="".concat(-18,"px");for(var s=0;s<8;s+=1){var r=document.createElement("div");r.className="".concat(e.ClassPref,"point"),r.style.marginTop="".concat(-4,"px"),r.style.marginLeft="".concat(-4,"px"),r.style.width="".concat(8,"px"),r.style.height="".concat(8,"px"),r.style.backgroundColor=t,r.style.transform="rotate(".concat(i,"deg) translate(").concat(18,"px)"),i+=45,o.appendChild(r)}return n.appendChild(o),n}},{key:"requestAnimationFrame",value:function(e){return(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)(e)}},{key:"cancelAnimationFrame",value:function(e){(window.cancelAnimationFrame||window.mozCancelAnimationFrame)(e)}},{key:"whichTransitionEventEnd",value:function(){var e=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},i=Object.keys(t);for(var n in i)if(void 0!==e.style[n])return t[n]}},{key:"addParamsToURL",value:function(t,i,n){if(e.Device.browser.ie11)return"".concat(t+(t.indexOf("?")>=0?"&":"?")+encodeURIComponent(i),"=").concat(encodeURIComponent(n));var a=(t=new URL(t)).search,o=new URLSearchParams(a);return o.append(i,n),t.search=o.toString(),t.toString()}},{key:"mediaEl",value:function(t){var i=document.createElement(t);return i.className="thumb-".concat(t,"-content"),i.setAttribute("preload","metadata"),i.setAttribute("controlsList","nodownload"),"video"===t&&(i.setAttribute("preload",e.Device.browser.safari||e.Device.browser.opera?"auto":"metadata"),i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","")),i}},{key:"embedVideoEl",value:function(e,t){var i=document.createElement("iframe");return i.setAttribute("allow","autoplay"),i.setAttribute("allowfullscreen",""),i.setAttribute("frameborder","0"),"youtube"===e?i.src="https://www.youtube.com/embed/".concat(t,"?autoplay=1&rel=0&showinfo=0&wmode=transparent"):"vimeo"===e&&(i.src="https://player.vimeo.com/video/".concat(t,"?autoplay=1&byline=0&portrait=0&transparent=0")),i}},{key:"copyProperties",value:function(e,t){for(var i=[],n=Object.keys(e),a=0;a<n.length;a+=1){var o=n[a];void 0!==e[o]&&(Object.prototype.hasOwnProperty.call(t,o)?t[o]!==e[o]&&i.push(o):i.push(o),t[o]=e[o])}return i}},{key:"setStyleForElFomObj",value:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e.style[i]=t[i])}},{key:"shuffle",value:function(e){for(var t,i,n=e.length;0!==n;)i=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[i],e[i]=t;return e}},{key:"Rect",value:function(e,t,i,n){return{x:e,y:t,width:i,height:n}}},{key:"Size",value:function(e,t){return{width:e,height:t}}},{key:"Point",value:function(e,t){return{x:e,y:t}}},{key:"SvgWithImage",value:function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("viewBox","0 0 1 1"),t.setAttribute("version","1.1"),t.setAttribute("role","img");var i=document.createElementNS("http://www.w3.org/2000/svg","image");return i.setAttributeNS("http://www.w3.org/1999/xlink","href",e),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("preserveAspectRatio","xMidYMid slice"),t.appendChild(i),t}},{key:"findHighestZIndex",value:function(e){for(var t,i=99999,n=0;n<e.childNodes.length;n+=1){var a=e.childNodes[n];1===a.nodeType&&"SCRIPT"!==a.nodeName&&(t=document.defaultView.getComputedStyle(a,null).getPropertyValue("z-index")),t>i&&"auto"!==t&&(i=parseInt(t,10))}return i}},{key:"escape",value:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,(function(e){return t[e]}))}},{key:"trace",value:function(e){if(1!==arguments.length){for(var t="",i=0;i<arguments.length;i+=1){var n=arguments[i];t+="".concat(n," , ")}t=t.slice(0,-2),console.log(t)}else console.log(e)}},{key:"preventDefaultForScrollKeys",value:function(e){return!{37:1,38:1,39:1,40:1}[e.keyCode]||(e.preventDefault(),!1)}},{key:"preventDefault",value:function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}},{key:"disableBodyScroll",value:function(){document.getElementsByTagName("html")[0].classList.add("".concat(e.ClassPref,"PopUpActive"))}},{key:"enableBodyScroll",value:function(){document.getElementsByTagName("html")[0].classList.remove("".concat(e.ClassPref,"PopUpActive"))}},{key:"disableBodyScrollSlider",value:function(){if(window.addEventListener){var t=e.passiveListener,i=e.preventDefault;window.addEventListener("wheel",i,t),window.addEventListener("mousewheel",i,t)}document.onkeydown=e.preventDefaultForScrollKeys}},{key:"enableBodyScrollSlider",value:function(){if(window.removeEventListener){var t=e.passiveListener,i=e.preventDefault;window.removeEventListener("wheel",i,t),window.removeEventListener("mousewheel",i,t)}document.onkeydown=null}},{key:"collapseElementsInElemt",value:function(e,t){for(var i=[],n=0;n<e.childNodes.length;n+=1){var a={},o=e.childNodes[n];1===o.nodeType&&"SCRIPT"!==o.nodeName&&o!==t&&(a.element=o,a.height=null,a.overflow=null,""!==o.style.height&&(a.height=o.style.height),""!==o.style.overflow&&(a.overflow=o.style.overflow),i.push(a),o.style.overflow="hidden",o.style.height="0")}return i}},{key:"recoverElements",value:function(e){if(0!==e.length)for(var t=0;t<e.length;t+=1){var i=e[t].element;i&&(e[t].overflow?i.style.overflow=e[t].overflow:i.style.removeProperty("overflow"),e[t].height?i.style.height=e[t].height:i.style.removeProperty("height"))}}},{key:"hexToRgbaStrin",value:function(e,t){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,i,n){return t+t+i+i+n+n}));var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?"rgba(".concat(parseInt(i[1],16),",").concat(parseInt(i[2],16),",").concat(parseInt(i[3],16),",").concat(t,")"):null}},{key:"getFrameForBoxWithMode",value:function(t,i,n){var a=t.width,o=t.height,s=i.width,r=i.height,l=1,c=1,h=1;n?(l=s/a,c=r/o,h=Math.max(l,c)):(l=s/a,c=r/o,h=(h=Math.min(l,c))>1?1:h);var d=Math.round(a*h),p=Math.round(o*h),u=Math.round((s-d)/2),m=Math.round((r-p)/2);return e.Rect(u,m,d,p)}},{key:"getItemFrameByIndexForBox",value:function(t,i,n,a,o,s){var r=1;s&&(r=s);var l=o=Math.min(i,o),c=Math.floor(i/o),h=(l=c>1?(i-(c-1)*n)/c:i)*r,d=Math.ceil((t+1)/c)-1,p=d*(h+a),u=(t-d*c)*(l+n);return e.Rect(u,p,l,h)}},{key:"fadeOut",value:function(e,t,i){i||(i=500);var n=Math.sqrt,a=(new Date).getTime();!function o(){var s=(new Date).getTime()-a,r=s/i;if(r<1){var l=1-n(r);e.style.opacity=String(l),setTimeout(o,Math.min(25,i-s))}else e.style.opacity="0",t&&t()}()}},{key:"ellipsizeTextBoxToLine",value:function(e,t){e.innerHTML=e.textContent||e.innerText||"";var i=e.innerHTML,n=e.innerHTML.split(" ");e.innerHTML=n[0].substring(0,3);var a=e.clientHeight*t;for(e.innerHTML=i;e.clientHeight>a;)n.pop(),e.innerHTML="".concat(n.join(" ")," ...")}},{key:"ellipsizeTextBox",value:function(e){e.innerHTML=e.textContent||e.innerText||"";for(var t=e.innerHTML.split(" ");e.scrollHeight>e.offsetHeight;)t.pop(),e.innerHTML="".concat(t.join(" ")," ...")}},{key:"scrollYpositionForDiv",value:function(e){var t=(window.innerHeight-e.clientHeight)/2;return window.innerHeight-e.getBoundingClientRect().bottom<-e.clientHeight||e.getBoundingClientRect().bottom<0&&e.getBoundingClientRect().top<0?e.getBoundingClientRect().top+window.pageYOffset-t:void 0}},{key:"scrollInElementToY",value:function(e,t){var i;t=Math.min(t,e.scrollHeight-e.clientHeight-1);var n=0;i=setInterval((function(){n=.05*n+.07*(t-e.scrollTop);var a=e.scrollTop;a+=n,e.scrollTop=a,Math.abs(a-t)<=1&&(e.scrollTop=t,clearInterval(i))}),15),document.addEventListener("wheel",(function e(){clearInterval(i),document.removeEventListener("wheel",e,!1)}),!1)}},{key:"scrollWindowToY",value:function(e){var t,i;function n(){clearInterval(t),document.removeEventListener("wheel",n,!1)}var a=window.pageYOffset;e=Math.min(e,document.documentElement.scrollHeight-document.documentElement.clientHeight-1);var o=0,s=.05+.01*Math.abs(e-window.pageYOffset)/1e3;s=Math.min(.9,s),t=setInterval((function(){var r=(e-window.pageYOffset)*s;(r===o||Math.abs(r)<1)&&(window.scrollTo(0,e),clearInterval(t)),o=(e-window.pageYOffset)*s,a+=o,window.scrollTo(0,a),void 0===i&&((i=Math.abs(a-window.pageYOffset)>20)?(window.scrollTo(0,e),clearInterval(t)):document.addEventListener("wheel",n,!1))}),15)}},{key:"scrollToY",value:function(e,t){var i,n=window.pageYOffset,a=Math.PI/(t/15),o=n/2,s=0,r=setInterval((function(){window.pageYOffset>e?(s+=1,i=o-o*Math.cos(s*a),window.scrollTo(0,n-i)):clearInterval(r)}),15)}},{key:"toggleFullScreen",value:function(e){var t=document.webkitIsFullScreen||document.mozFullScreen||!1;e.requestFullScreen=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||function(){return!1},document.cancelFullScreen=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||function(){return!1},t?document.cancelFullScreen():e.requestFullScreen()}},{key:"CacheItemsList",value:function(){var e={};function t(n){!e.itemsList||e.cached===e.itemsList.length&&!e.amount||e.amount&&e.cached>=e.amount||(e.amount&&(e.amount=Math.min(e.amount,e.itemsList.length)),e.currentItem=e.itemsList[n].webView,e.lastIndex=n,void 0===e.currentItem||e.currentItem.complete?(e.cached+=1,t(e.lastIndex+1>=e.itemsList.length?0:e.lastIndex+1)):e.currentItem.addEventListener("load",i,!1))}function i(){e.cached+=1,t(e.lastIndex+1>=e.itemsList.length?0:e.lastIndex+1)}return e.cached=0,e.itemsList=void 0,e.currentItem=void 0,e.amount=void 0,e.lastIndex=void 0,e.init=function(n,a,o){e.currentItem&&e.currentItem.removeEventListener("load",i,!1),e.amount=o,e.cached=0,e.currentItem=void 0,e.lastIndex=a,e.itemsList=n,void 0===a&&(a=0),t(a)},e.status=function(){return{list:e.itemsList,index:e.lastIndex}},e}},{key:"GMEventsManager",value:function(){return{listenerSet:{},addGMEventListener:function(t,i,n){if(!t)return e.trace("********************************* Event UNDEFINED!!! ***************************************"),e.trace(i),e.trace(n),void e.trace("********************************* Event UNDEFINED!!! ***************************************");this.listenerSet[t]||(this.listenerSet[t]=[]);var a={};a.listener=i,a.handler=n,this.listenerSet[t].push(a)},removeGMEventListener:function(e,t,i){if(this.listenerSet[e])for(var n=0;n<this.listenerSet[e].length;n+=1)this.listenerSet[e][n].listener===t&&this.listenerSet[e][n].handler===i&&(this.listenerSet[e].splice(n,1),n=this.listenerSet[e].length)},dispatchGMEvent:function(e){if(this.listenerSet[e.type])for(var t=this.listenerSet[e.type],i=0;i<t.length;i+=1){var n=t[i];n&&n.listener&&"function"==typeof n.listener[n.handler]&&n.listener[n.handler](e)}}}}},{key:"GMEvent",value:function(e,t,i){var n={};return n.type=e,n.params=i,n.target=t,n}},{key:"passiveListener",get:function(){var e=!1;try{var t={get:function(){e=!0}},i=Object.defineProperty({},"passive",t);window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}catch(e){}return!!e&&{passive:!1,capture:!1}}},{key:"Device",get:function(){var e=window,t=e.navigator.userAgent,i={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:e.cordova||e.phonegap,phonegap:e.cordova||e.phonegap,browser:{ie11:!1}},n=t.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),a=t.match(/(Android);?[\s\/]+([\d.]+)?/),o=t.match(/(iPad).*OS\s([\d_]+)/),s=t.match(/(iPod)(.*OS\s([\d_]+))?/),r=!o&&t.match(/(iPhone\sOS|iOS)\s([\d_]+)/);if(n&&(i.os="windows",i.osVersion=n[2],i.windows=!0),a&&!n&&(i.os="android",i.osVersion=a[2],i.android=!0,i.androidChrome=t.toLowerCase().indexOf("chrome")>=0),(o||r||s)&&(i.os="ios",i.ios=!0),r&&!s&&(i.osVersion=r[2].replace(/_/g,"."),i.iphone=!0),o&&(i.osVersion=o[2].replace(/_/g,"."),i.ipad=!0),s&&(i.osVersion=s[3]?s[3].replace(/_/g,"."):null,i.iphone=!0),i.ios&&i.osVersion&&t.indexOf("Version/")>=0&&"10"===i.osVersion.split(".")[0]&&(i.osVersion=t.toLowerCase().split("version/")[1].split(" ")[0]),i.desktop=!(i.os||i.android||i.webView),i.webView=(r||o||s)&&t.match(/.*AppleWebKit(?!.*Safari)/i),i.os&&"ios"===i.os){var l=i.osVersion.split("."),c=document.querySelector('meta[name="viewport"]');i.minimalUi=!i.webView&&(s||r)&&(1*l[0]==7?1*l[1]>=1:1*l[0]>7)&&c&&c.getAttribute("content").indexOf("minimal-ui")>=0}i.pixelRatio=e.devicePixelRatio||1,t.indexOf("Trident/7.0")>-1&&(i.browser.ie11=!0);var h=t.indexOf("Chrome")>-1;i.browser.explorer=t.indexOf("MSIE")>-1,i.browser.firefox=t.indexOf("Firefox")>-1;var d=t.indexOf("Safari")>-1,p=t.toLowerCase().indexOf("op")>-1;return i.browser.opera=p,i.browser.chrome=(!h||!p)&&h,i.browser.safari=(!h||!d)&&d,i}},{key:"isTouchDevice",get:function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}},{key:"isiPpad",get:function(){return 768===window.screen.height&&1024===window.screen.width||1024===window.screen.height&&768===window.screen.width||(1366===window.screen.height&&1024===window.screen.width||1024===window.screen.height&&1366===window.screen.width)}},{key:"getScrollbarWidth",get:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",e.appendChild(i);var n=i.offsetWidth;return e.parentNode.removeChild(e),t-n}},{key:"hasScrollbar",get:function(){var e="BackCompat"===document.compatMode?document.body:document.documentElement;return e.scrollHeight>e.clientHeight}},{key:"miniScreen",get:function(){return window.screen.height<500||window.screen.width<500}},{key:"youTubeCode",get:function(){return'<iframe src="https://www.youtube.com/embed/%id%?autoplay=1&rel=0&showinfo=0&wmode=transparent" allow="autoplay" frameborder="0" allowfullscreen></iframe>'}},{key:"vimeoCode",get:function(){return'<iframe src="https://player.vimeo.com/video/%id%?autoplay=1&byline=0&portrait=0&transparent=0" frameborder=“0” allowfullscreen allow=autoplay></iframe>'}},{key:"pageXOffset",get:function(){return void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft}},{key:"pageYOffset",get:function(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},{key:"isFullscreen",get:function(){return document.webkitIsFullScreen||document.mozFullScreen||!1}}]),e}();t.a=r},function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=c(e);if(t){var a=c(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return l(this,i)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,i,n,l=r(c);function c(){return a(this,c),l.apply(this,arguments)}return t=c,n=[{key:"moduleSettings",value:function(e){return window[e]&&window[e].settings?window[e].settings:null}},{key:"likesSet",value:function(e){return e&&window.localStorage.setItem("fla_likesSet",JSON.stringify(e)),window.localStorage.getItem("fla_likesSet")&&"undefined"!==window.localStorage.getItem("fla_likesSet")?JSON.parse(window.localStorage.getItem("fla_likesSet")):{}}},{key:"timeConverter",value:function(e){var t=new Date(e),i=new Date,n=new Date(Date.now()-864e5),a=t.getFullYear(),o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],s=t.getDate(),r=t.getHours(),l=t.getMinutes();return t.setHours(0,0,0,0)===i.setHours(0,0,0,0)?"Today, ".concat(r,":").concat(l):t.setHours(0,0,0,0)===n.setHours(0,0,0,0)?"Yesterday, ".concat(r,":").concat(l):a===(new Date).getFullYear()?"".concat(s," ").concat(o,", ").concat(a):"".concat(s," ").concat(o," ").concat(a)}},{key:"request",value:function(e,t,i,n){if(window.FlaGallery&&window.FlaGallery.ajaxurl){var a=new XMLHttpRequest;a.open("POST",window.FlaGallery.ajaxurl,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.onreadystatechange=function(){if(4===this.readyState)if(200!==this.status){if(i){var e={};e.error=this.statusText,e.params=n,c.moduleSettings(t.appName).appEventManager.dispatchGMEvent(c.GMEvent(i,t,e))}}else if(i){var a={};a.data=this.responseText,a.params=n,c.moduleSettings(t.appName).appEventManager.dispatchGMEvent(c.GMEvent(i,t,a))}},a.onerror=function(){!0===confirm("Failed to load resource: The network connection was lost. Let's try again?")&&c.request(e,t,i,n)};try{a.send(e),c.moduleSettings(t.appName).appEventManager.dispatchGMEvent(c.GMEvent("REQUEST_START",t,null))}catch(e){c.trace(e)}}}},{key:"Item",value:function(e,t){var i,n={get webView(){return this.webImg.src?n.webImg:(this.webImg.src=this.itemViewSrc,this.webImg)}};if(c.copyProperties(e,n),n.appName=t,n.idPrefix=void 0,n.albums=[],n.categories=[],n.tags=[],n.ID=parseInt(n.pid),n.comment_status="closed",n.title=n.alttext,n.user=void 0,n.ratio=1,n.webImg=new Image,n.webImgFrame=this.Rect(0,0,0,0),n.webImg.addEventListener("load",(function(){this.classList.add("onLoad")}),!1),n.meta=((i={}).data=n.meta_data,i.mime=n.meta_data.webview.mime,i.likes=n.total_votes,i.views=n.hitcounter,i.original={},i.original.width=n.meta_data.width,i.original.height=n.meta_data.height,i.original.link="".concat(n.galleryURL,"/").concat(n.filename),i.thumb={},i.thumb.width=n.meta_data.thumbnail.width,i.thumb.height=n.meta_data.thumbnail.height,i.thumb.link="".concat(n.galleryURL,"/thumbs/thumbs_").concat(n.filename),i.web={},i.web.width=n.meta_data.webview[0],i.web.height=n.meta_data.webview[1],i.web.link="".concat(n.galleryURL,"/webview/").concat(n.filename),i),n.meta.data&&n.meta.data.created_timestamp){var a=n.meta.data.created_timestamp.split(" "),o="-- / --";a.length>0&&(o="".concat(a[0]?a[0]:""," ").concat(a[1]?a[1]:""," ").concat(a[1]?a[2]:"")),n.date=o}if(n.link&&""!==n.link){var s,r,l,h=n.link;h.match(/youtu\.be/i)||h.match(/youtube\.com/i)?(r=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,(l=h.match(r))&&11===l[7].length&&(s=l[7]),void 0!==s&&(n.meta.mime="video/youtube",n.videoId=s,n.link=void 0)):h.match(/vimeo\.com/i)&&(r=/(www\.)?vimeo.com\/(\d+)($|\/)/,(l=h.match(r))&&(s=l[2]),void 0!==s&&(n.meta.mime="video/vimeo",n.videoId=s,n.link=void 0))}return n.mime_type=n.meta.mime,"audio/mpeg"===n.mime_type&&(n.type="audio"),"image"===n.mime_type.split("/")[0]&&(n.type="image"),"video"===n.mime_type.split("/")[0]&&(n.type="video"),n.hasTag=function(e){if("all"===e)return!0;if(!n.tags||0===n.tags.length)return!1;for(var t=0;t<n.tags.length;t+=1)if(n.tags[t].term_id===e)return!0;return!1},n.itemViewSrc=n.meta?n.meta.web&&"gif"!==n.mime_type.split("/")[1]?encodeURI(n.meta.web.link):n.meta.original?encodeURI(n.meta.original.link):null:null,"image"===n.type&&n.meta.original&&n.meta.original.link&&(n.url=encodeURI(n.meta.original.link)),n.sharelink=n.itemViewSrc,n.share_link=n.itemViewSrc,n.itemViewThumbSrc=n.meta?n.meta.thumb?encodeURI(n.meta.thumb.link):n.meta.web?encodeURI(n.meta.web.link):null:null,n.itemViewSize=n.meta?n.meta.web?c.Size(n.meta.web.width,n.meta.web.height):n.meta.original?c.Size(n.meta.original.width,n.meta.original.height):c.Size(300,300):c.Size(300,300),n.itemViewThumbSize=n.meta?n.meta.thumb?c.Size(n.meta.thumb.width,n.meta.thumb.height):n.meta.web?c.Size(n.meta.web.width,n.meta.web.height):c.Size(300,300):c.Size(300,300),n.ratio=n.itemViewSize.height/n.itemViewSize.width,n}},{key:"Term",value:function(e,t){var i={get count(){return this.itemsList.length},get title(){if(this.gallery.title)return this.gallery.title},get description(){if(this.gallery.galdesc)return this.gallery.galdesc},get name(){if(this.gallery.title)return this.gallery.title},get term_id(){if(this.gallery.gid)return this.gallery.gid},get sharelink(){if(c.moduleSettings(t).post_url)return c.moduleSettings(t).post_url},get thumbnail(){if(this.itemsList.length>0)return this.itemsList[0].itemViewSrc}};if(c.copyProperties(e,i),i.taxony_type="gallery",i.appName=t,i.taxonomy="albums",i.itemsList=[],i.user=void 0,i.data&&i.data.length>0)for(var n=0;n<i.data.length;n+=1){i.data[n].galleryURL=i.gallery.path;var a=c.Item(i.data[n],t);a.tags.push({name:i.name,term_id:i.term_id}),a.index=n,i.itemsList.push(a)}if(i.user=void 0,!i.meta){var o=c.Meta({},i.appName);o._cover=i.itemsList[0]?i.itemsList[0]:void 0,i.meta=o}return i}},{key:"Meta",value:function(e,t){var i={get cover(){return i._cover?i._cover:null}};return c.copyProperties(e,i),i.appName=t,i._cover&&(i._cover=c.Item(e._cover,t)),i}}],(i=null)&&o(t.prototype,i),n&&o(t,n),c}(i(0).a);t.a=h},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a}));var n={TERMS_DATA_REDY:"TERMS_DATA_REDY",REQUEST_START:"REQUEST_START",COLLECTION_DATA_REDY:"COLLECTION_DATA_REDY",COUNTERS_UPDATED:"COUNTERS_UPDATED",ITEM_ACTION:"ITEM_ACTION",NEED_MODAL:"NEED_MODAL",NEED_LIGHTBOX:"NEED_LIGHTBOX",REMOVE_LIGHTBOX:"REMOVE_LIGHTBOX",NEED_NEW_COLLECTION:"NEED_NEW_COLLECTION",NEED_PREV_COLLECTION:"NEED_PREV_COLLECTION",NEED_NEW_COLLECTION_BY_TERM:"NEED_NEW_COLLECTION_BY_TERM",FULLSCREEN_SWITCH:"FULLSCREEN_SWITCH"},a={PAGINATION_AMOUNT:20}},function(e,t,i){"use strict";var n,a=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},o=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),s=[];function r(e){for(var t=-1,i=0;i<s.length;i++)if(s[i].identifier===e){t=i;break}return t}function l(e,t){for(var i={},n=[],a=0;a<e.length;a++){var o=e[a],l=t.base?o[0]+t.base:o[0],c=i[l]||0,h="".concat(l," ").concat(c);i[l]=c+1;var d=r(h),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(s[d].references++,s[d].updater(p)):s.push({identifier:h,updater:g(p,t),references:1}),n.push(h)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var a=i.nc;a&&(n.nonce=a)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var s=o(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var h,d=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join("\n")});function p(e,t,i,n){var a=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,a);else{var o=document.createTextNode(a),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function u(e,t,i){var n=i.css,a=i.media,o=i.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var m=null,v=0;function g(e,t){var i,n,a;if(t.singleton){var o=v++;i=m||(m=c(t)),n=p.bind(null,i,o,!1),a=p.bind(null,i,o,!0)}else i=c(t),n=u.bind(null,i,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=a());var i=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<i.length;n++){var a=r(i[n]);s[a].references--}for(var o=l(e,t),c=0;c<i.length;c++){var h=r(i[c]);0===s[h].references&&(s[h].updater(),s.splice(h,1))}i=o}}}},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var a=(s=n,r=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(l," */")),o=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[i].concat(o).concat([a]).join("\n")}var s,r,l;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(n)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(a[s]=!0)}for(var r=0;r<e.length;r++){var l=[].concat(e[r]);n&&a[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}},function(e,t,i){"use strict";var n=i(6),a=i(0),o=i(7),s=i(13),r=i.n(s);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,i){return t&&c(e.prototype,t),i&&c(e,i),e}var d=a.a.trace,p=function(){function e(t,i,n){l(this,e),this.config=e.CONFIG,Object.assign(this.config,t),this.context=n,this.appSet=i,this.view=document.createElement("div"),this.view.classList.add("".concat(e.classPref,"simple-border")),this.view.style.padding="".concat(this.config.thumb_spasing/2,"px"),this.wrap_main=document.createElement("div"),this.wrap_main.className="".concat(e.classPref,"main-wrap"),this.view.appendChild(this.wrap_main),this.wrap_item=document.createElement("div"),this.wrap_item.className="".concat(e.classPref,"item-wrap"),this.wrap_main.appendChild(this.wrap_item),this.hover=document.createElement("div"),this.hover.className="".concat(e.classPref,"item-hover"),this.inner=document.createElement("div"),this.inner.className="".concat(e.classPref,"item-inner"),this.imgCompleted=!1,this.isSelect=!1,this.opacityDelay=void 0,this.displayPr=void 0,this.opacityPr=0,this.inited=!1}return h(e,null,[{key:"EVENT",get:function(){return{THUMB_ACTION:"THUMB_ACTION"}}},{key:"classPref",get:function(){var e=r.a.classPrefThumb;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"CONFIG",get:function(){return{thumb_spasing:10,thumb_coverHieghtRation:1,thumb_loading_lazy:!1,thumb_border_color:"white",thumb_hover_color:"rgba(0,0,0,0.5)"}}}]),h(e,[{key:"init",value:function(e){if(!this.inited){this.item=e;var t=this;this.type=e.type,e.itemViewThumbSrc||e.itemViewSrc||e.poster?(this.img=new Image,this.img.style.width="".concat(e.poster?e.poster.thumbnail.width:e.itemViewThumbSize.width,"px"),this.img.style.height="".concat(e.poster?e.poster.thumbnail.height:e.itemViewThumbSize.height,"px"),this.config.thumb_loading_lazy&&this.img.setAttribute("loading","lazy"),this.img.onload=function(){e.title&&this.setAttribute("alt",e.title),t.imgCompleted=!0,t.view.style.opacity=t.opacityPr},this.img.onerror=function(){t.view.classList.add("pgc-rev-error"),e.errorStatus=!0},this.wrap_item.appendChild(this.img),this.img.src=e.poster?e.poster.thumbnail.url:e.itemViewThumbSrc):this.view.style.opacity=this.opacityPr,this.wrap_item.appendChild(this.hover),this.wrap_item.appendChild(this.inner),this.initSubContent(),this.initInteractive(),this.inited=!0}}},{key:"initSubContent",value:function(){this.type=this.item.type;var t=this.item;if("video"===this.type)if(t.mime_type);else if(!t.poster){this.videoContent=a.a.mediaEl("video"),this.imgSubstitute=!0,this.videoContent.className="".concat(e.classPref,"video-content");var i=t.original;t.poster&&t.poster.medium?this.videoContent.setAttribute("poster",t.poster.medium.url):a.a.Device.browser.safari&&a.a.isTouchDevice&&(i+="#t=0.001"),this.videoContent.src=i,this.wrap_item.insertBefore(this.videoContent,this.wrap_item.firstChild)}this.hover.classList.add("".concat(e.classPref,"hover")),this.hover.style.backgroundColor=this.config.thumb_hover_color}},{key:"initInteractive",value:function(){var t=this;function i(e){switch(e.type){case"mouseenter":this.classList.add("hover"),t.hoverAnim(!0);break;case"mouseleave":!1===t.isSelect&&t.hoverAnim(!1),this.classList.remove("hover")}}this.view.addEventListener("click",(function(){t.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENT.THUMB_ACTION,t,{index:t.index}))})),this.view.addEventListener("mouseenter",i,!1),this.view.addEventListener("mouseleave",i,!1)}},{key:"updateSize",value:function(e){var t=Math.round(e*this.config.thumb_coverHieghtRation);this.thumbSize=a.a.Size(e,t),this.view.style.width="".concat(this.thumbSize.width,"px"),this.view.style.height="".concat(this.thumbSize.height,"px")}},{key:"hoverAnim",value:function(e){this.inner.style.border=e?"solid 2px ".concat(this.config.thumb_border_color):null}},{key:"x",set:function(e){this.view.style.left="".concat(e,"px")}},{key:"y",set:function(e){this.view.style.top="".concat(e,"px")}},{key:"select",set:function(e){e?(this.view.classList.add("pgc-select"),this.hoverAnim(!0)):(this.view.classList.remove("pgc-select"),this.hoverAnim(!1)),this.isSelect=e}},{key:"visibility",set:function(e){this.view.style.visibility=e}},{key:"display",set:function(e){"none"===e&&clearTimeout(this.opacityDelay),this.view.style.display=e,this.displayPr=e},get:function(){return this.displayPr}},{key:"opacity",set:function(e){var t=this;e.delay?this.opacityDelay=setTimeout((function(){(t.imgCompleted||t.imgSubstitute)&&(t.view.style.opacity=e.opacity),t.opacityPr=e.opacity}),e.delay):(clearTimeout(this.opacityDelay),(t.imgCompleted||t.imgSubstitute)&&(t.view.style.opacity=e.opacity),t.opacityPr=e.opacity)}}]),e}(),u=function(){function e(t,i,n){l(this,e),this.context="ItemsScrollBarPagination",this.config=e.CONFIG,a.a.copyProperties(i,this.config),this.appName=t.appName,this.appSet=t,this.thumbsList=[],this.presentedList=[],this.thumbSize=a.a.Size(Math.round(this.config.isb_height/this.config.isb_thum_ration),this.config.isb_height),this.activatedPages={},this.maxWidth=0,this.width=1,this.scrollLeft=0,this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"view"),this.sliderContent=document.createElement("div"),this.sliderContent.className="".concat(e.classPref,"slider-content-view");var s=o.a.CONFIG;s.scrh_dragin=!0,s.scrh_block_pan_y=this.config.isb_block_pan_y;this.scroller=new o.a(this.appSet,s,{}),this.appSet.appEventManager.addGMEventListener(o.a.EVENTS.SCR_SCROLL,this,"scrollHandler"),this.view.appendChild(this.scroller.view),this.activIndex=void 0,this.activAudioIndex=void 0,n&&a.a.setStyleForElFomObj(this.view,n),this.appSet.appEventManager.addGMEventListener(p.EVENT.THUMB_ACTION,this,"thumbActionHandler")}return h(e,null,[{key:"classPref",get:function(){var e=r.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"CONFIG",get:function(){return{isb_itemBgColor:"rgba(255,255,255,0.6)",isb_height:50,isb_thum_ration:.85,isb_block_pan_y:!1}}},{key:"EVENTS",get:function(){return{ITEMS_SCROLL_BAR_ITEM_ACTION:"ITEMS_SCROLL_BAR_ITEM_ACTION"}}}]),h(e,[{key:"initByItemslist",value:function(e){this.itemsList=e;var t=p.CONFIG;t.thumb_coverHieghtRation=this.config.isb_thum_ration,t.thumb_loading_lazy=!0,t.thumb_spasing=4,t.thumb_border_color=this.config.isb_itemBgColor;for(var i=0;i<e.length;i+=1){var n=e[i],a=new p(t,this.appSet,this.context);a.index=i,a.init(n),this.thumbsList.push(a)}this.sliderContent.style.width="".concat(this.thumbsList.length*this.thumbSize.width,"px"),this.sliderContent.style.height="".concat(this.thumbSize.height,"px"),this.scroller.initByScrollView(this.sliderContent)}},{key:"scrollHandler",value:function(e){if(e.target===this.scroller){var t=e.params,i=t.scroll,n=t.scrollDirection;this.scrollLeft=i,this.addPage(Math.ceil(this.scrollLeft/this.width)-(n<0?1:0))}}},{key:"thumbActionHandler",value:function(t){if(t.target.context===this.context){var i=t.params.index;this.scroller.draging||void 0===i||this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.ITEMS_SCROLL_BAR_ITEM_ACTION,this,{action:"click",index:parseInt(i)}))}}},{key:"addPage",value:function(e){if(!this.activatedPages["".concat(e)]){for(var t=Math.min(e*this.itemsOnPage+this.itemsOnPage,this.thumbsList.length),i=Math.max(t-this.itemsOnPage,0);i<t;i+=1){var n=this.thumbsList[i];n.updateSize(this.thumbSize.width),n.x=i*this.thumbSize.width,n.y=0,n.display="block",n.opacity={opacity:1},this.presentedList[i]=n,this.sliderContent.appendChild(n.view)}this.activatedPages["".concat(e)]=!0}}},{key:"selectThumbByIndex",value:function(e){if(0!==this.thumbsList.length){void 0!==this.activIndex&&(this.thumbsList[this.activIndex].select=!1),this.thumbsList[e].select=!0;var t=this.pageByItemIndex(e),i=e*this.thumbSize.width,n=Math.ceil(this.scrollLeft/this.thumbSize.width),a=Math.floor((this.scrollLeft+this.width-this.thumbSize.width)/this.thumbSize.width);if(e<n||e>a){var o;i<this.scrollLeft?o=i:i+this.thumbSize.width-this.width>0&&(o=i+this.thumbSize.width-this.width);var s=Math.ceil(o/this.thumbSize.width),r=Math.floor((o+this.width-this.thumbSize.width)/this.thumbSize.width),l=this.pageByItemIndex(s);l!==t&&this.addPage(l);var c=this.pageByItemIndex(r);c!==t&&this.addPage(c),Math.abs(this.scrollLeft-o)>this.width?this.scroller.scrollLeft=o:this.scroller.scrollLeftAnime=o}this.addPage(t),this.activIndex=e}}},{key:"pageByItemIndex",value:function(e){return Math.floor(e/this.itemsOnPage)}},{key:"resizeHandler",value:function(){this.updateView()}},{key:"updateView",value:function(){d("Update View")}},{key:"prepareToRemove",value:function(){this.appSet.appEventManager.removeGMEventListener(o.a.EVENTS.SCR_ACTION,this,"scrollHandler"),this.scroller.remove(),this.appSet.appEventManager.removeGMEventListener(p.EVENT.THUMB_ACTION,this,"thumbActionHandler")}},{key:"size",set:function(e){var t=Math.floor(e.width/this.thumbSize.width);this.view.style.maxWidth="".concat(t*this.thumbSize.width,"px"),this.itemsOnPage!==t&&(this.itemsOnPage=t,this.width=Math.min(this.itemsOnPage,this.thumbsList.length)*this.thumbSize.width,this.view.style.width="".concat(this.width,"px"),this.view.style.maxWidth=null,this.activatedPages={},this.maxWidth=e.width,void 0!==this.activIndex&&this.addPage(this.pageByItemIndex(this.activIndex)))}}]),e}(),m=i(11),v=i.n(m);function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t,i){return t&&f(e.prototype,t),i&&f(e,i),e}a.a.trace;var b=function(){function e(t){g(this,e);var i=document.createElement("div"),n=document.createElement("div");n.className="".concat(e.classPref,"view");var a=document.createElement("div");if(a.className="".concat(e.classPref,"button"),a.innerHTML=t.link_text?t.link_text:t.title,n.appendChild(a),t.price){var o=document.createElement("div"),s=document.createElement("div");s.className="".concat(e.classPref,"price"),s.innerHTML=t.price,o.appendChild(s),n.appendChild(o)}return i.appendChild(n),i}return w(e,null,[{key:"classPref",get:function(){var e=v.a.classPrefPostInformer;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}}]),e}(),y=function e(t){g(this,e);var i=document.createElement("div"),n=document.createElement("div");return n.className="icon-holder",n.innerHTML=t,i.appendChild(n),i},C=function(){function e(t){g(this,e),this.delegate=t,this.item=void 0,this.id=void 0,this.appName=t.appName,this.itemIndex=void 0,this.iconSet=t.iconSet,this.positionIndex=0,this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"view"),this.itemInner=document.createElement("div"),this.itemInner.className="".concat(e.classPref,"inner"),this.view.appendChild(this.itemInner),this.preloader=a.a.createPreloaderView(this.delegate.config.sl_preloaderColor),this.preloader.style.display="none",this.view.appendChild(this.preloader),this.subContentHolder=document.createElement("div"),this.subContentHolder.className="".concat(e.classPref,"sub-content-holder"),this.view.appendChild(this.subContentHolder),this.videoContent=!1,this.isEmbedContent=!1,this.size=a.a.Size(0,0),this.imgSize=a.a.Size(0,0),this.imageFramePr=a.a.Rect(0,0,0,0),this.imageFrameFF=a.a.Rect(0,0,0,0),this.imageScaledFF=!1,this.width=0,this.height=0,this.maxXoffset=0,this.maxYoffset=0,this.MaxScale=4,this.imgScale=1,this.imgScaleFF=1,this.scale=1,this.newScale=1,this.newScaleMW=1,this.viewTranslatePr=a.a.Point(0,0),this.origin=a.a.Point(0,0),this.boundingBox=void 0,this.boundingBoxScale=void 0,this.animaSliderRender=void 0,this.speedX=0,this.speedY=0,this.oldX=0,this.newX=0,this.oldY=0,this.newY=0,this.draging=!1,this.isBlockDraging=!1,this.isBlockDragingMem=!1,this.startScale=void 0,this.startGlobalPoint=void 0,this.startDistForZoom=void 0}return w(e,null,[{key:"classPref",get:function(){var e=v.a.classPrefPage;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}}]),w(e,[{key:"overLoadHandler",value:function(){var e=this;return this.overLoadH||(this.overLoadH=function(){e.preloader.style.display="none",e.subContentHolder.style.display=null,e.imgSize.width=this.naturalWidth,e.imgSize.height=this.naturalHeight,e.item.videoId&&e.imgSize.width<1e3&&(e.imgSize.width*=1.5,e.imgSize.height*=1.5),e.isInScale&&e.normalize(),e.fit(!1)}),this.overLoadH}},{key:"initByItem",value:function(t){if(this.fadePrep(),this.id!==t.ID){if(this.item=t,this.id=t.ID,1!==this.scale&&(this.scale=1,this.viewTranslate=a.a.Point(0,0)),this.itemInner.innerHTML="",this.subContentHolder.innerHTML="",delete this.videoContent,delete this.audioContent,this.itemImg&&this.itemImg.removeEventListener("load",this.overLoadHandler(),!1),t.webView)if("video"!==t.type||t.mime_type)if("audio"===t.type&&t.poster){this.item.webImgFrame=a.a.Rect(0,0,0,0),this.imgSize.width=300,this.imgSize.height=300,this.itemImg=document.createElement("div"),this.itemImg.className="".concat(e.classPref,"place-holder");var i=new Image;i.className="".concat(e.classPref,"item-poster"),i.src=t.poster.medium.url,i.onload=function(){this.classList.add("onLoad")},this.itemImg.appendChild(i),this.itemInner.appendChild(this.itemImg)}else this.itemImg=t.webView,this.itemInner.appendChild(this.itemImg),this.delegate.config.sl_copyR_Proptection&&this.itemImg.classList.add("iph-protect"),t.webView.complete?(this.preloader.style.display="none",this.imgSize.width=this.itemImg.naturalWidth,this.imgSize.height=this.itemImg.naturalHeight,t.videoId&&this.imgSize.width<1e3&&(this.imgSize.width*=1.5,this.imgSize.height*=1.5)):(this.imgSize=this.item.itemViewSize,t.videoId&&this.imgSize.width<1e3&&(this.imgSize.width*=1.5,this.imgSize.height*=1.5),this.subContentHolder.style.display="none",this.preloader.style.display="block",this.itemImg.addEventListener("load",this.overLoadHandler(),!1));else this.item.webImgFrame=a.a.Rect(0,0,0,0),this.imgSize.width=400,this.imgSize.height=400,this.itemImg=document.createElement("div"),this.itemImg.className="".concat(e.classPref,"place-holder"),this.itemInner.appendChild(this.itemImg);else this.item.webImgFrame=a.a.Rect(0,0,0,0),this.imgSize.width=400,this.imgSize.height=400,this.itemImg=document.createElement("div"),this.itemImg.className="".concat(e.classPref,"place-holder"),"video"===t.type||t.mime_type||this.itemImg.classList.add("bg-mode"),this.itemInner.appendChild(this.itemImg);switch("video"!==t.type||t.mime_type||this.addVideo(t.original),this.isInScale&&this.normalize(),this.fit(!1),t.type){case"audio":this.view.classList.add("info-icon"),this.audioContent=a.a.mediaEl("audio"),this.audioContent.setAttribute("controls",""),this.audioContent.className="lb-audio-content",this.subContentHolder.childNodes.length?this.subContentHolder.replaceChild(this.audioContent,this.subContentHolder.firstChild):this.subContentHolder.appendChild(this.audioContent),this.audioContent.src=t.original;break;case"video":this.view.classList.add("info-icon"),this.subContentHolder.innerHTML=new y(this.iconSet.PLAY_SVG).innerHTML,this.subContentHolder.getElementsByTagName("svg")[0].style.marginLeft="7px";break;case"post":case"page":case"product":this.view.classList.add("info-icon"),this.subContentHolder.innerHTML=new b(this.item).innerHTML;break;default:this.view.classList.remove("info-icon")}}}},{key:"addVideo",value:function(t){var i=this;this.preloader.style.display="block",this.item.webView?(this.imgSize.width=this.item.webImgFrame.width,this.imgSize.height=this.item.webImgFrame.height):(this.item.webImgFrame=a.a.Rect(0,0,0,0),this.imgSize.width=1e3,this.imgSize.height=this.imgSize.width/(16/9)),this.itemImg.parentNode&&this.itemImg.parentNode.removeChild(this.itemImg),this.itemImg=document.createElement("div"),this.itemImg.className="".concat(e.classPref,"place-holder"),this.videoContent=a.a.mediaEl("video"),this.videoContent.className="lb-video-content",this.itemImg.appendChild(this.videoContent),this.videoContent.addEventListener("loadedmetadata",(function(){i.preloader.style.display="none",this.videoWidth&&this.videoHeight&&(i.imgSize.width=this.videoWidth,i.imgSize.height=this.videoHeight,i.isInScale&&i.normalize(),i.fit(!1))})),this.videoContent.src=t+(a.a.Device.browser.safari&&a.a.isTouchDevice?"#t=0.001":""),this.itemInner.appendChild(this.itemImg)}},{key:"resize",value:function(e){this.size=e,this.posX=this.positionIndex,this.isInScale&&this.normalize(),this.fit(!0)}},{key:"fit",value:function(){if(this.itemImg){var e=this.delegate.config.sl_xOffset,t=0,i=a.a.getFrameForBoxWithMode(this.imgSize,a.a.Size(this.size.width-2*e,this.size.height-2*t),!1,!1);i.x+=e,i.y+=t,this.imageFrameFF=i,t=this.delegate.config.sl_yOffset,(i=a.a.getFrameForBoxWithMode(this.imgSize,a.a.Size(this.size.width-2*e,this.size.height-2*t),!1,!1)).x+=e,i.y+=t,this.imageFrameNF=i,this.imgScale=Math.min(this.imgSize.width/i.width,this.MaxScale),this.imgScaleFF=this.imageFrameFF.height/i.height,"image"!==this.item.type&&"video"!==this.item.type&&"audio"!==this.item.type||(this.delegate.FF_Mode?(this.imageFrame=this.imageFrameFF,i=this.imageFrameFF,this.imageScaledFF=!0):(this.imageFrame=this.imageFrameNF,i=this.imageFrameNF,this.imageScaledFF=!1)),this.item.webImgFrame.x!==i.x||this.item.webImgFrame.y!==i.y||this.item.webImgFrame.width!==i.width||this.item.webImgFrame.height!==i.height?(this.imageFrame=i,this.item.webImgFrame=i):this.imageFramePr=i,this.subContentFrame=i}}},{key:"checkOffset",value:function(e,t){var i=this.imageScaledFF?this.imageFrameFF:this.imageFrame;if(t!==this.boundingBoxScale){var n=i.width*(t||1),o=i.height*(t||1),s=i.x*(t||1),r=i.y*(t||1);this.boundingBox={left:n>this.size.width?-s:(this.size.width-this.size.width*t)/2,top:o>this.size.height?-r:(this.size.height-this.size.height*t)/2,right:n>this.size.width?this.size.width-(s+n):(this.size.width-this.size.width*t)/2,bottom:o>this.size.height?this.size.height-(r+o):(this.size.height-this.size.height*t)/2},this.boundingBoxScale=t}var l=e.x>this.boundingBox.left?this.boundingBox.left:e.x;l=l<this.boundingBox.right?this.boundingBox.right:l;var c=e.y>this.boundingBox.top?this.boundingBox.top:e.y;return c=c<this.boundingBox.bottom?this.boundingBox.bottom:c,a.a.Point(l,c)}},{key:"isPointInItem",value:function(e){var t=this.viewTranslate.x+this.size.width/2*this.newScale-this.imageFrame.width/2*this.newScale,i=t+this.imageFrame.width*this.newScale,n=this.size.height/2*this.newScale+this.viewTranslate.y-this.imageFrame.height/2*this.newScale*this.newScale,a=n+this.imageFrame.height*this.scale*this.newScale;return e.x>t&&e.x<i&&e.y>n&&e.y<a}},{key:"normalize",value:function(e){a.a.cancelAnimationFrame(this.animaSliderRender),e?this.renderTransformTo(a.a.Point(0,0),1):(this.scale=1,this.newScale=1,this.newScaleMW=1,this.viewTranslate=a.a.Point(0,0),this.origin=a.a.Point(0,0))}},{key:"zoomIn",value:function(e,t){if("image"===this.item.type){a.a.cancelAnimationFrame(this.animaSliderRender);var i=t.x-this.viewTranslate.x,n=t.y-this.viewTranslate.y,o=i/this.scale,s=n/this.scale,r=t.x-o*e,l=t.y-s*e,c=a.a.Point(r,l);this.renderTransformTo(this.checkOffset(c,e),e)}}},{key:"zoomByScaleIter",value:function(e,t){if("image"===this.item.type){var i=e<0?1.065:.935;a.a.cancelAnimationFrame(this.animaSliderRender),this.newScale*i>this.MaxScale&&(i=this.MaxScale/this.newScale),this.newScale*i<1&&(i=1/this.newScale),this.newScale*=i,this.origin=a.a.Point(t.x-i*(t.x-this.origin.x),t.y-i*(t.y-this.origin.y)),this.renderTransformTo(this.checkOffset(this.origin,this.newScale),this.newScale)}}},{key:"zoomByScaleDeltaToPoint",value:function(e,t){if("image"===this.item.type){var i;a.a.cancelAnimationFrame(this.animaSliderRender);var n=e/this.startDistForZoom,o=0;(i=this.startDistForZoom/this.startScale*n/(this.startDistForZoom/this.startScale)*this.startScale)>this.MaxScale&&(o=.8*-(i-this.MaxScale)),i+=o;var s=this.startGlobalPoint.x-this.startTranslate.x,r=this.startGlobalPoint.y-this.startTranslate.y,l=s/this.newScale,c=r/this.newScale,h=this.startGlobalPoint.x-l*i,d=this.startGlobalPoint.y-c*i,p=a.a.Point(h-t.x,d-t.y);this.scale=i,this.newScale=i,this.viewTranslate=p,this.startTranslate=a.a.Point(h,d)}}},{key:"renderTransformTo",value:function(e,t){var i=this;a.a.cancelAnimationFrame(i.animaSliderRender),this.origin=e,this.newScale=t;var n=0,o=0,s=0;i.animaSliderRender=a.a.requestAnimationFrame((function r(){n=.05*n+.1*(e.x-i.viewTranslate.x),o=.05*o+.1*(e.y-i.viewTranslate.y),t&&(s=.05*s+.1*(t-i.scale));var l=i.viewTranslate.x;l+=n;var c=i.viewTranslate.y;c+=o,t&&(i.scale+=s),i.viewTranslate=a.a.Point(l,c),Math.abs(n)<.02&&Math.abs(o)<.02&&Math.abs(s)<.02?(a.a.cancelAnimationFrame(i.animaSliderRender),t&&(i.scale=t),i.viewTranslate=a.a.Point(e.x,e.y)):i.animaSliderRender=a.a.requestAnimationFrame(r)}))}},{key:"renderGlidingTransform",value:function(){var e=this;a.a.cancelAnimationFrame(e.animaSliderRender);var t=.95,i=.95;e.animaSliderRender=a.a.requestAnimationFrame((function n(){e.speedX*=t,e.speedY*=i;var o=e.viewTranslate.x;o+=e.speedX;var s=e.viewTranslate.y;if(s+=e.speedY,o>e.boundingBox.left||o<e.boundingBox.right){e.speedX*=-1;var r=o<e.boundingBox.right?e.boundingBox.right:o;o=o>e.boundingBox.left?e.boundingBox.left:r,o+=e.speedX,t=.75}if(s>e.boundingBox.top||s<e.boundingBox.bottom){e.speedY*=-1;var l=s<e.boundingBox.bottom?e.boundingBox.bottom:s;s=s>e.boundingBox.top?e.boundingBox.top:l,s+=e.speedY,i=.75}e.origin=a.a.Point(o,s),e.viewTranslate=a.a.Point(o,s),Math.abs(e.speedX)<.02&&Math.abs(e.speedY)<.02?(a.a.cancelAnimationFrame(e.animaSliderRender),e.speedX=0,e.speedY=0):e.animaSliderRender=a.a.requestAnimationFrame(n)}))}},{key:"renderStretchstretchTransform",value:function(){var e=this;a.a.cancelAnimationFrame(e.animaSliderRender);var t=this.checkOffset(a.a.Point(e.viewTranslate.x+e.speedX,e.viewTranslate.y+e.speedY),e.scale),i=0,n=0;e.animaSliderRender=a.a.requestAnimationFrame((function o(){i=.2*i+.15*(t.x-e.viewTranslate.x),n=.2*n+.15*(t.y-e.viewTranslate.y);var s=e.viewTranslate.x+i,r=e.viewTranslate.y+n;e.viewTranslate=a.a.Point(s,r),Math.abs(i)<.02&&Math.abs(n)<.02?(a.a.cancelAnimationFrame(e.animaSliderRender),e.viewTranslate=t):e.animaSliderRender=a.a.requestAnimationFrame(o)}))}},{key:"startDrag",value:function(e,t){a.a.cancelAnimationFrame(this.animaSliderRender),"image"===this.item.type&&(this.startDistForZoom=t,this.startGlobalPoint=e,this.startTranslate=this.viewTranslate,this.speedX=0,this.speedY=0,this.newX=this.viewTranslate.x,this.newY=this.viewTranslate.y,this.startScale=this.scale)}},{key:"stopDrag",value:function(){if("image"===this.item.type){if(this.isInScale)if(this.scale<1)this.normalize(!0);else if(this.scale>this.MaxScale)this.zoomIn(this.MaxScale,this.startGlobalPoint);else{var e=this.checkOffset(this.origin,this.newScale);this.isBlockDraging=e.x!==this.origin.x||e.y!==this.origin.y,this.isBlockDraging&&this.renderStretchstretchTransform()}this.draging&&(this.isBlockDraging?this.renderStretchstretchTransform():this.renderGlidingTransform(),this.draging=!1)}}},{key:"dragin",value:function(e){if("image"!==this.item.type)return!1;var t=this.startTranslate.x-e.x,i=this.startTranslate.y-e.y,n=this.checkOffset(a.a.Point(t,i),this.newScale);this.isBlockDraging=n.x!==t||n.y!==i,t-=.7*(t-n.x),i-=.7*(i-n.y);return this.oldX=this.newX,this.newX=t,this.speedX=.7*(this.newX-this.oldX),this.oldY=this.newY,this.newY=i,this.speedY=.7*(this.newY-this.oldY),this.origin=a.a.Point(t,i),this.viewTranslate=a.a.Point(t,i),this.draging=!0,!0}},{key:"action",value:function(e,t){if(this.item)switch(e){case"click":if("video"===this.item.type){if(this.videoContent){if(!1===this.videoContent.controls&&(this.view.classList.add("video-play"),this.view.classList.remove("info-icon"),this.delegate.videoVolume&&(this.videoContent.volume=this.delegate.videoVolume),this.videoContent.controls=!0,t||this.videoContent.play()),t&&"space"===t){if(!this.videoContent.paused)return void this.videoContent.pause();this.videoContent.play()}return this.videoContent.paused?"videoStop":"videoPlay"}if(this.item.mime_type)return this.isEmbedContent?(this.removeEmbedVideoContent(),"videoStop"):(this.addEmbedVideoContent(),"videoPlay")}if("audio"===this.item.type&&this.audioContent)return this.audioContent.paused?(this.audioContent.setAttribute("controls",""),this.audioContent.play(),"audioPlay"):(this.audioContent.pause(),this.audioContent.removeAttribute("controls"),"audioStop");if("post"===this.item.type||"page"===this.item.type||"product"===this.item.type)return"linkAction";break;case"removeSubContent":if("video"===this.item.type)return this.videoContent?(this.view.classList.remove("video-play"),this.view.classList.add("info-icon"),this.videoContent.pause(),this.videoContent.currentTime=0,this.videoContent.controls=!1,0!==this.videoContent.played.length&&(this.delegate.videoVolume=this.videoContent.volume)):this.removeEmbedVideoContent(),"videoStop";this.audioContent&&(this.audioContent.pause(),this.audioContent.currentTime=0);break;default:return}}},{key:"addEmbedVideoContent",value:function(){if(this.item.mime_type){var e=this.item.mime_type.split("/")[1];if(!e)return;switch(this.view.classList.add("video-play"),e){case"youtube":this.subContentHolder.innerHTML=a.a.youTubeCode.replace("%id%",this.item.videoId);break;case"vimeo":this.subContentHolder.innerHTML=a.a.vimeoCode.replace("%id%",this.item.videoId)}this.isEmbedContent=!0}}},{key:"removeEmbedVideoContent",value:function(){this.isEmbedContent&&(this.subContentHolder.innerHTML=new y(this.iconSet.PLAY_SVG).innerHTML,this.subContentHolder.getElementsByTagName("svg")[0].style.marginLeft="7px",this.isEmbedContent=!1,this.view.classList.remove("video-play"),this.view.classList.add("info-icon"))}},{key:"fadePrep",value:function(){this.itemInner.style.animationName=null}},{key:"fadeIn",value:function(){var e=this;this.itemInner.style.animationName="pgc-rev-fade-in",this.fadeAnimClear=setTimeout((function(){e.fadePrep()}),600)}},{key:"posX",set:function(e){this.view.style.left="".concat(this.size.width*e,"px"),this.positionIndex=e}},{key:"imageFrame",set:function(e){this.itemImg.style.left="".concat(e.x,"px"),this.itemImg.style.top="".concat(e.y,"px"),this.itemImg.style.width="".concat(e.width,"px"),this.itemImg.style.height="".concat(e.height,"px"),this.imageFramePr=e},get:function(){return this.imageFramePr}},{key:"subContentFrame",set:function(e){this.subContentHolder.style.left="".concat(e.x,"px"),this.subContentHolder.style.top="".concat(e.y,"px"),this.subContentHolder.style.width="".concat(e.width,"px"),this.subContentHolder.style.height="".concat(e.height,"px")}},{key:"isInScale",get:function(){return 1!==this.newScale||0!==this.origin.x||0!==this.origin.y}},{key:"viewTranslate",set:function(e){this.viewTranslatePr=e,this.itemInner.style.transform="matrix(".concat(this.scale,", 0, 0, \n        ").concat(this.scale,", ").concat(e.x,", ").concat(e.y,")")},get:function(){return this.viewTranslatePr}}]),e}(),x=function(){function e(t,i){g(this,e),this.iconSet=e.ICONS,this.config=e.CONFIG,a.a.copyProperties(i,this.config),this.appSet=t,this.appName=t.appName,this.cacherItemsList=this.appSet.cacheItemsList,this.id="".concat(this.appName,"_vitSlider_"),this.itemsList=void 0,this.visibleBounds=a.a.Rect(0,0,0,0),this.isControllsShow=!1,this.isZooming=!1,this.needHideControlls=!1,this.naviButtonsStatus=void 0,this.firsrTap=void 0,this.removing=!1,this.createlayoutDelay=void 0,this.intitByTermDelay=void 0,this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"view"),this.view.id="".concat(this.id,"main"),this.resizeDelay=void 0,this.size=a.a.Size(0,0);var n=document.createElement("div");n.className="".concat(e.classPref,"bg"),this.config.sl_backgroundColor&&(this.background=n,this.background.style.backgroundColor=this.config.sl_backgroundColor,this.view.appendChild(n)),this.config.sl_audioPlayer&&this.config.sl_audioPlayer.pause(),this.sliderPages=[],this.draggingPr=!1,this.zoomingDrag=!1,this.speedX=0,this.speedY=0,this.scrollViewTranslateXPr=0,this.scrollViewTranslateYPr=0,this.startDragHandler=void 0,this.currentItemIndex=void 0,this.startItemIndex=0,this.items=[],this.itemsAmount=0,this.itemNumPr=void 0,this.pageInFocus=void 0,this.pageInFocusPrev=void 0,this.zoomingPage=void 0,this.videoVolume=void 0,this.FF_Mode=!1,this.mouseWheelMode=!1,this.animaSliderRender=void 0,this.slider=document.createElement("div"),this.slider.className="".concat(e.classPref,"wrap"),this.view.appendChild(this.slider)}return w(e,null,[{key:"classPref",get:function(){var e=v.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"ICONS",get:function(){return{PLAY_SVG:'<svg version="1.1" viewBox="0 0 50 60" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M48.479,27.435L5.672,0.915C2.553-1.132,0,0.374,0,4.261v51.48c0,3.885,2.553,5.391,5.672,3.346l42.807-26.52   c0,0,1.521-1.07,1.521-2.566S48.479,27.435,48.479,27.435z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>',NOTE_SVG:'<svg version="1.1" viewBox="0 0 58 94" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M37.992,0h-8.021v65.358c-4.435-1.706-10.174-1.73-15.835,0.328C3.994,69.377-2.049,78.355,0.638,85.736   c2.688,7.383,13.088,10.374,23.229,6.683c8.614-3.134,14.249-10.082,14.111-16.626l0.014-53.451   c13.986,2.204,14.943,19.884,13.268,24.842c-0.636,1.879,0.484,3.286,2.598,0C68.938,23.726,37.992,13.376,37.992,0z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>',NEXT_ARR:'<svg height="512px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><polygon points="160,115.4 180.7,96 352,256 180.7,416 160,396.7 310.5,256 "/></svg>',PREV_ARR:'<svg height="512px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><polygon points="352,115.4 331.3,96 160,256 331.3,416 352,396.7 201.5,256 "/></svg>'}}},{key:"EVENTS",get:function(){return{COLLECTION_DATA_REDY:"COLLECTION_DATA_REDY",UPDATE_CONTROLS:"UPDATE_CONTROLS",ZOOM:"ZOOM",REMOVE_LIGHTBOX:"REMOVE_LIGHTBOX"}}},{key:"CONFIG",get:function(){return{sl_preloaderColor:"#494949",sl_backgroundColor:"rgba(0,0,0,1)",sl_navigationIconColor:"rgba(255,255,255,1)",sl_navigationIconColorOver:"rgba(0,0,0,0.8)",sl_navigationColor:"rgba(0,0,0,0.8)",sl_navigationColorOver:"rgba(255,255,255,1)",sl_zoom:!1,sl_mouseWheel:!1,sl_fit:!1,sl_xOffset:2,sl_yOffset:0,sl_canRemoved:!1,sl_copyR_Alert:"Hello, this photo is mine!",sl_copyR_Proptection:!0,sl_audioPlayer:void 0,sl_mouseWheelPagination:!1,sl_next_prev_animation:!1}}}]),w(e,[{key:"copyRight",value:function(){var t,i=this;return function(n){if(!a.a.Device.ios||"mouseup"!==n.type){var o,s;n.changedTouches&&n.changedTouches[0]?(o=n.changedTouches[0].pageX,s=n.changedTouches[0].pageY):(o=n.pageX,s=n.pageY),o-=i.viewOfsetX,s-=i.viewOfsetY;var r=i.itemsList[i.itemIndex];if(r.webView&&r.webView===n.target||n.target.className&&"pgc-rev-slider-page-sub-content-holder"===n.target.className||n.target.className&&("lb-video-content"===n.target.className||"lb-audio-content"===n.target.className)){n.preventDefault();var l=document.getElementById("gm_copyr");l&&(clearTimeout(t),l.parentNode.removeChild(l),l=null),(l=document.createElement("div")).id="gm_copyr",l.className="".concat(e.classPref,"hints"),l.innerHTML=r.user&&r.user.displayname?"Hey, this photo is &#169;".concat(r.user.displayname):i.config.sl_copyR_Alert,r.copyright&&""!==r.copyright&&(l.innerHTML=r.copyright),l.style.top="".concat(s,"px"),l.style.left="".concat(o,"px"),i.view.appendChild(l),t=setTimeout((function(){l.parentNode.removeChild(l)}),1e3)}}}}},{key:"initByStage",value:function(e){e.appendChild(this.view),this.config.sl_copyR_Proptection&&(this.copyR=this.copyRight(),document.addEventListener("contextmenu",this.copyR,!1)),this.createControlls()}},{key:"addToStage",value:function(){var t=this,i=document.getElementsByTagName("body")[0];this.view.style.zIndex=a.a.findHighestZIndex(i)+1,a.a.disableBodyScrollSlider(),this.config.sl_copyR_Proptection&&document.addEventListener("contextmenu",t.copyR,!1),i.appendChild(this.view),setTimeout((function(){t.view.classList.add("".concat(e.classPref,"activate"))}),30)}},{key:"initByList",value:function(e,t){if(e&&e.length>0){var i=this;this.currentItemIndex=t&&0!==t?0:void 0,this.startItemIndex=t||0,this.itemsList=e,this.createlayoutDelay=setTimeout((function(){i.createLayout()}),100)}}},{key:"prepareToRemove",value:function(){this.removing||(clearTimeout(this.createlayoutDelay),clearTimeout(this.intitByTermDelay),this.removing=!0,this.cacherItemsList.init(),this.appSet.appEventManager.removeGMEventListener(e.EVENTS.COLLECTION_DATA_REDY,this,"dataLoaded"),this.view.removeEventListener("wheel",this.handlerMWheel,!1),this.config.sl_copyR_Proptection&&document.removeEventListener("contextmenu",this.copyR,!1),this.config.sl_audioPlayer&&this.config.sl_audioPlayer.pause(),this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.REMOVE_LIGHTBOX,this,{})))}},{key:"remoteControl",value:function(t){if(this.startDragHandler||"esc"===t)switch(t){case"prev":this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.UPDATE_CONTROLS,this,{draging:!0})),this.gotoPrev();break;case"next":this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.UPDATE_CONTROLS,this,{draging:!0})),this.gotoNext();break;case"space":this.firstClick(a.a.Point(this.view.clientWidth/2,this.view.clientHeight/2),t);break;case"esc":this.prepareToRemove();break;case"zoom":this.zoomSwitch()}}},{key:"showPreloader",value:function(e){var t;if(e){if(document.getElementById("".concat(this.appName,"slider_preloader")))return;(t=a.a.createPreloaderView(this.config.sl_preloaderColor)).id="".concat(this.appName,"slider_preloader"),this.view.appendChild(t)}else(t=document.getElementById("".concat(this.appName,"slider_preloader")))&&a.a.fadeOut(t,(function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),500)}},{key:"createLayout",value:function(){var t=this;this.itemsAmount=this.itemsList.length,this.size=a.a.Size(this.view.clientWidth,this.view.clientHeight),a.a.miniScreen&&this.slider.classList.add("miniScreen"),this.size.width<500&&(this.prevButton.classList.add("next-prev-button-mini-screen"),this.nextButton.classList.add("next-prev-button-mini-screen")),this.initSlider(),this.size.height<700&&this.slider.classList.add("miniScreen"),this.view.addEventListener("wheel",this.mouseWheelHandler(),!1),setTimeout((function(){t.showControlls(!0),t.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.UPDATE_CONTROLS,t,{status:"ready"}))}),500)}},{key:"initSlider",value:function(){var e,t=0;if(0===this.sliderPages.length)for(t=0;t<3;t+=1)e=this.pageConstructor,this.slider.appendChild(e.view),this.sliderPages.push(e),e.resize(this.size);var i=this.itemsAmount>2?-1:0;for(t=0;t<3;t+=1)(e=this.sliderPages[t]).posX=i,e.itemIndex=void 0,i+=1;this.startDragHandler?this.gotoPageByNum(0):(this.startDragHandler=this.startDrag(),a.a.isTouchDevice&&(this.slider.addEventListener("touchstart",this.startDragHandler,a.a.passiveListener),window.addEventListener("touchmove",(function(){}),a.a.passiveListener)),this.slider.addEventListener("mousedown",this.startDragHandler,!1),this.gotoPageByNum(this.startItemIndex))}},{key:"sliderVerticalRender",value:function(){var t=1-Math.abs(this.scrollViewTranslateY)/(this.size.height/2);this.background&&(this.background.style.opacity=t),this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.UPDATE_CONTROLS,this,{backgroundOpacity:t})),this.needHideControlls||(t<.8?(this.showHideNaviButton("hide"),this.showControlls(!1)):(this.showHideNaviButton("show"),this.showControlls(!0)))}},{key:"tryOpenItemID",value:function(e){for(var t=0;t<this.itemsList.length;t+=1){if(this.itemsList[t].ID===e)return this.gotoPageByNum(t),!0}return!1}},{key:"gotoPageByNum",value:function(e){this.currentItemIndex!==e&&this.gotoPageByIndex(e,!1)}},{key:"gotoNext",value:function(){this.gotoPageByIndex(this.currentItemIndex+1,this.config.sl_next_prev_animation)}},{key:"gotoPrev",value:function(){this.gotoPageByIndex(this.currentItemIndex-1,this.config.sl_next_prev_animation)}},{key:"renderTransformTo",value:function(e){var t=this;a.a.cancelAnimationFrame(t.animaSliderRender);var i=5*t.speedX,n=5*t.speedY;t.animaSliderRender=a.a.requestAnimationFrame((function o(){i=.2*i+.15*(e.x-t.scrollViewTranslateX),n=.2*n+.15*(e.y-t.scrollViewTranslateY),t.scrollViewTranslateX+=i,t.scrollViewTranslateY+=n,Math.abs(i)<1&&Math.abs(n)<1&&(t.dragging=!1),Math.abs(i)<.1&&Math.abs(n)<.1?(a.a.cancelAnimationFrame(t.animaSliderRender),t.scrollViewTranslateX=e.x,t.scrollViewTranslateY=e.y,t.sliderTransitionComplete({target:t.slider})):t.animaSliderRender=a.a.requestAnimationFrame(o)}))}},{key:"gotoPageByIndex",value:function(e,t){this.itemsAmount<3&&(e=Math.max(0,e),e=Math.min(this.itemsAmount-1,e));var i=-e*this.size.width;t?this.renderTransformTo(a.a.Point(i,this.scrollViewTranslateY)):(a.a.cancelAnimationFrame(this.animaSliderRender),this.scrollViewTranslateX=i,this.pageInFocus&&this.pageInFocus.fadeIn(),this.sliderTransitionComplete({target:this.slider}))}},{key:"pageRenderByIndex",value:function(e){if(this.currentItemIndex!==e){void 0!==this.pageInFocus&&(this.pageInFocusPrev=this.pageInFocus,this.pageInFocus.isInScale&&(this.zoomingPage=this.pageInFocus));var t=0;if(this.itemsAmount<3){for(t=0;t<this.itemsAmount;t+=1)this.sliderPages[t].initByItem(this.itemsList[t]);return this.pageInFocus=this.sliderPages[e],this.currentItemIndex=e,void(this.itemIndex=e)}var i=(e+1)%3;i<0&&(i+=3);var n=i-1>=0?i-1:2,a=i+1<3?i+1:0,o=[n,i,a],s=[e-1,e,e+1];for(t=0;t<o.length;t+=1){this.sliderPages[o[t]].posX=s[t]}this.currentItemIndex=e,this.pageInFocus=this.sliderPages[i],this.itemIndex=e<0?this.itemsAmount+(e%this.itemsAmount==0?-this.itemsAmount:e%this.itemsAmount):e%this.itemsAmount,this.sliderPages[i].initByItem(this.itemsList[this.itemIndex]),this.sliderPages[a].initByItem(this.itemIndex+1<this.itemsAmount?this.itemsList[this.itemIndex+1]:this.itemsList[0]),this.sliderPages[n].initByItem(this.itemIndex-1<0?this.itemsList[this.itemsAmount-1]:this.itemsList[this.itemIndex-1])}}},{key:"sliderTransitionComplete",value:function(e){if(e.target===this.slider){var t=this.cacherItemsList.status();(t.list!==this.itemsList||t.list===this.itemsList&&this.itemIndex>=t.index)&&this.cacherItemsList.init(this.itemsList,this.itemIndex,5),void 0!==this.pageInFocusPrev&&this.pageInFocusPrev.action("removeSubContent"),void 0!==this.zoomingPage&&this.zoomingPage!==this.pageInFocus&&this.zoomingPage.normalize()}}},{key:"mouseWheelHandler",value:function(){var t,i=this,n=0,o=0,s=Date.now(),r=[],l=[],c=400,h=0;return i.handlerMWheel=function(d){if(d.stopPropagation(),d.preventDefault(),!1!==i.mouseWheelMode||!1!==i.config.sl_mouseWheelPagination){var p=a.a.Point(0,0);if("deltaX"in d)1===d.deltaMode?(p.x=18*d.deltaX,p.y=18*d.deltaY):(p.x=d.deltaX,p.y=d.deltaY);else if("wheelDelta"in d)d.wheelDeltaX&&(p.x=-.16*d.wheelDeltaX),d.wheelDeltaY?p.y=-.16*d.wheelDeltaY:p.y=-.16*d.wheelDelta;else{if(!("detail"in d))return;p.y=d.detail}if(i.config.sl_mouseWheelPagination){var u=Math.abs(p.y)>Math.abs(p.x)?p.y:p.x,m=Date.now();0===r.length&&r.push(m),m-r[0]<c?(l.length>0&&l[l.length-1]!==u&&(h+=1),l.push(u),r.push(m)):(c=h>3?1100:500,l=[],r=[],h=0),m-s>c&&(u>0?i.gotoNext():i.gotoPrev(),i.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.UPDATE_CONTROLS,i,{draging:!0})),s=m)}else{var v=i.size.width/2,g=i.size.height/2;if(d.pageX&&(v=d.pageX,g=d.pageY),v-=i.viewOfsetX,g-=i.viewOfsetY,i.dragging)return;t!==i.pageInFocus&&(t=void 0),i.zoomingPage&&i.zoomingPage!==i.pageInFocus&&(i.zoomingPage.normalize(),i.zoomingPage=void 0),t?i.showControlls(!i.needHideControlls):(t=i.pageInFocus,i.zoomingPage=i.pageInFocus,t.isInScale||(i.needHideControlls=!i.isControllsShow)),v===n&&g===o||(t.startDrag(a.a.Point(v,g)),n=v,o=g),i.zoomControll(),t.zoomByScaleIter(p.y,a.a.Point(v,g)),t.isInScale?i.showControlls(!1):t=void 0}}},i.handlerMWheel}},{key:"zoomSwitch",value:function(){var e=a.a.Point(this.view.clientWidth/2,this.view.clientHeight/2);this.secondClick(e)}},{key:"fitMode",value:function(e){this.config.sl_fit&&(this.FF_Mode=e);for(var t=0;t<this.sliderPages.length;t+=1)this.sliderPages[t].fit()}},{key:"firstClick",value:function(e,t){var i;if(this.pageInFocus?i=this.pageInFocus.action("click",t):this.prepareToRemove(),this.pageInFocus.isPointInItem(e)||a.a.miniScreen)if(this.pageInFocus.isInScale)this.pageInFocus.normalize(!0),this.zoomingPage=void 0,this.showControlls(!this.needHideControlls);else switch(i){case"audioPlay":this.fitMode(!0),this.showControlls(!1),this.needHideControlls=!this.isControllsShow;break;case"audioStop":this.fitMode(!1),this.showControlls(!0),this.needHideControlls=!this.isControllsShow;break;case"linkAction":window.open(this.pageInFocus.item.link,this.pageInFocus.item.link_target?this.pageInFocus.item.link_target:"_blank");break;case"videoPlay":this.pageInFocus.isPointInItem(e)?(this.fitMode(!0),this.showControlls(!1),this.needHideControlls=!this.isControllsShow):(this.switchShowControlls(),this.needHideControlls=!this.isControllsShow);break;case"videoStop":this.pageInFocus.isPointInItem(e)?(this.fitMode(!1),this.showControlls(!0),this.needHideControlls=!this.isControllsShow):(this.switchShowControlls(),this.needHideControlls=!this.isControllsShow);break;default:this.fitMode(this.isControllsShow),this.switchShowControlls(),this.needHideControlls=!this.isControllsShow}else if(this.config.sl_canRemoved)switch(i){case"videoStop":this.fitMode(!1),this.showControlls(!0),this.needHideControlls=!this.isControllsShow;break;default:this.prepareToRemove()}else this.config.sl_canRemoved||"videoStop"===i&&(this.fitMode(!1),this.showControlls(!0),this.needHideControlls=!this.isControllsShow)}},{key:"secondClick",value:function(e){this.config.sl_zoom&&this.pageInFocus.isPointInItem(e)&&(this.pageInFocus.isInScale?(this.pageInFocus.normalize(!0),this.zoomingPage=void 0,this.showControlls(!this.needHideControlls)):(this.zoomingPage&&this.zoomingPage.normalize(),this.zoomingPage=this.pageInFocus,this.zoomingPage.zoomIn(Math.abs(this.zoomingPage.imgScale-1)<.3?1.5:this.zoomingPage.imgScale,e),this.needHideControlls=!this.isControllsShow,this.showControlls(!1)))}},{key:"doubleClickController",value:function(e){var t=this;if(!a.a.Device.ios||"mouseup"!==e.type){var i,n;if(e.changedTouches&&e.changedTouches[0]?(i=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY):(i=e.pageX,n=e.pageY),i-=this.viewOfsetX,n-=this.viewOfsetY,this.firsrTap)return clearTimeout(this.firsrTap),this.firsrTap=void 0,void this.secondClick(a.a.Point(i,n));this.firsrTap=setTimeout((function(){t.firsrTap=void 0,t.firstClick(a.a.Point(i,n))}),400)}}},{key:"startDrag",value:function(){var t,i,n,o,s,r,l,c,h,d=this,p=d.viewOfsetY,u=d.viewOfsetX,m=0,v=0,g=0;function f(e){var t,c,h,f,w;if(e.originalEvent&&(e=e.originalEvent),e.touches?!d.dragging&&e.touches.length>1?d.config.sl_zoom&&(l=!0,t=e.touches[0].pageX,c=e.touches[0].pageY,h=e.touches[1].pageX,f=e.touches[1].pageY,w=Math.hypot(t-h,c-f),t+=(h-t)/2,c+=(f-c)/2):(l=!1,t=e.touches[0].pageX,c=e.touches[0].pageY):(t=e.pageX,c=e.pageY),t-=u,c-=p,!(a.a.Device.ios&&i<=20)){var b,y;if(void 0===r)c===n?r=!1:(b=180*Math.atan2(Math.abs(c-n),Math.abs(t-i))/Math.PI,r=b>45);if(!d.dragging&&d.zoomingPage){e.preventDefault();var C=Math.abs(i-t)>4?i-t:0,x=Math.abs(n-c)>4?n-c:0;return(C||x)&&(d.zoomingDrag=!0),void(l?d.pageInFocus.zoomByScaleDeltaToPoint(w,a.a.Point(C,x),a.a.Point(t,c)):d.zoomingPage&&d.zoomingPage.dragin(a.a.Point(C,x)))}e.preventDefault(),r?(m=0,(y=Math.abs(n-c)>4?n-c:0)&&(d.dragging=!0),d.config.sl_canRemoved&&(d.scrollViewTranslateY=s-y)):(d.transition=!0,(y=Math.abs(i-t)>4?i-t:0)&&(d.dragging=!0),d.scrollViewTranslateX=o-y,v=g,g=d.scrollViewTranslateX,m=g-v)}}function w(e){if(r=void 0,a.a.isTouchDevice&&(document.removeEventListener("touchmove",f,a.a.passiveListener),document.removeEventListener("touchend",w,a.a.passiveListener)),document.removeEventListener("mousemove",f,!1),document.removeEventListener("mouseup",w,!1),document.removeEventListener("contextmenu",w,!1),d.dragging||l||d.zoomingDrag){if(d.zoomingPage&&(d.zoomingPage.stopDrag(),l=!1),!d.zoomingPage)if(Math.abs(d.scrollViewTranslateY)<4){var i=d.currentItemIndex,n=a.a.isTouchDevice?7:1;Math.abs(m)>n&&t===d.currentItemIndex&&(i=m>0?i-1:i+1),d.speedX=m,d.scrollViewTranslateY=0,d.gotoPageByIndex(i,!0)}else{var o=d.scrollViewTranslateY/(d.size.height/2);Math.abs(o)>.2?d.prepareToRemove():d.renderTransformTo(a.a.Point(d.scrollViewTranslateX,0))}this.dragging=!1}else d.doubleClickController(e);d.zoomingDrag=!1,h=e.type}return function(r){var b,y,C,x;"mousedown"===r.type&&"touchend"===h||(d.zoomingPage=d.pageInFocus.isInScale?d.pageInFocus:void 0,a.a.cancelAnimationFrame(d.animaSliderRender),t=d.currentItemIndex,r.originalEvent&&(r=r.originalEvent),a.a.isTouchDevice||r.preventDefault(),r.button&&0!==r.button||(r.touches?!d.dragging&&r.touches.length>1?(l=!0,b=r.touches[0].pageX,y=r.touches[0].pageY,C=r.touches[1].pageX,x=r.touches[1].pageY,c=Math.hypot(b-C,y-x),b+=(C-b)/2,y+=(x-y)/2,d.zoomingPage=d.pageInFocus,d.needHideControlls=d.isControllsShow,d.showControlls(!1)):(b=r.touches[0].pageX,y=r.touches[0].pageY):(b=r.pageX,y=r.pageY),b-=u,y-=p,d.speedX=0,d.speedY=0,m=0,v=0,g=d.scrollViewTranslateX,i=b,n=y,o=d.scrollViewTranslateX,s=d.scrollViewTranslateY,d.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.UPDATE_CONTROLS,d,{draging:!0})),d.zoomingPage&&d.zoomingPage.startDrag(a.a.Point(i,n),c),a.a.isTouchDevice&&(document.addEventListener("touchmove",f,a.a.passiveListener),document.addEventListener("touchend",w,a.a.passiveListener)),document.addEventListener("mousemove",f,!1),document.addEventListener("mouseup",w,!1),document.addEventListener("contextmenu",w,!1)))}}},{key:"createControlls",value:function(){var t=this;function i(e){e.style.backgroundColor=t.config.sl_navigationColorOver,e.childNodes[0].style.fill=t.config.sl_navigationIconColorOver}function n(e){e.style.backgroundColor=t.config.sl_navigationColor,e.childNodes[0].style.fill=t.config.sl_navigationIconColor}this.prevButton=document.createElement("div"),this.prevButton.className="".concat(e.classPref,"next-prev-button"),this.prevButton.style.left="".concat(0,"px"),this.prevButton.style.transform="translate(-150%, -50%)",this.prevButton.style.backgroundColor=t.config.sl_navigationColor,this.prevButton.style.visibility="hidden",this.prevButton.innerHTML=e.ICONS.PREV_ARR,this.prevButton.childNodes[0].style.fill=t.config.sl_navigationIconColor,this.prevButton.onmouseenter=function(){i(this)},this.prevButton.onmouseleave=function(){n(this)},this.prevButton.onclick=function(){t.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.UPDATE_CONTROLS,t,{draging:!0})),t.gotoPrev(),a.a.Device.desktop||n(this)},this.view.appendChild(this.prevButton),this.nextButton=document.createElement("div"),this.nextButton.className="".concat(e.classPref,"next-prev-button"),this.nextButton.style.backgroundColor=t.config.sl_navigationColor,this.nextButton.style.right="0px",this.nextButton.style.transform="translate(150%, -50%)",this.nextButton.style.visibility="hidden",this.nextButton.innerHTML=e.ICONS.NEXT_ARR,this.nextButton.childNodes[0].style.fill=t.config.sl_navigationIconColor,this.nextButton.onmouseenter=function(){i(this)},this.nextButton.onmouseleave=function(){n(this)},this.nextButton.onclick=function(){t.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.UPDATE_CONTROLS,t,{draging:!0})),t.gotoNext(),a.a.Device.desktop||n(this)},this.view.appendChild(this.nextButton)}},{key:"switchShowControlls",value:function(){this.showControlls(!this.isControllsShow)}},{key:"showHideNaviButton",value:function(e){if(this.naviButtonsStatus!==e){switch(e){case"show":if(this.isZoom)return;this.prevButton.style.transform="translate(0%, -50%)",this.nextButton.style.transform="translate(0%, -50%)";break;case"hide":this.prevButton.style.transform="translate(-150%, -50%)",this.nextButton.style.transform="translate(150%, -50%)"}this.naviButtonsStatus=e}}},{key:"zoomControll",value:function(){this.isZooming!==this.isZoom&&(this.isZooming=this.isZoom,this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.UPDATE_CONTROLS,this,{zoom:this.isZoom?"zoomIn":"zoomOut"})),this.isZoom?this.showHideNaviButton("hide"):this.showHideNaviButton("show"))}},{key:"showControlls",value:function(t){this.zoomControll(),this.isControllsShow!==t&&(t?(this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.UPDATE_CONTROLS,this,{controls:"show"})),this.showHideNaviButton("show")):(this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.UPDATE_CONTROLS,this,{controls:"hide"})),a.a.miniScreen&&this.showHideNaviButton("hide")),this.isControllsShow=t)}},{key:"updateControlls",value:function(){this.itemsAmount<3?(0===this.itemIndex?this.prevButton.style.visibility="hidden":this.prevButton.style.visibility="visible",this.itemIndex===this.itemsAmount-1?this.nextButton.style.visibility="hidden":this.nextButton.style.visibility="visible",1===this.itemsAmount&&(this.prevButton.style.visibility="hidden",this.nextButton.style.visibility="hidden")):(this.prevButton.style.visibility="visible",this.nextButton.style.visibility="visible");var t=this.itemsList[this.itemIndex];t&&this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.UPDATE_CONTROLS,this,{item:t,itemIndex:this.itemIndex}))}},{key:"resizeHandler",value:function(e){var t=this;this.resizeDelay&&clearTimeout(this.resizeDelay),a.a.cancelAnimationFrame(this.animaSliderRender),this.resizeDelay=setTimeout((function(){if(t.size=e,t.size.width<500?(t.prevButton.classList.add("next-prev-button-mini-screen"),t.nextButton.classList.add("next-prev-button-mini-screen")):(t.prevButton.classList.remove("next-prev-button-mini-screen"),t.nextButton.classList.remove("next-prev-button-mini-screen")),0!==t.sliderPages.length){for(var i=0;i<t.sliderPages.length;i+=1)t.sliderPages[i].resize(t.size);t.gotoPageByIndex(t.currentItemIndex,!1),t.size.height<410&&(t.showControlls(!1,!0),t.needHideControlls=!0)}}),70)}},{key:"dragging",set:function(e){e?this.view.classList.add("isDragging"):this.view.classList.remove("isDragging"),this.draggingPr=e},get:function(){return this.draggingPr}},{key:"viewOfsetY",get:function(){return this.view.getBoundingClientRect().top+a.a.pageYOffset}},{key:"viewOfsetX",get:function(){return this.view.getBoundingClientRect().left+a.a.pageXOffset}},{key:"itemIndex",set:function(e){this.itemNumPr=e,this.updateControlls()},get:function(){return this.itemNumPr}},{key:"pageConstructor",get:function(){return new C(this)}},{key:"scrollViewTranslateY",set:function(e){this.scrollViewTranslateYPr=e,this.slider.style.transform="translate3d(".concat(this.scrollViewTranslateX,"px,").concat(e,"px, 0px)"),0!==e&&this.sliderVerticalRender()},get:function(){return this.scrollViewTranslateYPr}},{key:"scrollViewTranslateX",set:function(e){this.scrollViewTranslateXPr=e,this.slider.style.transform="translate3d(".concat(e,"px,").concat(this.scrollViewTranslateY,"px, 0px)"),this.pageRenderByIndex(-Math.round(e/this.size.width))},get:function(){return this.scrollViewTranslateXPr}},{key:"isZoom",get:function(){return!!this.pageInFocus&&this.pageInFocus.isInScale}}]),e}(),S=i(14),E=i.n(S);function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e,t,i){return t&&_(e.prototype,t),i&&_(e,i),e}var I=function(){function e(t,i){k(this,e),this.delegate=t,this.appSet=this.delegate.appSet,this.appName=t.appName,this.config=e.CONFIG,a.a.copyProperties(i,this.config);var n='<svg class="'.concat(e.classPref,'progress-radial" width="22px" height="22px" viewBox="0 0 100 100" shape-rendering="geometricPrecision">\n        <defs><mask id="circle_mask" x="0" y="0" width="100" height="100" maskUnits="userSpaceOnUse">\n        <circle cx="50" cy="50" r="51" stroke-width="0" fill="black" opacity="1"/>\n        <circle cx="50" cy="50" r="50" stroke-width="0" fill="white" opacity="1"/>\n        <circle class="').concat(e.classPref,'progress-radial-mask-inner" cx="50" cy="50" r="40" stroke-width="0" fill="black" opacity="1"/>\n        </mask></defs><g mask="url(#circle_mask)">\n        <circle class="').concat(e.classPref,'progress-radial-track" cx="50" cy="50" r="50" stroke-width="0" opacity="1"/>\n        <path class="').concat(e.classPref,'progress-radial-bar" transform="translate(50, 50)"d="M 0 0"></path></g></svg>');this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"wrap"),this.view.innerHTML=n,this.bar=this.view.getElementsByClassName("".concat(e.classPref,"progress-radial-bar"))[0],this.bar.style.fill=this.config.ap_autoPlayColor,this.view.getElementsByClassName("".concat(e.classPref,"progress-radial-track"))[0].style.fill=this.config.ap_autoPlayBgColor,this.animRatio=25,this.counter=0,this.durationCount=25*this.config.ap_slideshowDelay,this.interval=void 0,this.anPart=0,this.status=void 0}return T(e,null,[{key:"classPref",get:function(){var e=E.a.classPrefAPlay;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"CONFIG",get:function(){return{ap_autoPlayBgColor:"rgba(255,255,255, 0.3)",ap_autoPlayColor:"rgba(255,255,255, 1)",ap_slideshowDelay:8}}},{key:"EVENTS",get:function(){return{NEXT_SLIDE:"NEXT_SLIDE",PLAY:"PLAY"}}}]),T(e,[{key:"drawProgress",value:function(t){if(!isNaN(t)){t=e.clamp(parseFloat(t),0,1);var i=e.clamp(360*t,0,359.99999),n=i*Math.PI/180,a=51*Math.sin(n),o=-51*Math.cos(n),s=i>180?1:0,r="M 0 0 v -%@ A %@ %@ 1 ".replace(/%@/gi,51),l="".concat(r+s," 1 ").concat(a," ").concat(o," z");this.bar.setAttribute("d",l)}}},{key:"switch",value:function(){"play"===this.status?this.clear():this.start()}},{key:"start",value:function(){var t=this;this.view.style.opacity=1;var i=1/this.durationCount;this.interval=setInterval((function(){t.counter+=1,t.counter>=t.durationCount&&(clearInterval(t.interval),t.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.NEXT_SLIDE,t,{})),t.counter=0,t.start()),t.drawProgress(i*t.counter)}),1e3/this.animRatio),"play"!==this.status&&(this.status="play",t.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.PLAY,t,{status:this.status})))}},{key:"pause",value:function(){clearInterval(this.interval),this.status="pause"}},{key:"clear",value:function(){clearInterval(this.interval),this.counter=0,this.drawProgress(0),this.view.style.opacity=0,this.status="stop",this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.PLAY,this,{status:this.status}))}}],[{key:"clamp",value:function(e,t,i){return Math.max(t,Math.min(i,e))}}]),e}(),L=function(){function e(t,i){k(this,e),this.appSet=t,this.config=e.CONFIG,a.a.copyProperties(i,this.config),this.appName=t.appName,this.headerFooterStatus=void 0,this.headerStatus=void 0,this.mouseMovingTimer=void 0,this.resizeDelay=void 0,this.size=a.a.Size(0,0),this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"view"),this.view.id="".concat(this.appName,"_lightbox"),a.a.Device.desktop||(this.view.style.height="100%");var o=document.createElement("div");o.className="".concat(e.classPref,"bg"),this.background=o,this.backgroundOpacity=1,this.background.style.backgroundColor=this.config.lb_backgroundColor,this.view.appendChild(o),this.content=document.createElement("div"),this.content.className="".concat(e.classPref,"content");var s=x.CONFIG;s.sl_backgroundColor=!1,s.sl_preloaderColor=this.config.lb_preloaderColor,s.sl_navigationColor=this.config.lb_sliderNavigationColor,s.sl_navigationIconColor=this.config.lb_sliderNavigationIconColor,s.sl_navigationColorOver=this.config.lb_sliderNavigationColorOver,s.sl_navigationIconColorOver=this.config.lb_sliderNavigationIconColorOver,s.sl_fit=!0;var r=this.config.lb_thumbBarEnable?60:this.config.lb_headerFooterHeight;s.sl_yOffset=a.a.miniScreen?0:r,s.sl_canRemoved=!0,s.sl_copyR_Alert=this.config.lb_copyR_Alert,s.sl_copyR_Proptection=this.config.lb_copyR_Proptection,s.sl_zoom=this.config.lb_zoom,s.sl_mouseWheel=this.config.lb_zoom,s.sl_audioPlayer=this.config.lb_audioPlayer,s.sl_mouseWheelPagination=this.config.lb_scrollNavi,s.sl_next_prev_animation=this.config.lb_sliderNextPrevAnimation,this.appSet.appEventManager.addGMEventListener(x.EVENTS.UPDATE_CONTROLS,this,"updateViewControls"),this.appSet.appEventManager.addGMEventListener(x.EVENTS.REMOVE_LIGHTBOX,this,"prepareToRemove"),this.appSet.appEventManager.addGMEventListener(I.EVENTS.PLAY,this,"slideShowSwitchHandler"),this.appSet.appEventManager.addGMEventListener(I.EVENTS.NEXT_SLIDE,this,"slideshowHandler"),this.appSet.appEventManager.addGMEventListener(u.EVENTS.ITEMS_SCROLL_BAR_ITEM_ACTION,this,"scrollBarHandler"),this.slider=new x(this.appSet,s),this.slider.initByStage(this.content),this.slider.mouseWheelMode=this.config.lb_zoom,this.view.appendChild(this.content),this.header=document.createElement("div"),this.header.className="".concat(e.classPref,"header"),this.header.style.backgroundImage="linear-gradient(0deg,rgba(0,0,0,0),".concat(this.config.lb_headerFooterColor,")"),e.isMobileMode&&this.header.classList.add("".concat(e.classPref,"touch-device")),this.view.appendChild(this.header),this.footer=document.createElement("div"),this.footer.className="".concat(e.classPref,"footer"),this.footer.style.minHeight="".concat(r,"px"),e.isMobileMode&&this.footer.classList.add("".concat(e.classPref,"touch-device")),a.a.miniScreen&&(this.footer.style.backgroundImage="linear-gradient(0deg,".concat(this.config.lb_headerFooterColor,",rgba(0,0,0,0))")),this.view.appendChild(this.footer),this.infoBar1=document.createElement("div"),this.infoBar1.className="".concat(e.classPref,"info-wrap"),this.header.appendChild(this.infoBar1),this.config.lb_itemTitleEnable&&(this.itemTitle=document.createElement("div"),this.itemTitle.className="".concat(e.classPref,"item-title"),this.itemTitle.style.fontSize=e.isMobileMode?"".concat(16,"px"):"".concat(this.config.lb_itemTitleFontSize,"px"),e.isMobileMode&&(this.itemTitle.style.lineHeight="".concat(16,"px"),this.itemTitle.style.transform="translateY(6px)"),this.itemTitle.style.color=this.config.lb_itemTitleTextColor,this.infoBar1.appendChild(this.itemTitle));var l=document.createElement("div");l.className=this.config.lb_itemTitleEnable?"".concat(e.classPref,"caption-wrap"):"".concat(e.classPref,"caption-wrap-nt"),l.classList.add("mini-screen"),l.style.color=this.config.lb_itemCounterColor,this.config.lb_thumbBarEnable||e.isMobileMode||(l.style.backgroundColor=this.config.lb_headerFooterColor),this.item_current_info=document.createElement("div"),this.item_current_info.className="".concat(e.classPref,"caption-current"),l.appendChild(this.item_current_info);var c=document.createElement("div");c.className="".concat(e.classPref,"caption-delimiter"),c.style.opacity=.7,this.config.lb_itemTitleEnable?c.textContent="/":c.style.backgroundColor=this.config.lb_itemCounterColor,l.appendChild(c),this.items_amount_info=document.createElement("div"),this.items_amount_info.className="".concat(e.classPref,"caption-all"),l.appendChild(this.items_amount_info),!1===this.config.lb_itemCounterEnable&&(l.style.display="none"),this.counter=l;var h=document.createElement("div");if(h.className="".concat(e.classPref,"caption-play-wrap"),h.appendChild(l),this.infoBar1.appendChild(h),this.config.lb_thumbBarEnable){var d=u.CONFIG;d.isb_itemBgColor=this.config.lb_thumbBarHoverColor,d.isb_block_pan_y=!0,this.thumbsBar=new u(this.appSet,d),this.footer.appendChild(this.thumbsBar.view),e.isMobileMode&&this.footer.appendChild(h)}else this.footer.appendChild(h);if(a.a.Device.desktop&&this.config.lb_slideshowEneble){var p=I.CONFIG;p.ap_autoPlayBgColor=this.config.lb_slideshowIndicatorColorBg,p.ap_autoPlayColor=this.config.lb_slideshowIndicatorColor,p.ap_slideshowDelay=this.config.lb_slideshowTimer,this.autoPlay=new I(this,p),h.appendChild(this.autoPlay.view)}var m=document.createElement("div");e.isMobileMode&&(m.style.width="100%"),m.className="".concat(e.classPref,"free-space"),this.header.appendChild(m),this.itemMenuWrap=document.createElement("div"),this.itemMenuWrap.className="".concat(e.classPref,"item-menu-wrap"),this.header.appendChild(this.itemMenuWrap);var v=n.a.CONFIG;v.im_link=!0,v.im_play=a.a.Device.desktop&&this.config.lb_slideshowEneble,v.im_zoom=a.a.Device.desktop&&this.config.lb_zoom,v.im_discuss=this.config.lb_discuss,v.im_info=this.config.lb_itemInfoEnable,v.im_share=this.config.lb_itemShare,v.im_download=this.config.lb_itemDownload,v.im_bookmark=this.config.lb_bookmark,v.im_like=this.config.lb_itemLike,v.im_close=!0,v.im_fulscreen=!a.a.Device.ios&&this.config.lb_fullscreen,v.im_backgroundColor=this.config.lb_menuBackgroundColor,v.im_backgroundColorOver=this.config.lb_menuBackgroundColorOver,v.im_iconColor=this.config.lb_menuIconColor,v.im_iconColorOver=this.config.lb_menuIconColorOver,v.im_likesSet=this.config.lb_likesSet,v.im_isContainIdInBookmarkSet=this.config.lb_isContainIdInBookmarkSet,this.itemMenu=new n.a(this.appSet,n.a.MENU_TYPE.LIGHTBOX,v),this.itemMenuWrap.appendChild(this.itemMenu.view),this.appSet.appEventManager.addGMEventListener(n.a.EVENTS.ITEM_MENU_ACTION,this,"itemMenuActionHandler"),this.addToStage()}return T(e,null,[{key:"classPref",get:function(){var e=E.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"EVENTS",get:function(){return{LB_NEED_MODAL:"LB_NEED_MODAL",LB_REMOVE_LIGHTBOX:"LB_REMOVE_LIGHTBOX",LB_FULLSCREEN_SWITCH:"LB_FULLSCREEN_SWITCH",LB_ITEM_ACTION:"LB_ITEM_ACTION"}}},{key:"CONFIG",get:function(){return{lb_scrollNavi:!1,lb_backgroundColor:"rgba(0,0,0,0.8)",lb_preloaderColor:"#494949",lb_headerFooterHeight:40,lb_headerFooterColor:"rgba(0,0,0,1)",lb_sliderNavigationColor:"rgba(0,0,0,0.8)",lb_sliderNavigationIconColor:"rgba(255,255,255,1)",lb_sliderNavigationColorOver:"rgba(255,255,255,1)",lb_sliderNavigationIconColorOver:"rgba(0,0,0,0)",lb_itemCounterEnable:!0,lb_itemCounterColor:"rgba(255,255,255,1)",lb_itemTitleEnable:!0,lb_itemTitleSrc:"title",lb_itemTitleFontSize:18,lb_itemTitleTextColor:"rgba(255,255,255,1)",lb_sliderNextPrevAnimation:!0,lb_thumbBarEnable:!0,lb_thumbBarHoverColor:"rgba(255,255,255,1)",lb_itemInfoEnable:!1,lb_itemLike:!1,lb_itemShare:!1,lb_itemDownload:!0,lb_zoom:!0,lb_discuss:!1,lb_fullscreen:!0,lb_bookmark:!1,lb_menuBackgroundColor:"rgb(0,0,0)",lb_menuBackgroundColorOver:"rgb(255,255,255)",lb_menuIconColor:"rgb(255,255,255)",lb_menuIconColorOver:"rgb(0,0,0)",lb_slideshowEneble:!0,lb_slideshowTimer:8,lb_slideshowAutoPlay:!1,lb_slideshowIndicatorColorBg:"rgba(255,255,255,0.7)",lb_slideshowIndicatorColor:"rgba(255,255,255,1)",lb_copyR_Alert:"Hello, this photo is mine!",lb_copyR_Proptection:!0,lb_audioPlayer:void 0,lb_likesSet:void 0,lb_isContainIdInBookmarkSet:void 0}}}]),T(e,[{key:"itemMenuActionHandler",value:function(t){if(t.target===this.itemMenu){var i=t.params.item,n=t.params.type;if(i&&n){var o,s,r={};switch(r.item=i,n){case"info":r.type="info",this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.LB_NEED_MODAL,this,r)),this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(I.EVENTS.PLAY,this,{action:"stop"}));break;case"link":i.link&&window.open(i.link,i.linkTarget?i.linkTarget:this.config.lb_linkTargetWindow);break;case"like":this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.LB_ITEM_ACTION,this,{type:"like",item:i})),this.itemMenu.updateForItem(i);break;case"bookmark":this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.LB_ITEM_ACTION,this,{type:"bookmark",item:i})),this.itemMenu.updateForItem(i);break;case"share":r.type="share",this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.LB_NEED_MODAL,this,r)),this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(I.EVENTS.PLAY,this,{action:"stop"}));break;case"zoom":"function"==typeof this.sliderZoomSwitch&&this.sliderZoomSwitch();break;case"close":this.prepareToRemove();break;case"play":this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(I.EVENTS.PLAY,this,{}));break;case"download":o=i.url,(s=document.createElement("A")).href=o,s.download=o.substr(o.lastIndexOf("/")+1),document.body.appendChild(s),s.click(),document.body.removeChild(s);break;case"coments":"open"===i.comment_status&&(o="".concat(i.sharelink,"/#comments"),window.open(o,"_self"));break;case"fullscreen":this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.LB_FULLSCREEN_SWITCH,this,{}))}}}}},{key:"sliderZoomSwitch",value:function(){this.slider&&this.slider.remoteControl("zoom")}},{key:"slideShowSwitchHandler",value:function(e){if(this.autoPlay)if(e.params.action)switch(e.params.action){case"play":this.autoPlay.start();break;case"stop":this.autoPlay.clear()}else e.params.status?this.itemMenu&&this.itemMenu.playButtonStatus(e.params.status):this.autoPlay.switch()}},{key:"slideshowHandler",value:function(){this.slider&&this.slider.gotoNext()}},{key:"scrollBarHandler",value:function(e){if(e.target===this.thumbsBar&&this.slider&&e.params&&e.params.action&&(e.params.index||0===e.params.index))switch(e.params.action){case"click":this.slider.gotoPageByNum(e.params.index)}}},{key:"keydownHandler",value:function(){var e=this;return e.handlerKB=function(t){switch(t.keyCode){case 37:e.slider.remoteControl("prev");break;case 39:e.slider.remoteControl("next");break;case 32:a.a.preventDefault(t),e.slider.remoteControl("space")}},e.handlerKB}},{key:"addToStage",value:function(){var t=this,i=document.getElementsByTagName("body")[0];this.view.style.zIndex=a.a.findHighestZIndex(i)+1,a.a.disableBodyScrollSlider(),document.addEventListener("keydown",t.keydownHandler(),!0),i.appendChild(this.view),setTimeout((function(){t.view.classList.add("".concat(e.classPref,"activate"))}),30)}},{key:"initByList",value:function(e,t){e&&e.length>0&&(this.currentItemIndex=t&&0!==t?0:void 0,this.startItemIndex=t||0,this.itemsList=e,this.thumbsBar&&this.thumbsBar.initByItemslist(this.itemsList),this.slider.initByList(this.itemsList,this.startItemIndex),this.resizeHandler())}},{key:"prepareToRemove",value:function(){var t=this;if(!this.removing){if(this.removing=!0,this.autoPlay&&this.autoPlay.clear(),this.slider.prepareToRemove(),this.thumbsBar&&this.thumbsBar.prepareToRemove(),this.view.removeChild(this.header),this.view.removeChild(this.content),this.view.removeChild(this.footer),this.background.classList.add("".concat(e.classPref,"deactivate")),this.background.style.opacity="0",document.removeEventListener("keydown",this.handlerKB,!0),document.getElementById("gmediaAudioPlayer"))document.getElementById("gmediaAudioPlayer").pause();this.appSet.appEventManager.removeGMEventListener(n.a.EVENTS.ITEM_MENU_ACTION,this,"itemMenuActionHandler"),this.appSet.appEventManager.removeGMEventListener(x.EVENTS.UPDATE_CONTROLS,this,"updateViewControls"),this.appSet.appEventManager.removeGMEventListener(x.EVENTS.REMOVE_LIGHTBOX,this,"prepareToRemove"),this.appSet.appEventManager.removeGMEventListener(I.EVENTS.PLAY,this,"slideShowSwitchHandler"),this.appSet.appEventManager.removeGMEventListener(I.EVENTS.NEXT_SLIDE,this,"slideshowHandler"),this.appSet.appEventManager.removeGMEventListener(u.EVENTS.ITEMS_SCROLL_BAR_ITEM_ACTION,this,"scrollBarHandler"),setTimeout((function(){a.a.enableBodyScrollSlider(),t.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.LB_REMOVE_LIGHTBOX,t))}),300*this.backgroundOpacity)}}},{key:"mouseMoveHandler",value:function(){var t=this;"hide"===this.headerFooterStatus?(clearTimeout(this.mouseMovingTimer),"show"!==this.headerStatus&&(this.header.classList.add("".concat(e.classPref,"show")),this.headerStatus="show",this.slider&&this.slider.showHideNaviButton("show")),this.mouseMovingTimer=setTimeout((function(){t.header.classList.remove("".concat(e.classPref,"show")),t.slider&&t.slider.showHideNaviButton("hide"),t.headerStatus="hide"}),3e3)):(clearTimeout(this.mouseMovingTimer),"show"!==this.headerStatus&&(this.header.classList.add("".concat(e.classPref,"show")),this.headerStatus="show",this.slider&&this.slider.showHideNaviButton("show")))}},{key:"updateViewControls",value:function(t){var i=this;if(t.params.backgroundOpacity&&(this.background.style.opacity=t.params.backgroundOpacity,this.backgroundOpacity=t.params.backgroundOpacity),t.params.draging&&this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(I.EVENTS.PLAY,this,{action:"stop"})),t.params.zoom&&(this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(I.EVENTS.PLAY,this,{action:"stop"})),this.itemMenu&&this.itemMenu.zoomButtonStatus(t.params.zoom)),t.params.controls)switch(this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(I.EVENTS.PLAY,this,{action:"stop"})),this.headerFooterStatus=t.params.controls,this.mouseMoveHandler(),t.params.controls){case"show":(a.a.miniScreen||this.backgroundOpacity<.9)&&this.header.classList.add("".concat(e.classPref,"show")),this.footer.classList.add("".concat(e.classPref,"show"));break;case"hide":(a.a.miniScreen||this.backgroundOpacity<.9)&&this.header.classList.remove("".concat(e.classPref,"show")),this.footer.classList.remove("".concat(e.classPref,"show"))}if((t.params.itemIndex||0===t.params.itemIndex)&&(this.item_current_info.innerHTML=t.params.itemIndex+1,this.items_amount_info.innerHTML=this.itemsList.length,this.thumbsBar&&this.thumbsBar.selectThumbByIndex(t.params.itemIndex)),t.params.item&&(this.currentItem=t.params.item,this.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.LB_ITEM_ACTION,this,{type:"view",item:this.currentItem,itemIndex:t.params.itemIndex})),this.itemTitle&&(this.itemTitle.innerHTML=t.params.item[this.config.lb_itemTitleSrc]?t.params.item[this.config.lb_itemTitleSrc]:""),this.itemMenu&&this.itemMenu.updateForItem(t.params.item)),t.params.status)switch(t.params.status){case"ready":this.autoPlay&&this.config.lb_slideshowAutoPlay&&!this.startItem&&this.autoPlay.start(),this.view.addEventListener("mousemove",(function(e){i.mouseMoveHandler(e)}),!1)}}},{key:"resizeHandler",value:function(){if(this.view.clientWidth<360?(this.autoPlay&&(this.autoPlay.view.style.display="none"),this.descriptionWrap||this.thumbsBar):this.autoPlay&&(this.autoPlay.view.style.display=null),this.itemMenu&&this.itemMenu.resizeHandler(),this.thumbsBar){var e=this.footer.clientWidth-10;this.thumbsBar.size=a.a.Size(e,0)}this.slider&&this.slider.resizeHandler(a.a.Size(this.view.clientWidth,this.view.clientHeight))}}],[{key:"isMobileMode",get:function(){return!(!a.a.isTouchDevice||a.a.isiPpad)}}]),e}();t.a=L},function(e,t,i){"use strict";var n=i(0),a=i(19),o=i.n(a);function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function e(t,i,n,a,o,s,r){l(this,e);var c=document.createElement("div");return c.className=t,c.dataset.type=n,c.innerHTML=i,c.style.backgroundColor=a,c.style.order=r,c.style.fill=o,c.addEventListener("touchend",s,!1),c.addEventListener("click",s,!1),c.addEventListener("mouseenter",s,!1),c.addEventListener("mouseleave",s,!1),c},h=function(){function e(t,i,a){l(this,e),this.appSet=t,this.appName=t.appName,this.type=i,this.buttonsList=[];var o=e.MENU_TYPE;this.config=e.CONFIG,n.a.copyProperties(a,this.config),this.item=void 0,this.lightbox=i===o.LIGHTBOX,this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"view"),this.view.classList.add(i),this.initButtons()}return r(e,null,[{key:"classPref",get:function(){var e=o.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"EVENTS",get:function(){return{ITEM_MENU_ACTION:"ITEM_MENU_ACTION"}}},{key:"MENU_TYPE",get:function(){return{THUMB:"".concat(e.classPref,"type-thumb"),LIGHTBOX:"".concat(e.classPref,"type-lightbox"),ULTRABOX:"".concat(e.classPref,"type-ultrabox")}}},{key:"CONFIG",get:function(){return{im_linkTargetWindow:"_self",im_backgroundColor:"rgb(0,0,0)",im_backgroundColorOver:"rgb(255,255,255)",im_iconColor:"rgb(255,255,255)",im_iconColorOver:"rgb(0,0,0)",im_link:!1,im_play:!1,im_zoom:!1,im_info:!1,im_discuss:!1,im_download:!1,im_share:!1,im_like:!1,im_bookmark:!1,im_fulscreen:!1,im_thumbnails:!1,im_close:!1,im_likesSet:void 0,im_isContainIdInBookmarkSet:void 0}}}]),r(e,[{key:"initButtons",value:function(){var t=this.type,i=e.MENU_TYPE,a=this;function o(e){"like"===e.dataset.type&&e.dataset.like||("bookmark"===e.dataset.type&&e.dataset.bookmark?e.style.backgroundColor=a.backgroundColor:(e.style.backgroundColor=a.backgroundColor,e.style.fill=a.iconColor))}function s(t){if(this.eventType=t.type,"click"===t.type){var i=a.item;if(!i)return;var s={};switch(s.type=this.dataset.type,s.item=i,this.dataset.type){case"like":case"bookmark":case"fullscreen":default:o(this)}n.a.Device.desktop||o(this),a.appSet.appEventManager.dispatchGMEvent(n.a.GMEvent(e.EVENTS.ITEM_MENU_ACTION,a,s))}else"mouseenter"===t.type?"bookmark"===(r=this).dataset.type&&r.dataset.bookmark?r.style.backgroundColor=a.backgroundColorOver:(r.style.backgroundColor=a.backgroundColorOver,r.style.fill=a.iconColorOver):"mouseleave"===t.type&&o(this);var r}this.backgroundColor=this.config.im_backgroundColor,this.backgroundColorOver=this.config.im_backgroundColorOver,this.iconColor=this.config.im_iconColor,this.iconColorOver=this.config.im_iconColorOver,this.config.im_link&&(this.linkButton=new c("".concat(e.classPref,"button"),t===i.ULTRABOX?n.a.ICONS.LINK_2_SVG:n.a.ICONS.LINK_SVG,"link",this.backgroundColor,this.iconColor,s,t===i.ULTRABOX?6:0),this.buttonsList.push(this.linkButton),this.view.appendChild(this.linkButton)),this.config.im_play&&(this.playButton=new c("".concat(e.classPref,"button"),n.a.ICONS.PLAY_SVG,"play",this.backgroundColor,this.iconColor,s,1),this.buttonsList.push(this.playButton),this.view.appendChild(this.playButton)),this.config.im_zoom&&(this.zoomButton=new c("".concat(e.classPref,"button"),n.a.ICONS.ZOOM_IN_SVG,"zoom",this.backgroundColor,this.iconColor,s,2),this.buttonsList.push(this.zoomButton),this.view.appendChild(this.zoomButton)),this.config.im_info&&(this.infoButton=new c("".concat(e.classPref,"button"),n.a.ICONS.INFO_SVG,"info",this.backgroundColor,this.iconColor,s,t===i.ULTRABOX?5:3),this.buttonsList.push(this.infoButton),this.view.appendChild(this.infoButton)),this.config.im_discuss&&(this.commentsButton=new c("".concat(e.classPref,"button"),t===i.ULTRABOX?n.a.ICONS.COMENTS_2_SVG:n.a.ICONS.COMENTS_SVG,"coments",this.backgroundColor,this.iconColor,s,(i.ULTRABOX,4)),this.buttonsList.push(this.commentsButton),this.view.appendChild(this.commentsButton)),this.config.im_download&&(this.downloadButton=new c("".concat(e.classPref,"button"),t===i.ULTRABOX?n.a.ICONS.DOWNLOAD_2_SVG:n.a.ICONS.DOWNLOAD_SVG,"download",this.backgroundColor,this.iconColor,s,t===i.ULTRABOX?3:5),this.buttonsList.push(this.downloadButton),this.view.appendChild(this.downloadButton)),this.config.im_share&&(this.shareButton=new c("".concat(e.classPref,"button"),t===i.ULTRABOX?n.a.ICONS.SHARE_2_SVG:n.a.ICONS.SHARE_SVG,"share",this.backgroundColor,this.iconColor,s,t===i.ULTRABOX?2:6),this.buttonsList.push(this.shareButton),this.view.appendChild(this.shareButton)),this.config.im_bookmark&&(this.bookMarkButton=new c("".concat(e.classPref,"button"),n.a.ICONS.BOOKMARK_SVG,"bookmark",this.backgroundColor,this.iconColor,s),this.buttonsList.push(this.bookMarkButton),this.view.appendChild(this.bookMarkButton)),this.config.im_like&&(this.likeButton=new c("".concat(e.classPref,"button"),t===i.ULTRABOX?n.a.ICONS.HEART_2_SVG:n.a.ICONS.HEART_SVG,"like",this.backgroundColor,this.iconColor,s,t===i.ULTRABOX?1:7),this.buttonsList.push(this.likeButton),this.view.appendChild(this.likeButton)),this.config.im_thumbnails&&(this.thumbs=new c("".concat(e.classPref,"button"),n.a.ICONS.GRID_SVG,"thumbnails",this.backgroundColor,this.iconColor,s,8),this.buttonsList.push(this.thumbs),this.view.appendChild(this.thumbs)),this.config.im_fulscreen&&(this.fullscreenButton=new c("".concat(e.classPref,"button"),n.a.ICONS.FULL_SCREEN_SVG,"fullscreen",this.backgroundColor,this.iconColor,s,t===i.ULTRABOX?6:9),this.buttonsList.push(this.fullscreenButton),this.view.appendChild(this.fullscreenButton)),this.config.im_close&&(this.closeButton=new c("".concat(e.classPref,"button"),n.a.ICONS.CLOSE_SVG,"close",this.backgroundColor,this.iconColor,s,10),this.buttonsList.push(this.closeButton),this.view.appendChild(this.closeButton))}},{key:"updateConfig",value:function(e){if(0!==n.a.copyProperties(e,this.config).length){for(var t=0;t<this.buttonsList.length;t+=1){var i=this.buttonsList[t];i.parentNode&&i.parentNode.removeChild(i),delete this.buttonsList[t]}this.buttonsList=[],this.initButtons()}}},{key:"updateForItem",value:function(e){if(this.item=e,this.zoomButton&&("image"!==e.type?this.zoomButtonStatus("desable"):this.zoomButtonStatus("zoomOut")),this.downloadButton&&("image"===e.type||"audio"===e.type||"video"===e.type&&void 0===e.mime_type?(this.downloadButton.style.opacity="1",this.downloadButton.style.cursor="pointer",this.downloadButton.style.pointerEvents="auto"):(this.downloadButton.style.opacity="0.4",this.downloadButton.style.cursor="default",this.downloadButton.style.pointerEvents="none")),this.likeButton&&this.config.im_likesSet&&(this.config.im_likesSet()[e.ID]?(this.likeButton.style.fill="red",this.likeButton.style.cursor="default",this.likeButton.style.pointerEvents="none",this.likeButton.dataset.like=e.ID):(this.likeButton.style.fill=this.iconColor,this.likeButton.style.cursor="pointer",this.likeButton.style.pointerEvents="all",this.likeButton.removeAttribute("data-like"))),this.bookMarkButton&&(this.config.im_isContainIdInBookmarkSet(this.item.ID)||0===this.config.im_isContainIdInBookmarkSet(this.item.ID)?(this.bookMarkButton.dataset.bookmark=e.ID,this.bookMarkButton.style.fill="red"):(delete this.bookMarkButton.dataset.bookmark,this.bookMarkButton.style.fill=this.iconColor)),this.linkButton&&(e.link?(this.linkButton.style.display="block",this.linkButton.style.opacity="1",this.linkButton.style.cursor="pointer",this.linkButton.style.pointerEvents="all",e.linkText&&""!==e.linkText?this.linkButton.setAttribute("title",e.linkText):this.linkButton.removeAttribute("title")):(this.linkButton.style.opacity="0",this.linkButton.style.display="none",this.linkButton.style.cursor="default",this.linkButton.style.pointerEvents="none")),this.commentsButton)switch(e.comment_status){case"open":this.commentsButton.style.display=null;break;case"closed":this.commentsButton.style.display="none"}}},{key:"zoomButtonStatus",value:function(e){if(this.zoomButton&&this.zoomStatus!==e){switch(e){case"desable":this.zoomButton.innerHTML=n.a.ICONS.ZOOM_IN_SVG,this.zoomButton.style.pointerEvents="none",this.zoomButton.style.opacity=.4;break;case"zoomOut":this.zoomButton.innerHTML=n.a.ICONS.ZOOM_IN_SVG,this.zoomButton.style.pointerEvents="auto",this.zoomButton.style.opacity=1;break;case"zoomIn":this.zoomButton.innerHTML=n.a.ICONS.ZOOM_OUT_SVG,this.zoomButton.style.pointerEvents="auto",this.zoomButton.style.opacity=1}this.zoomStatus=e}}},{key:"playButtonStatus",value:function(e){if(this.playButton&&this.playStatus!==e){switch(e){case"play":this.playButton.innerHTML=n.a.ICONS.PAUSE_SVG;break;case"stop":this.playButton.innerHTML=n.a.ICONS.PLAY_SVG}this.playStatus=e}}},{key:"resizeHandler",value:function(){var e=this;setTimeout((function(){var t=document.webkitIsFullScreen||document.mozFullScreen||!1;e.fullscreenButton&&(e.fullscreenButton.innerHTML=t?n.a.ICONS.NORMAL_SCREEN_SVG:n.a.ICONS.FULL_SCREEN_SVG,e.fullscreenButton.style.fill=e.iconColor)}),200)}}]),e}();t.a=h},function(e,t,i){"use strict";var n=i(0),a=i(20),o=i.n(a);function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}n.a.trace;var l=function(){function e(t,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appSet=t,this.appName=t.appName,this.config=e.CONFIG,n.a.copyProperties(i,this.config),this.accelX=0,this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"view"),this.config.scrh_block_pan_y&&this.view.classList.add("pgc-block-pan-y"),this.startDragHandler=void 0,this.draggingPr=!1,this.config.scrh_dragin?(this.startDragHandler=this.startDrag(),this.view.addEventListener("mousedown",this.startDragHandler,!1)):this.view.addEventListener("mousedown",this.mouseHandler(),!1),this.view.addEventListener("mouseup",this.mouseHandler(),!1),this.view.addEventListener("touchstart",this.mouseHandler(),!1),this.view.addEventListener("touchend",this.mouseHandler(),!1),this.scrollView=void 0,this.pages=0,this.lastPageWidth=0,this.scrollDirection=0,this.nextPagePart=0,this.scrollScale=0,this.rPosX=0,this.currentPageIndex=0,this.currentPagePr=0,this.renderingX=!1,this.internalControll=!1,this.prevButtonSt=!1,this.nextButtonSt=!1,n.a.setStyleForElFomObj(this.view,a)}return r(e,null,[{key:"classPref",get:function(){var e=o.a.classPrefScroller;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"EVENTS",get:function(){return{SCR_ACTION:"SCR_ACTION",SCR_SCROLL:"SCR_SCROLL"}}},{key:"CONFIG",get:function(){return{scrh_dragin:!1,scrh_block_pan_y:!1}}}]),r(e,[{key:"initByScrollView",value:function(e){this.scrollView=e,this.view.appendChild(this.scrollView),this.calculateScroll()}},{key:"mouseHandler",value:function(){var e=this;return this.msHandler=function(t){switch(t.type){case"mousedown":case"touchstart":e.internalControll=!0;break;case"mouseup":case"touchend":e.internalControll=!1}},this.msHandler}},{key:"refresh",value:function(){clearInterval(this.scrollAnimInterval),this.scrHandler&&this.view.removeEventListener("scroll",this.scrHandler),this.currentPageIndex=0,this.view.scrollLeft=0,this.rPosX=0,this.appSet.appEventManager.dispatchGMEvent(n.a.GMEvent(e.EVENTS.SCR_SCROLL,this,{scroll:0})),this.calculateScroll()}},{key:"calculateScroll",value:function(){this.scrollWidth&&(this.scrollScale=this.width/this.scrollWidth,this.scrollScale<1?(this.view.addEventListener("scroll",this.scrollHandler()),this.config.scrh_dragin&&this.view.classList.add("".concat(e.classPref,"grabbable"))):(this.view.removeEventListener("scroll",this.scrHandler),this.config.scrh_dragin&&this.view.classList.remove("".concat(e.classPref,"grabbable"))),this.pages=Math.ceil(this.scrollWidth/this.width),this.lastPageWidth=this.scrollWidth%this.width==0?this.width:this.scrollWidth%this.width,this.updateControls())}},{key:"updateControls",value:function(t){var i={},a=this.pages,o=this.view.scrollLeft;i.pages=a,i.scrollScale=this.scrollScale,i.renderingX=this.renderingX,i.currentPage=void 0!==t?t:this.currentPagePr,1===a?(i.hasPrevPage=!1,i.hasNextPage=!1):(i.hasPrevPage=o>0,i.hasNextPage=this.scrollWidth-o-this.width>.5),this.appSet.appEventManager.dispatchGMEvent(n.a.GMEvent(e.EVENTS.SCR_ACTION,this,i))}},{key:"currentPage",value:function(){var t=this.pages,i=this.width,a=this.view.scrollLeft,o=this.scrollWidth-a-i,s=a%i,r=Math.ceil(a/i)===t-1?this.lastPageWidth:i;this.nextPagePart=s/r;var l=Math.round(Math.floor(a/i)+this.nextPagePart),c=-(this.rPosX-a)/Math.abs(this.rPosX-a);return c&&this.scrollDirection!==c&&(this.scrollDirection=c,this.updateControls()),this.currentPagePr===l&&0!==o&&0!==a||(this.currentPagePr=l,this.updateControls()),this.rPosX=a,this.appSet.appEventManager.dispatchGMEvent(n.a.GMEvent(e.EVENTS.SCR_SCROLL,this,{scroll:a,scrollDirection:c})),l}},{key:"gotoNext",value:function(){var e=this.currentPage(),t=this.nextPagePart>=.5&&!this.renderingX?e:e+1;this.gotoPageByIndex(t)}},{key:"gotoPrev",value:function(){var e=this.currentPage(),t=0!==this.nextPagePart&&this.nextPagePart<=.5&&!this.renderingX?e:e-1;this.gotoPageByIndex(t)}},{key:"gotoPageByIndex",value:function(e,t){var i=this.pages;this.internalControll=!1,e=Math.min(e,i-1);var n=(e=Math.max(e,0))*this.width;t?this.scrollLeft=n:this.scrollLeftAnime=n,this.currentPageIndex=e,this.updateControls(e)}},{key:"scrollHandler",value:function(){var e=this;return this.scrHandler=function(){e.internalControll&&(clearInterval(e.scrollAnimInterval),e.scrollAnimInterval=void 0),e.currentPage()},this.scrHandler}},{key:"startDrag",value:function(){var e,t,i,n,a=this,o=0,s=0,r=0;function l(l){var c,h=l.pageX,d=l.pageY;void 0===n&&(d===t?n=!1:(c=180*Math.atan2(Math.abs(d-t),Math.abs(h-e))/Math.PI,n=c>45));if(n)a.dragging=!0;else{l.preventDefault();var p=e-h;Math.abs(p)>4&&(a.dragging=!0),a.view.scrollLeft=i+p,s=r,r=a.view.scrollLeft,o=1*(r-s)}}function c(){document.removeEventListener("mousemove",l,!1),document.removeEventListener("mouseup",c,!1),0!==o?(a.scrollAnimInterval=setInterval((function(){o*=.9,a.view.scrollLeft+=o,a.accelX=a.view.scrollLeft,a.renderingX=!0,Math.abs(o)<.1&&(a.renderingX=!1,clearInterval(a.scrollAnimInterval),a.updateControls(),a.scrollAnimInterval=void 0)}),17),a.dragging=!1):(a.renderingX=!1,a.updateControls(),a.dragging=!1)}return function(s){s.preventDefault(),clearInterval(a.scrollAnimInterval),a.scrollAnimInterval=void 0,o=0,n=void 0;var r=s.pageX,h=s.pageY;e=r,t=h,i=a.view.scrollLeft,document.addEventListener("mousemove",l,!1),document.addEventListener("mouseup",c,!1)}}},{key:"resizeHandler",value:function(){if(this.viewWidth!==this.width){clearInterval(this.scrollAnimInterval),this.scrollAnimInterval=void 0;var e=this.pages;this.viewWidth=this.width;var t=(this.currentPageIndex+1)/e;this.calculateScroll();var i=Math.round(t*e)-1;this.gotoPageByIndex(0===this.currentPageIndex?0:i)}}},{key:"remove",value:function(){clearInterval(this.scrollAnimInterval),this.view.removeEventListener("scroll",this.scrHandler),this.view.removeEventListener("mouseup",this.msHandler,!1),this.view.removeEventListener("touchstart",this.msHandler,!1),this.view.removeEventListener("touchend",this.msHandler,!1)}},{key:"dragging",set:function(e){var t=this;clearTimeout(this.draggingDelayTimer),e?(this.draggingPr=!0,this.view.classList.add("isDraging")):(this.draggingDelayTimer=setTimeout((function(){t.draggingPr=!1}),20),this.view.classList.remove("isDraging"))}},{key:"draging",get:function(){return this.draggingPr}},{key:"scrollWidth",get:function(){if(this.scrollView)return this.scrollView.clientWidth}},{key:"width",get:function(){return this.view.clientWidth}},{key:"scrollLeftAnime",set:function(e){var t=this;this.accelX=Math.max(e,0),this.accelX=Math.min(e,this.scrollWidth-this.width);var i=this.view.scrollLeft,n=0,a=.05+.05*Math.abs(this.accelX-i)/1e3;a=Math.min(.9,a),this.renderingX=!0,this.scrollAnimInterval||(this.scrollAnimInterval=setInterval((function(){n=(t.accelX-i)*a,i+=n,t.view.scrollLeft=i,Math.abs(i-t.accelX)<=1&&(t.view.scrollLeft=t.accelX,t.renderingX=!1,t.updateControls(),clearInterval(t.scrollAnimInterval),t.scrollAnimInterval=void 0)}),17))}},{key:"scrollLeft",set:function(e){this.scrollAnimInterval&&(clearInterval(this.scrollAnimInterval),this.scrollAnimInterval=void 0),this.view.scrollLeft=e},get:function(){return this.view.scrollLeft}}]),e}();t.a=l},function(e,t,i){"use strict";var n=i(0),a=i(22),o=i.n(a);function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}var l=function(){function e(t,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appSet=t,this.appName=t.appName,this.modal=i,this.config=e.CONFIG,n.a.copyProperties(a,this.config);var o=document.createElement("div");o.className="".concat(e.classPref,"view"),o.style.backgroundColor=this.config.mpPageBgColor;var s=document.createElement("div");s.className="".concat(e.classPref,"close-button"),s.innerHTML=n.a.ICONS.CLOSE_SVG,s.style.backgroundColor=this.config.mpButtonBackgroundColor,s.childNodes[0].style.fill=this.config.mpButtonIconColor,n.a.isTouchDevice&&s.addEventListener("touchend",(function(){i.dragging||i.prepareToRemove()}),!1),s.addEventListener("click",(function(){i.prepareToRemove()}),!1),o.appendChild(s),this.view=o}return r(e,null,[{key:"classPref",get:function(){var e=o.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"EVENTS",get:function(){return{}}},{key:"PAGE_CONFIG",get:function(){return{mpButtonBackgroundColor:"rgba(0,0,0,0)",mpButtonIconColor:"white",mpPageBgColor:"rgb(230,230,230)"}}},{key:"CONFIG",get:function(){return e.PAGE_CONFIG}}]),r(e,[{key:"item",set:function(e){}}]),e}();t.a=l},function(e,t,i){"use strict";var n=i(0),a=i(21),o=i.n(a);function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}var l=function(){function e(t,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=e.CONFIG,n.a.copyProperties(i,this.config),this.iconsSet=e.ICONS,this.passiveListener=n.a.passiveListener,this.type=void 0,this.appSet=t,this.appName=t.appName,this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"window"),this.stageFixedMode=!1,this.closeButton=document.createElement("div"),this.closeButton.className="".concat(e.classPref,"close-button"),this.closeButton.style.backgroundColor=this.config.mwBackgroundColor,this.view.addEventListener("click",(function(e){e.target!==a.view&&e.target!==a.closeButton||a.prepareToRemove(e)}),n.a.passiveListener),this.view.appendChild(this.closeButton);var o=document.createElement("div");o.className="".concat(e.classPref,"flex"),this.view.appendChild(o),this.scrollView=void 0,this.dragging=!1,this.scrollViewTranslateYPr=0,this.startDragHandler=void 0,this.viewCompleted=!1,this.initForStage(this.config.mwParentDiv,this.config.mwFixedMode)}return r(e,null,[{key:"classPref",get:function(){var e=o.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"EVENTS",get:function(){return{REMOVE_MODAL_WINDOW:"REMOVE_MODAL_WINDOW"}}},{key:"CONFIG",get:function(){return{mwParentDiv:void 0,mwFixedMode:!1,mwBackgroundColor:"rgba(0,0,0,0.8)"}}}]),r(e,[{key:"initForStage",value:function(t,i){var a=this;t.appendChild(this.view),this.view.style.zIndex=n.a.findHighestZIndex(t)+1,i?(n.a.disableBodyScrollSlider(),this.view.classList.add("".concat(e.classPref,"fixed-modal")),this.stageFixedMode=!0):this.stageFixedMode=!1,setTimeout((function(){a.view.style.opacity="1"}),30)}},{key:"addToStage",value:function(e){var t=this,i=document.getElementsByTagName("body")[0];this.view.style.zIndex=n.a.findHighestZIndex(i)+1,n.a.disableBodyScrollSlider(),e?e.appendChild(this.view):i.appendChild(this.view),setTimeout((function(){t.view.style.opacity="1"}),30)}},{key:"prepareToRemove",value:function(){var t=this;this.view.style.opacity="0",this.stageFixedMode&&n.a.enableBodyScrollSlider(),setTimeout((function(){t.view&&t.view.parentNode&&t.view.parentNode.removeChild(t.view),delete t.view,t.appSet.appEventManager.dispatchGMEvent(n.a.GMEvent(e.EVENTS.REMOVE_MODAL_WINDOW,t,{}))}),400)}},{key:"pushPage",value:function(e){this.viewCompleted=!1,this.scrollView&&this.scrollView.parentNode&&this.scrollView.parentNode.removeChild(this.scrollView),this.view.appendChild(e),this.scrollView=e,this.updateControlls()}},{key:"updateControlls",value:function(){this.scrollView&&(this.viewCompleted||(this.startDragHandler=this.startDrag(),this.scrollView.addEventListener("touchstart",this.startDragHandler,this.passiveListener),this.scrollView.addEventListener("mousedown",this.startDragHandler,!1),this.viewCompleted=!0))}},{key:"startDrag",value:function(){var e,t,i=this,a=0,o=0,s=0,r=0,l=n.a.requestAnimationFrame,c=n.a.cancelAnimationFrame;function h(){i.scrollViewTranslateY>0?o=.2*o+.1*(0-i.scrollViewTranslateY):i.scrollViewTranslateY<i.bottom?o=.2*o+.1*(i.bottom-i.scrollViewTranslateY):o*=.95,i.scrollViewTranslateY+=o,Math.abs(o)<.04?(i.dragging=!1,c(t)):t=l(h)}function d(t){var n=null;t.originalEvent&&(t=t.originalEvent),t.preventDefault(),n=t.touches&&t.touches[0]?t.touches[0].pageY:t.pageY;var l=e-n;l&&(i.dragging=!0),i.scrollViewTranslateY=a-l,s=r,r=i.scrollViewTranslateY,o=1*(r-s)}function p(e){if(e.preventDefault(),i.scrollView.style.transition="none",n.a.isTouchDevice&&(document.removeEventListener("touchmove",d,i.passiveListener),document.removeEventListener("touchend",p,i.passiveListener)),document.removeEventListener("mousemove",d,!1),document.removeEventListener("mouseup",p,!1),document.removeEventListener("oncontextmenu",p,!1),i.bottom<=0){if(i.scrollViewTranslateY<i.bottom-50||i.scrollViewTranslateY>50)return void i.prepareToRemove()}else if(i.scrollViewTranslateY<-50||i.scrollViewTranslateY>50)return void i.prepareToRemove();(0!==o||i.scrollViewTranslateY>0||i.scrollViewTranslateY<i.bottom)&&i.dragging&&(t=l(h))}return function(s){if(!s)return o=0,a=i.scrollViewTranslateY,void c(t);var l;(n.a.isTouchDevice||s.preventDefault(),s.originalEvent&&(s=s.originalEvent),s.button&&0!==s.button)||(o=0,r=i.scrollViewTranslateY,l=s.touches&&s.touches[0]?s.touches[0].pageY:s.pageY,e=l,a=i.scrollViewTranslateY,c(t),n.a.isTouchDevice&&(document.addEventListener("touchmove",d,i.passiveListener),document.addEventListener("touchend",p,i.passiveListener)),document.addEventListener("mousemove",d,!1),document.addEventListener("mouseup",p,!1),document.addEventListener("oncontextmenu",p,!1))}}},{key:"bottom",get:function(){return this.view.clientHeight-this.scrollView.clientHeight-20}},{key:"scrollViewTranslateY",set:function(e){this.scrollViewTranslateYPr=e,this.scrollView.style.transform="translateY(".concat(e,"px)");var t=Math.max(1-Math.abs(e/200),0);this.closeButton.style.opacity=t},get:function(){return this.scrollViewTranslateYPr}}]),e}();t.a=l},function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return h})),i.d(t,"c",(function(){return d}));var n=i(0),a=i(25),o=i.n(a);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}n.a.trace;var c=function(){function e(t,i,a){s(this,e);var o=this;function r(t){var i=t.target&&t.target.dataset.index?t.target:void 0,a=t.target.dataset.index;if(i)switch(t.type){case"mouseenter":o.inBulet=i,i.classList.add("hover");break;case"mouseleave":o.inBulet.classList.remove("hover");break;case"click":o.appSet.appEventManager.dispatchGMEvent(n.a.GMEvent(e.EVENTS.BULET_NAVI_ACTION,o,{index:a}))}}this.appSet=t,this.appName=t.appName,this.bullets=[],this.activIndex=void 0,this.inBulet=void 0,this.config=e.CONFIG,n.a.copyProperties(i,this.config),this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"view"),this.view.addEventListener("click",r,!0),this.view.addEventListener("mouseenter",r,!0),this.view.addEventListener("mouseleave",r,!0),this.setStyle(a)}return l(e,null,[{key:"classPref",get:function(){var e=o.a.classPrefBulet;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"EVENTS",get:function(){return{BULET_NAVI_ACTION:"BULET_NAVI_ACTION"}}},{key:"CONFIG",get:function(){return{bl_n_size:10,bl_n_bulColor:"lightgray",bl_n_activColor:"gray"}}}]),l(e,[{key:"removeBulets",value:function(){for(var e=0;e<this.bullets.length;e+=1){var t=this.bullets[e];t.parentNode&&t.parentNode.removeChild(t)}this.bullets=[],this.activIndex=void 0}},{key:"init",value:function(t){if(t!==this.bullets.length){this.removeBulets(),1===t?this.view.classList.add("pgc-remove"):this.view.classList.remove("pgc-remove");for(var i=0;i<t;i+=1){var n=document.createElement("div");n.dataset.index=i,n.className="".concat(e.classPref,"bulet"),this.bullets.push(n),this.view.appendChild(n)}this.updateProps(this.config)}}},{key:"updateProps",value:function(e){n.a.copyProperties(e,this.config);for(var t=0;t<this.bullets.length;t+=1){var i=this.bullets[t];i.style.backgroundColor=t===this.activIndex?this.config.bl_n_activColor:this.config.bl_n_bulColor,i.style.width="".concat(this.config.bl_n_size,"px"),i.style.height="".concat(this.config.bl_n_size,"px")}}},{key:"setStyle",value:function(e){n.a.setStyleForElFomObj(this.view,e)}},{key:"selectedItem",set:function(e){var t;(e=Math.min(this.bullets.length-1,Math.max(e,0)))!==this.activIndex&&(void 0!==this.activIndex&&((t=this.bullets[this.activIndex]).classList.remove("select"),t.style.backgroundColor=this.config.bl_n_bulColor),(t=this.bullets[e])&&(t.classList.add("select"),t.style.backgroundColor=this.config.bl_n_activColor),this.activIndex=e)}}]),e}(),h=function(){function e(t,i,a){s(this,e);var o=this;function r(t){switch(t.type){case"mouseenter":this.style.backgroundColor=o.config.np_navi_color_over,this.style.fill=o.config.np_navi_icon_color_over;break;case"mouseleave":this.style.backgroundColor=o.config.np_navi_color,this.style.fill=o.config.np_navi_icon_color;break;case"click":if(!1===o["".concat(this.dataset.type,"Activ")])return;o.appSet.appEventManager.dispatchGMEvent(n.a.GMEvent(e.EVENTS.NP_NAVI_ACTION,o,{type:this.dataset.type}))}}this.appSet=t,this.appName=t.appName,this.config=e.CONFIG,n.a.copyProperties(i,this.config),this.nextActiv=!0,this.prevActiv=!0,this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"view"),this.subView=document.createElement("div"),this.subView.className="".concat(e.classPref,"sub-view"),this.prevButton=document.createElement("div"),this.prevButton.className="".concat(e.classPref,"button"),this.prevButton.classList.add("".concat(e.classPref,"prev")),this.prevButton.innerHTML=e.ICONS.PREV_ARR,this.prevButton.dataset.type="prev",this.prevButton.addEventListener("click",r,!1),this.prevButton.addEventListener("mouseenter",r,!1),this.prevButton.addEventListener("mouseleave",r,!1),this.view.appendChild(this.prevButton),this.view.appendChild(this.subView),this.nextButton=document.createElement("div"),this.nextButton.className="".concat(e.classPref,"button"),this.nextButton.classList.add("".concat(e.classPref,"next")),this.nextButton.dataset.type="next",this.nextButton.innerHTML=e.ICONS.NEXT_ARR,this.nextButton.addEventListener("click",r,!1),this.nextButton.addEventListener("mouseenter",r,!1),this.nextButton.addEventListener("mouseleave",r,!1),this.view.appendChild(this.nextButton),n.a.setStyleForElFomObj(this.view,a),this.updateProps(this.config)}return l(e,null,[{key:"ICONS",get:function(){return{NEXT_ARR:'<svg version="1.0" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><polyline points="8.5,3 17.5,12 8.5,21 " stroke-miterlimit="10" stroke-width="1"/></svg>',PREV_ARR:'<svg id="Layer_1" version="1.0" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><polyline points="15.5,21 6.5,12 15.5,3 " stroke-miterlimit="10" stroke-width="1"/></svg>'}}},{key:"classPref",get:function(){var e=o.a.classPrefNPnavi;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"EVENTS",get:function(){return{NP_NAVI_ACTION:"NP_NAVI_ACTION"}}},{key:"CONFIG",get:function(){return{np_navi_size:10,np_navi_color:"black",np_navi_color_over:"lightgray",np_navi_icon_color:"white",np_navi_icon_color_over:"black"}}}]),l(e,[{key:"updateProps",value:function(e){n.a.copyProperties(e,this.config),this.nextButton.style.backgroundColor=this.config.np_navi_color,this.nextButton.style.fill=this.config.np_navi_icon_color,this.prevButton.style.backgroundColor=this.config.np_navi_color,this.prevButton.style.fill=this.config.np_navi_icon_color}},{key:"setStaus",value:function(e,t){if(!t&&!e)return this.nextButton.classList.add("pgc-remove"),void this.prevButton.classList.add("pgc-remove");this.nextButton.classList.remove("pgc-remove"),this.prevButton.classList.remove("pgc-remove"),this.nextActiv!==t&&(t?this.nextButton.classList.remove("pgc-desable"):this.nextButton.classList.add("pgc-desable"),this.nextActiv=t),this.prevActiv!==e&&(e?this.prevButton.classList.remove("pgc-desable"):this.prevButton.classList.add("pgc-desable"),this.prevActiv=e)}},{key:"addSubView",set:function(e){this.subView.appendChild(e)}}]),e}(),d=function(){function e(t,i,a){s(this,e),this.appSet=t,this.appName=t.appName,this.config=e.CONFIG,n.a.copyProperties(i,this.config),this.scalePr=0,this.positionPr=0,this.barXPr=0,this.barWidth=0,this.draging=!1,this.startDragHandler=void 0,this.trackHandler=void 0,this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"view"),this.track=document.createElement("div"),this.track.className="".concat(e.classPref,"track"),this.trackView=document.createElement("div"),this.track.appendChild(this.trackView),this.view.appendChild(this.track),this.bar=document.createElement("div"),this.bar.className="".concat(e.classPref,"bar"),this.barView=document.createElement("div"),this.bar.appendChild(this.barView),this.view.appendChild(this.bar),n.a.setStyleForElFomObj(this.view,a),this.updateProps(this.config)}return l(e,null,[{key:"classPref",get:function(){var e=o.a.classPrefScrollBar;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"EVENTS",get:function(){return{SCROLL_BAR_ACTION:"SCROLL_BAR_ACTION"}}},{key:"CONFIG",get:function(){return{scr_bar_size:10,scr_bar_padding:0,scr_bar_trackColor:"lightgray",scr_bar_BarColor:"gray",scr_bar_BarHoverColor:"black"}}}]),l(e,[{key:"updateProps",value:function(e){n.a.copyProperties(e,this.config),this.trackView.style.height="".concat(this.config.scr_bar_size,"px"),this.trackView.style.backgroundColor=this.config.scr_bar_trackColor,this.track.style.padding="".concat(this.config.scr_bar_padding,"px 0"),this.barView.style.backgroundColor=this.config.scr_bar_BarColor,this.bar.style.padding="".concat(this.config.scr_bar_padding,"px 0")}},{key:"startBarDrag",value:function(){var e,t,i,n,a=this;function o(o){var s,r=o.pageX,l=o.pageY;void 0===n&&(l===t?n=!1:(s=180*Math.atan2(Math.abs(l-t),Math.abs(r-e))/Math.PI,n=s>45));if(n)a.dragging=!0;else{o.preventDefault();var c=e-r;c&&(a.dragging=!0),a.barX=i-c}}function s(){document.removeEventListener("mousemove",o,!1),document.removeEventListener("mouseup",s,!1),a.dragging=!1}return function(r){r.preventDefault(),n=void 0;var l=r.pageX,c=r.pageY;e=l,t=c,i=a.barXPr,document.addEventListener("mousemove",o,!1),document.addEventListener("mouseup",s,!1)}}},{key:"startTouchTrack",value:function(){var t=this;return function(i){i.preventDefault();var a=i.pageX-t.barWidth/2,o=(a-=t.view.getBoundingClientRect().left)/t.scalePr;t.appSet.appEventManager.dispatchGMEvent(n.a.GMEvent(e.EVENTS.SCROLL_BAR_ACTION,t,{positionAnime:o}))}}},{key:"width",get:function(){return this.view.clientWidth}},{key:"scale",set:function(e){e<1?(this.barWidth=this.width*e,this.bar.style.width="".concat(this.barWidth,"px"),this.startDragHandler=this.startBarDrag(),this.trackHandler=this.startTouchTrack(),this.bar.addEventListener("mousedown",this.startDragHandler,!1),this.track.addEventListener("mousedown",this.trackHandler,!1),this.view.classList.add("pgc-enable")):(this.view.classList.remove("pgc-enable"),this.bar.removeEventListener("mousedown",this.startBarDrag,!1),this.bar.removeEventListener("mousedown",this.startTouchTrack,!1),this.bar.style.width="".concat(0,"px"),this.barWidth=0),this.scalePr=e}},{key:"position",set:function(e){if(this.positionPr=e,!this.draging){var t=e*this.scalePr;this.barXPr=t,this.bar.style.transform="translateX(".concat(t,"px)")}},get:function(){return this.barXPr/this.scalePr}},{key:"barX",set:function(t){t=Math.max(t,0),t=Math.min(t,this.width-this.barWidth),this.bar.style.transform="translateX(".concat(t,"px)"),this.barXPr=t,this.appSet.appEventManager.dispatchGMEvent(n.a.GMEvent(e.EVENTS.SCROLL_BAR_ACTION,this,{position:this.position}))}}]),e}()},function(e,t,i){var n=i(3),a=i(33);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},function(e,t,i){"use strict";var n=i(8),a=i(1),o=i(24),s=i.n(o);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=u(e);if(t){var a=u(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return p(this,i)}}function p(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(p,e);var t,i,o,r=d(p);function p(){return l(this,p),r.apply(this,arguments)}return t=p,o=[{key:"classPref",get:function(){var e=s.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"CONFIG",get:function(){var e={};return a.a.copyProperties(n.a.PAGE_CONFIG,e),e.mpModalInfoBoxTitleTextColor="black",e}}],(i=[{key:"item",set:function(e){var t=this,i=this.view,n=e.sharelink,o="";if(""!==(o+='<div class="'.concat(p.classPref,'item-title" style="color: \'\n      ').concat(this.config.mpModalInfoBoxTitleTextColor,"'\">").concat(e.title,"</div>"))){var s=document.createElement("div");s.className="".concat(p.classPref,"description-wrap"),s.style.float="none",s.style.marginRight="41px",s.innerHTML=o,i.appendChild(s)}var r=document.createElement("div");r.className="".concat(p.classPref,"description-wrap"),r.style.float="none",r.style.padding="0px 20px",i.appendChild(r);var l=!1;function c(){if(!t.modal.dragging){var i,a,o=this.dataset.type,s=(window.screen.width-600)/2,r="menubar=no,toolbar=no,resizable=yes,scrollbars=yes, top=".concat(200,",\n         left=").concat(s,", height=450,width=600");switch(o){case"copy":i=document.getElementById("gmSH_title_copy"),a=this.getElementsByTagName("svg")[0],l&&window.open(n,"_blank"),window.getSelection().selectAllChildren(i);try{document.execCommand("copy")&&(window.getSelection().removeAllRanges(),a.style.fill="green",i.style.color="green",l=!0)}catch(e){window.open(n,"_blank")}break;case"facebook":window.open("https://www.facebook.com/share.php?u=".concat(n),"",r);break;case"twitter":window.open("https://twitter.com/intent/tweet?text=".concat(encodeURI(e.title),"&url=").concat(n),"",r);break;case"pinterest":window.open("http://www.pinterest.com/pin/create/button/?url=".concat(n,"&media=").concat(e.url,"\n              &description=").concat(encodeURI(e.title)),"",r)}}}var h=document.createElement("div");h.dataset.type="facebook",h.className="".concat(p.classPref,"item-button-wrap"),h.id="woowbox_share_fb";var d=document.createElement("div");d.className="".concat(p.classPref,"item-button"),d.innerHTML="".concat(a.a.ICONS.FB_SVG_COLOR,'\n      <div class="').concat(p.classPref,'button-title" style="color: #3b5998">Facebook</div>'),d.getElementsByTagName("svg")[0].style.fill="#3b5998",h.appendChild(d),h.addEventListener("mouseup",c,!1),a.a.isTouchDevice&&h.addEventListener("touchend",c,!1),r.appendChild(h),(h=document.createElement("div")).dataset.type="twitter",h.className="".concat(p.classPref,"item-button-wrap"),h.id="woowbox_share_tw",(d=document.createElement("div")).className="".concat(p.classPref,"item-button"),d.innerHTML="".concat(a.a.ICONS.TW_SVG,'\n      <div class="').concat(p.classPref,'button-title" style="color: #00aced">Twitter</div>'),d.getElementsByTagName("svg")[0].style.fill="#00aced",h.appendChild(d),h.addEventListener("mouseup",c,!1),a.a.isTouchDevice&&h.addEventListener("touchend",c,!1),r.appendChild(h),(h=document.createElement("div")).dataset.type="pinterest",h.className="".concat(p.classPref,"item-button-wrap"),h.id="woowbox_share_pin",(d=document.createElement("div")).className="".concat(p.classPref,"item-button"),d.innerHTML="".concat(a.a.ICONS.PIN_SVG,'\n      <div class="').concat(p.classPref,'button-title" style="color: #cc2127">Pinterest</div>'),d.getElementsByTagName("svg")[0].style.fill="#cc2127",h.appendChild(d),h.addEventListener("mouseup",c,!1),a.a.isTouchDevice&&h.addEventListener("touchend",c,!1),r.appendChild(h),(h=document.createElement("div")).dataset.type="copy",h.className="".concat(p.classPref,"item-button-wrap"),h.id="woowbox_share_link",(d=document.createElement("div")).className="".concat(p.classPref,"item-copy-link"),d.innerHTML="".concat(a.a.ICONS.LINK_SVG,'\n        <div id="gmSH_title_copy" class="').concat(p.classPref,'button-title" style="color: #7d7d7d">').concat(n,"</div>"),d.getElementsByTagName("svg")[0].style.fill="#7d7d7d",h.appendChild(d),h.addEventListener("mouseup",c,!1),a.a.isTouchDevice&&h.addEventListener("touchend",c,!1),r.appendChild(h),i.appendChild(r)}}])&&c(t.prototype,i),o&&c(t,o),p}(n.a);t.a=m},function(e,t,i){var n=i(3),a=i(32);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},function(e,t,i){var n=i(3),a=i(34);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},function(e,t,i){"use strict";var n=i(8),a=i(1),o=i(23),s=i.n(o),r=i(2);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=m(e);if(t){var a=m(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return u(this,i)}}function u(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(u,e);var t,i,o,l=p(u);function u(){return c(this,u),l.apply(this,arguments)}return t=u,o=[{key:"classPref",get:function(){var e=s.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"EVENTS",get:function(){return{ITEM_MENU_ACTION:"ITEM_MENU_ACTION",NEED_NEW_COLLECTION:"NEED_NEW_COLLECTION"}}},{key:"CONFIG",get:function(){var e={};return a.a.copyProperties(n.a.PAGE_CONFIG,e),e.mpInfoBarDateInfoEnable=!1,e.mpInfoBarExifEnable=!1,e.mpInfoBarTerms=!1,e.mpInfoBarCountersEnable=!1,e.mpModalInfoBoxTitleTextColor="black",e.mpModalInfoBoxTextColor="black",e.mpInfoBarTermsTitleColor="white",e.mpInfoBarTermsBackgroundColorAlbums="red",e.mpInfoBarTermsBackgroundColorCategories="orange",e.mpInfoBarTermsBackgroundColorTags="green",e}}],(i=[{key:"item",set:function(e){var t=this.view,i=this.modal,n=this,o=document.createElement("div");o.className="".concat(u.classPref,"content"),t.appendChild(o);var s,l="";if(e.title&&""!==e.title&&(l+='<div class="'.concat(u.classPref,'item-title" style="color:\n      ').concat(this.config.mpModalInfoBoxTitleTextColor,'">').concat(e.title,"</div>")),e.description&&""!==e.description&&(l+='<div class="'.concat(u.classPref,'item-description" style="color:\n        ').concat(this.config.mpModalInfoBoxTextColor,'">').concat(e.description,"</div>")),""!==l)(s=document.createElement("div")).className="".concat(u.classPref,"description-wrap"),s.style.float="none",s.innerHTML=l,o.appendChild(s);else if(!this.config.mpInfoBarExifEnable&&!this.config.mpInfoBarCountersEnable&&!this.config.mpInfoBarDateInfoEnable){var c=document.createElement("div");c.className="".concat(u.classPref,"fun"),c.style.color=this.config.mpModalInfoBoxTitleTextColor,c.innerHTML="¯&#92;_(ツ)_/¯",o.appendChild(c)}function h(){if(!i.dragging){var e=this.dataset.termId,t=this.dataset.taxonomy;n.appSet.appEventManager.dispatchGMEvent(a.a.GMEvent(r.a.NEED_NEW_COLLECTION,n,{term_id:[e],taxonomy:t}))}}if(this.config.mpInfoBarTerms){var d=document.createElement("div");if(d.className="".concat(u.classPref,"description-wrap"),d.style.float="none",d.style.minHeight="0",d.style.color=this.config.mpModalInfoBoxTextColor,t.appendChild(d),e.albums&&e.albums.length>0){var p=document.createElement("ul");p.className="".concat(u.classPref,"terms-list"),p.classList.add("".concat(u.classPref,"tags-ul"));var m=document.createElement("li");m.className="".concat(u.classPref,"terms-title"),m.innerHTML="Albums:",p.appendChild(m);for(var v=0;v<e.albums.length;v+=1){var g=document.createElement("li");g.className="".concat(u.classPref,"album"),g.innerHTML=e.albums[v].name,g.style.color=this.config.mpInfoBarTermsTitleColor,g.style.backgroundColor=this.config.mpInfoBarTermsBackgroundColorAlbums,g.onmouseover=function(){this.style.color=n.config.mpInfoBarTermsBackgroundColorAlbums,this.style.backgroundColor=n.config.mpInfoBarTermsTitleColor},g.onmouseout=function(){this.style.color=n.config.mpInfoBarTermsTitleColor,this.style.backgroundColor=n.config.mpInfoBarTermsBackgroundColorAlbums},g.dataset.termId=e.albums[v].term_id,g.dataset.taxonomy="album__in",g.addEventListener("mouseup",h,!1),a.a.isTouchDevice&&g.addEventListener("touchend",h,!1),p.appendChild(g)}d.appendChild(p)}if(e.categories&&e.categories.length>0){var f=document.createElement("ul");f.className="".concat(u.classPref,"terms-list"),f.classList.add("".concat(u.classPref,"tags-ul"));var w=document.createElement("li");w.className="".concat(u.classPref,"terms-title"),w.innerHTML="Categories:",f.appendChild(w);for(var b=0;b<e.categories.length;b+=1){var y=document.createElement("li");y.className="".concat(u.classPref,"category"),y.innerHTML=e.categories[b].title,y.style.color=n.config.mpInfoBarTermsTitleColor,y.style.backgroundColor=n.config.mpInfoBarTermsBackgroundColorCategories,y.onmouseover=function(){this.style.color=n.config.mpInfoBarTermsBackgroundColorCategories,this.style.backgroundColor=n.config.mpInfoBarTermsTitleColor},y.onmouseout=function(){this.style.color=n.config.mpInfoBarTermsTitleColor,this.style.backgroundColor=n.config.mpInfoBarTermsBackgroundColorCategories},y.addEventListener("mouseup",h,!1),a.a.isTouchDevice&&y.addEventListener("touchend",h,!1),y.dataset.termId=e.categories[b].term_id,y.dataset.taxonomy="category__in",f.appendChild(y)}d.appendChild(f)}if(e.tags&&e.tags.length>0){var C=document.createElement("ul");C.className="".concat(u.classPref,"terms-list"),C.classList.add("".concat(u.classPref,"tags-ul"));var x=document.createElement("li");x.className="".concat(u.classPref,"terms-title"),x.innerHTML="Tags:",C.appendChild(x);for(var S=0;S<e.tags.length;S+=1){var E=document.createElement("li");E.className="".concat(u.classPref,"tags"),E.innerHTML=e.tags[S].name,E.style.color=n.config.mpInfoBarTermsTitleColor,E.style.backgroundColor=n.config.mpInfoBarTermsBackgroundColorTags,E.onmouseover=function(){this.style.color=n.config.mpInfoBarTermsBackgroundColorTags,this.style.backgroundColor=n.config.mpInfoBarTermsTitleColor},E.onmouseout=function(){this.style.color=n.config.mpInfoBarTermsTitleColor,this.style.backgroundColor=n.config.mpInfoBarTermsBackgroundColorTags},E.addEventListener("mouseup",h,!1),a.a.isTouchDevice&&E.addEventListener("touchend",h,!1),E.dataset.termId=e.tags[S].term_id,E.dataset.taxonomy="tag__in",C.appendChild(E)}d.appendChild(C)}}if(this.config.mpInfoBarExifEnable){var k="";if(e.meta.data){e.meta.data&&e.meta.data.camera&&(k+='<div class="'.concat(u.classPref,'meta-exif-value">').concat(e.meta.data.camera,"</div></br>"));var _=[];if(e.meta.data&&e.meta.data.focal_length&&_.push('<div class="'.concat(u.classPref,'meta-exif-value">').concat(e.meta.data.focal_length,"</div>")),e.meta.data&&e.meta.data.aperture&&_.push('<div class="'.concat(u.classPref,'meta-exif-value">').concat(e.meta.data.aperture,"</div>")),e.meta.data&&e.meta.data.shutter_speed&&_.push('<div class="'.concat(u.classPref,'meta-exif-value">').concat(e.meta.data.shutter_speed.split(" ")[0],"</div>")),e.meta.data&&e.meta.data.iso){var T="ISO ".concat(parseInt(e.meta.data.iso));_.push('<div class="'.concat(u.classPref,'meta-exif-value">').concat(T,"</div>"))}for(var I=0;I<_.length;I+=1)k+=_[I],I<_.length-1&&(k+='<div class="'.concat(u.classPref,'meta-exif-separator"> / </div>'));""!==k&&((s=document.createElement("div")).className="".concat(u.classPref,"description-wrap"),s.style.color=a.a.hexToRgbaStrin(n.config.mpModalInfoBoxTextColor,1),s.innerHTML=k,o.appendChild(s))}}if(this.config.mpInfoBarCountersEnable){(s=document.createElement("div")).className="".concat(u.classPref,"description-wrap"),s.style.color=this.config.mpModalInfoBoxTextColor,s.style.minWidth="170px";var L=document.createElement("div");L.className="".concat(u.classPref,"likes-view-com"),L.innerHTML="".concat(a.a.ICONS.VIEW_SVG,'<div class="').concat(u.classPref,'counter-text">').concat(e.meta.views?e.meta.views:0,"</div>"),L.getElementsByTagName("svg")[0].style.fill=this.config.mpModalInfoBoxTitleTextColor,s.appendChild(L);var N=document.createElement("div");N.className="".concat(u.classPref,"likes-view-com"),N.innerHTML="".concat(a.a.ICONS.HEART_SVG,'<div class="').concat(u.classPref,'counter-text">').concat(e.meta.likes?e.meta.likes:0,"</div>"),N.getElementsByTagName("svg")[0].style.fill=this.config.mpModalInfoBoxTitleTextColor,s.appendChild(N),o.appendChild(s)}if(this.config.mpInfoBarDateInfoEnable){(s=document.createElement("div")).className="".concat(u.classPref,"description-wrap"),s.style.color=this.config.mpModalInfoBoxTextColor;var M="";e.meta.data&&e.meta.data.created_timestamp&&(M+='<div class="'.concat(u.classPref,'item-meta-key">Taken:</div>\n        <div class="').concat(u.classPref,'item-meta-value">').concat(a.a.timeConverter(e.meta.data.created_timestamp),"</div></br>")),s.innerHTML='<div class="'.concat(u.classPref,'item-date">').concat(M,"</div>"),""!==M&&o.appendChild(s)}}}])&&h(t.prototype,i),o&&h(t,o),u}(n.a);t.a=v},function(e,t,i){"use strict";var n=i(6),a=i(1),o=i(2);function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}a.a.trace;var l=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appName=t,this.parentWrap=window,this.properties=void 0,this.itemsList=[],this.filteredList=[],this.presentedList=[],this.page_Amount=0,this.cureantPage=void 0,i&&(this.termsList=i.length>1?i:void 0,this.tagsCloudQueue=a.a.moduleSettings(this.appName).tagsFilter&&this.termsList?[]:void 0),this.filterPr=0,this.view=document.createElement("div"),this.header=document.createElement("div"),this.headerNavi=document.createElement("div"),this.content=document.createElement("div"),this.footer=document.createElement("div"),this.tagsCloudView=void 0,this.header.appendChild(this.headerNavi),this.view.appendChild(this.header),this.view.appendChild(this.content),this.view.appendChild(this.footer),this.viewWidth=0,this.startItem=void 0;var o=n.a.CONFIG;o.im_link=a.a.moduleSettings(this.appName).collectionThumbSubMenuVisibility,o.im_info=a.a.moduleSettings(this.appName).collectionThumbSubMenuInfo,o.im_download=a.a.moduleSettings(this.appName).collectionThumbSubMenuDownload,o.im_share=a.a.moduleSettings(this.appName).collectionThumbSubMenuShare,o.im_like=a.a.moduleSettings(this.appName).collectionThumbSubMenuLikes,o.im_backgroundColor=a.a.moduleSettings(this.appName).collectionThumbSubMenuBgColor,o.im_backgroundColorOver=a.a.moduleSettings(this.appName).collectionThumbSubMenuBgColorHover,o.im_iconColor=a.a.moduleSettings(this.appName).collectionThumbSubMenuIconColor,o.im_iconColorOver=a.a.moduleSettings(this.appName).collectionThumbSubMenuIconColorHover,o.im_likesSet=a.a.likesSet,o.im_isContainIdInBookmarkSet=a.a.isContainIdInBookmarkSet,this.itemMenu=new n.a(a.a.moduleSettings(this.appName),n.a.MENU_TYPE.THUMB,o),a.a.moduleSettings(this.appName).appEventManager.addGMEventListener(n.a.EVENTS.ITEM_MENU_ACTION,this,"itemMenuActionHandler")}return r(e,null,[{key:"EVENTS",get:function(){return{PAGE_ADDED:"PAGE_ADDED"}}}]),r(e,[{key:"itemViewConstructor",value:function(){a.a.trace("******** NEED implementation itemViewConstructor ********")}},{key:"addItemToStage",value:function(e){a.a.trace("******** NEED implementation addItemToStage ********"),a.a.trace(e)}},{key:"getItemIndexByID",value:function(e){for(var t=0;t<this.filteredCollection.length;t+=1)if(parseInt(this.filteredCollection[t].ID)===parseInt(e))return t;return 0}},{key:"itemMenuActionHandler",value:function(e){if(e.target===this.itemMenu){var t,i,n=e.params.item;switch(e.params.type){case"info":a.a.moduleSettings(this.appName).appEventManager.dispatchGMEvent(a.a.GMEvent(o.a.NEED_MODAL,this,{type:"info",item:n}));break;case"link":n.link&&window.open(n.link,a.a.moduleSettings(this.appName).linkTargetWindow);break;case"like":a.a.moduleSettings(this.appName).appEventManager.dispatchGMEvent(a.a.GMEvent(o.a.ITEM_ACTION,this,{type:"like",item:n})),this.itemMenu.updateForItem(n);break;case"bookmark":a.a.moduleSettings(this.appName).appEventManager.dispatchGMEvent(a.a.GMEvent(o.a.ITEM_ACTION,this,{type:"bookmark",item:n})),this.itemMenu.updateForItem(n);break;case"share":a.a.moduleSettings(this.appName).appEventManager.dispatchGMEvent(a.a.GMEvent(o.a.NEED_MODAL,this,{type:"share",item:n}));break;case"download":t=n.url,(i=document.createElement("A")).href=t,i.download=t.substr(t.lastIndexOf("/")+1),document.body.appendChild(i),i.click(),document.body.removeChild(i);break;case"coments":t="".concat(n.sharelink,"/#comments"),window.open(t,a.a.moduleSettings(this.appName).linkTargetWindow);break;case"fullscreen":a.a.moduleSettings(this.appName).appEventManager.dispatchGMEvent(a.a.GMEvent(o.a.FULLSCREEN_SWITCH,this,null))}}}},{key:"init",value:function(){}},{key:"initData",value:function(e){this.itemsList=e,0!==this.itemsList.length?(this.createTagsCloud(),this.updateViewByData(),this.startItem&&this.tryOpenLightboxForID(this.startItem)):a.a.trace("Items list is Empty")}},{key:"createTagsCloudView",value:function(){}},{key:"beforeCreateLayout",value:function(){}},{key:"afterCreateLayout",value:function(){}},{key:"updateViewByData",value:function(){if(this.itemsList)for(var e=0;e<this.itemsList.length;e+=1){var t=this.itemViewConstructor();this.itemsList[e].thumbView=t,t.init(this.itemsList[e])}var i="0";a.a.moduleSettings(this.appName).tagsFilter&&(this.createTagsCloudView(),this.tagsCloudQueue&&(i=!0===this.appSet.tagCloudStartIndex?this.tagsCloudQueue[0].term_id:!0===this.appSet.tagCloudAllTagPresented?"0":this.tagsCloudQueue[0].term_id)),this.filtredById=i,this.beforeCreateLayout(),this.createLayout(),this.afterCreateLayout()}},{key:"tryOpenLightboxForID",value:function(e){for(var t=0;t<this.filteredCollection.length;t+=1){var i=this.filteredCollection[t];parseInt(e)===parseInt(i.ID)&&(this.itemsAction(t,"lightBox"),t=this.filteredCollection.length)}}},{key:"refteshDataInItem",value:function(){for(var e=0;e<this.filteredCollection.length;e+=1){this.filteredCollection[e].thumbView.updateSomeData()}}},{key:"addPageToStage",value:function(){var t=this;if(0!==this.itemsList.length){void 0===this.cureantPage&&(this.cureantPage=0),clearTimeout(this.layoutSizerDelay);var i=Math.ceil(this.filteredCollection.length/this.page_Amount);if(!(this.cureantPage>=i)){for(var n=this.cureantPage*this.page_Amount,o=Math.min(n+this.page_Amount,this.filteredCollection.length),s=1,r=n;r<o;r+=1){var l=this.filteredCollection[r].thumbView;l.index=r,l.opacity={opacity:0,delay:0},this.addItemToStage(l),l.opacity={opacity:1,delay:100*s},s+=1}this.cureantPage+=1,this.resizeHandler(),this.layoutSizerDelay=setTimeout((function(){t.checkIfNeedNewPage&&t.checkIfNeedNewPage(),a.a.moduleSettings(t.appName).appEventManager.dispatchGMEvent(a.a.GMEvent(e.EVENTS.PAGE_ADDED,t,{pagesAmount:t.page_Amount,cureantPage:t.cureantPage}))}),1e3)}}}},{key:"itemsAction",value:function(e,t){var i={};switch(t){case"lightBox":i.collection=this,i.index=e,a.a.moduleSettings(this.appName).appEventManager.dispatchGMEvent(a.a.GMEvent(o.a.NEED_LIGHTBOX,this,i))}}},{key:"removeItemViewFormStage",value:function(){this.removePresentedItems(),this.presentedList=[],this.cureantPage=void 0}},{key:"removePresentedItems",value:function(){for(var e=0;e<this.presentedList.length;e+=1)this.presentedList[e].display="none"}},{key:"showPresentedItems",value:function(){for(var e=0;e<this.presentedList.length;e+=1)this.presentedList[e].display="block"}},{key:"createLayout",value:function(){this.page_Amount=this.filteredCollection.length}},{key:"resizeHandler",value:function(){this.viewWidth!==this.view.clientWidth&&(this.updateLayout(),this.viewWidth=this.view.clientWidth)}},{key:"createTagsCloud",value:function(){if(this.tagsCloudQueue&&this.termsList)for(var e=0;e<this.termsList.length;e+=1){var t=this.termsList[e],i={};i.term_id=t.term_id,i.title=t.title,this.tagsCloudQueue[e]=i}}},{key:"filtred",value:function(e){this.removeItemViewFormStage(),this.filtredById=e,this.createLayout()}},{key:"tagsActionHandler",value:function(e){e.params&&e.params.tagId&&this.filtred(e.params.tagId)}},{key:"prepareToRemove",value:function(){a.a.moduleSettings(this.appName).appEventManager.removeGMEventListener(n.a.EVENTS.ITEM_MENU_ACTION,this,"itemMenuActionHandler")}},{key:"appSet",get:function(){return a.a.moduleSettings(this.appName)}},{key:"filtredById",set:function(e){if(this.itemsList)if(this.filteredList=[],this.filterPr=e,"0"!==e)for(var t=0;t<this.itemsList.length;t+=1){this.itemsList[t].hasTag(e)&&this.filteredList.push(this.itemsList[t])}else this.filteredList=this.itemsList},get:function(){return this.filterPr}},{key:"filteredCollection",get:function(){return this.filteredList}}]),e}();t.a=l},function(e,t,i){"use strict";var n=i(0),a=i(27),o=i.n(a);function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}n.a.trace,n.a.moduleSettings;var l=function(){function e(t,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=a,this.appSet=i,this.config=e.CONFIG,n.a.copyProperties(t,this.config),this.imageBoxSize=void 0,this.thumbSize=n.a.Size(400,400),this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"view"),this.wrap_main=document.createElement("div"),this.wrap_main.className="".concat(e.classPref,"main-wrap"),this.view.appendChild(this.wrap_main),this.wrap_item=document.createElement("div"),this.wrap_item.className="".concat(e.classPref,"item-wrap"),this.wrap_main.appendChild(this.wrap_item),this.hover=document.createElement("div"),this.hover.className="".concat(e.classPref,"item-hover"),this.inner=document.createElement("div"),this.inner.className="".concat(e.classPref,"item-inner"),this.opacityDelay=void 0,this.displayPr=void 0,this.opacityPr=0,this.imgCompleted=!1,this.itemViewSrcCompleted=!1}return r(e,null,[{key:"classPref",get:function(){var e=o.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"EVENT",get:function(){return{THUMB_ACTION:"THUMB_ACTION"}}},{key:"CONFIG",get:function(){return{thumb_spasing:10,thumb_coverHieghtRation:1,thumb_loading_lazy:!1}}}]),r(e,[{key:"init",value:function(t){if(!this.item){var i=this;this.item=t,this.appName=t.appName,t.itemViewThumbSize&&(this.thumbSize=t.itemViewThumbSize),this.type=t.type,t.itemViewThumbSrc||t.itemViewSrc?(this.itemViewSrc=t.itemViewSrc,this.img=new Image,this.img.style.width="".concat(t.itemViewThumbSize.width,"px"),this.img.style.height="".concat(t.itemViewThumbSize.height,"px"),this.config.thumb_loading_lazy&&this.img.setAttribute("loading","lazy"),this.img.onload=function(){t.title&&this.setAttribute("alt",t.title),i.imgCompleted=!0,i.updateImgSize(),i.view.style.opacity=i.opacityPr},this.img.onerror=function(){i.view.classList.add("pgc-rev-error"),t.errorStatus=!0},this.wrap_item.appendChild(this.img),this.img.src=t.itemViewThumbSrc):(this.imgSubstitute=document.createElement("div"),this.imgSubstitute.className="".concat(e.classPref,"image-substitute"),this.wrap_item.appendChild(this.imgSubstitute),this.view.style.opacity=this.opacityPr),this.wrap_item.appendChild(this.hover),this.wrap_item.appendChild(this.inner),this.initSubContent(),this.initInteractive(),this.updateProps()}}},{key:"clickHandler",value:function(){this.appSet.appEventManager.dispatchGMEvent(n.a.GMEvent(e.EVENT.THUMB_ACTION,this,{index:this.index}))}},{key:"initSubContent",value:function(){}},{key:"initInteractive",value:function(){}},{key:"updateProps",value:function(e){e&&n.a.copyProperties(e,this.config),this.wrap_main.style.padding="".concat(this.config.thumb_spasing/2,"px")}},{key:"updateSize",value:function(e){var t=Math.round(e*this.config.thumb_coverHieghtRation);this.thumbSize=n.a.Size(e,t),this.view.style.width="".concat(this.thumbSize.width,"px"),this.view.style.height="".concat(this.thumbSize.height,"px"),this.imageBoxSize=n.a.Size(this.thumbSize.width-this.config.thumb_spasing,this.thumbSize.height-this.config.thumb_spasing),this.updateImgSize()}},{key:"updateImgSize",value:function(){if(this.imgSubstitute&&(this.imgSubstitute.style.width="".concat(this.thumbSize.width,"px"),this.imgSubstitute.style.height="".concat(this.thumbSize.height,"px")),this.imageBoxSize&&this.imgCompleted){var e=n.a.getFrameForBoxWithMode(n.a.Size(this.img.naturalWidth,this.img.naturalHeight),this.imageBoxSize,!0);"audio"!==this.type&&!this.itemViewSrcCompleted&&(this.imageBoxSize.width/this.img.naturalWidth>1.1||this.imageBoxSize.height/this.img.naturalHeight>1.1)&&this.itemViewSrc&&(this.img.src=this.itemViewSrc,this.itemViewSrcCompleted=!0),this.img.style.left="".concat(e.x,"px"),this.img.style.top="".concat(e.y,"px"),this.img.style.width="".concat(e.width,"px"),this.img.style.height="".concat(e.height,"px")}}},{key:"visibility",set:function(e){this.view.style.visibility=e}},{key:"display",set:function(e){"none"===e&&clearTimeout(this.opacityDelay),this.view.style.display=e,this.displayPr=e},get:function(){return this.displayPr}},{key:"opacity",set:function(e){var t=this;e.delay?this.opacityDelay=setTimeout((function(){(t.imgCompleted||t.imgSubstitute)&&(t.view.style.opacity=e.opacity),t.opacityPr=e.opacity}),e.delay):(clearTimeout(this.opacityDelay),(t.imgCompleted||t.imgSubstitute)&&(t.view.style.opacity=e.opacity),t.opacityPr=e.opacity)}}]),e}();t.a=l},function(e,t,i){var n=i(3),a=i(29);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},function(e,t,i){var n=i(3),a=i(30);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},function(e,t,i){var n=i(3),a=i(31);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},function(e,t,i){var n=i(3),a=i(35);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},function(e,t,i){var n=i(3),a=i(36);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},function(e,t,i){var n=i(3),a=i(37);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},function(e,t,i){var n=i(3),a=i(38);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},function(e,t,i){var n=i(3),a=i(42);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},,function(e,t,i){var n=i(3),a=i(41);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},,function(e,t,i){(t=i(4)(!1)).push([e.i,".pgc-rev-utils-preloader{min-height:inherit;position:absolute;top:0;left:0;bottom:0;right:0;overflow:hidden;z-index:100}.pgc-rev-utils-preloader .pgc-rev-utils-static{position:absolute;left:50%;top:50%;border-radius:50%}.pgc-rev-utils-preloader .pgc-rev-utils-spinner{left:50%;top:50%;animation:1s pgc-rev-spinner linear infinite}.pgc-rev-utils-preloader .pgc-rev-utils-spinner .pgc-rev-utils-point{position:absolute;left:50%;top:50%;border-radius:100%}@keyframes pgc-rev-spinner{0%{transform:rotate(-360deg)}100%{transform:rotate(0deg)}}\n",""]),t.locals={classPref:'".pgc-rev-utils-"'},e.exports=t},function(e,t,i){(t=i(4)(!1)).push([e.i,".pgc-rev-item-menu-view{position:relative;overflow:hidden;float:left}.pgc-rev-item-menu-view.pgc-rev-item-menu-type-ultrabox{display:flex;flex-direction:row;flex-wrap:wrap;margin-right:5px}.pgc-rev-item-menu-view.pgc-rev-item-menu-type-ultrabox .pgc-rev-item-menu-button{padding:3px;width:43px;height:43px;margin:0 5px;border-radius:2px}.pgc-rev-item-menu-view.pgc-rev-item-menu-type-lightbox .pgc-rev-item-menu-button{margin:2px}.pgc-rev-item-menu-view.pgc-rev-item-menu-type-thumb{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-end}.pgc-rev-item-menu-view.pgc-rev-item-menu-type-thumb .pgc-rev-item-menu-button{margin:1px}.pgc-rev-item-menu-view .pgc-rev-item-menu-button{position:relative;padding:9px;width:38px;height:38px;cursor:pointer;float:left;transition:background-color 0.2s, transform 0.4s ease-out;border-radius:2px}.pgc-rev-item-menu-view .pgc-rev-item-menu-button svg{width:100%;height:100%;fill:inherit;display:block;pointer-events:none;transition:fill 0.2s, transform 0.4s ease-out}.pgc-rev-item-menu-view .pgc-rev-item-menu-button svg path{transition:none}\n",""]),t.locals={classPref:'".pgc-rev-item-menu-"'},e.exports=t},function(e,t,i){(t=i(4)(!1)).push([e.i,".pgc-rev-scroller-ho-view{line-height:1;overflow-y:auto;-webkit-overflow-scrolling:touch;-ms-overflow-style:none;-ms-overflow-style:none;scrollbar-width:none}.pgc-rev-scroller-ho-view::-webkit-scrollbar{display:none}.pgc-rev-scroller-ho-view.pgc-block-pan-y{-ms-touch-action:pan-x;touch-action:pan-x}.pgc-rev-scroller-ho-grabbable{cursor:move;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.pgc-rev-scroller-ho-grabbable:active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}\n",""]),t.locals={classPrefScroller:'".pgc-rev-scroller-ho-"'},e.exports=t},function(e,t,i){(t=i(4)(!1)).push([e.i,".pgc-rev-scroll-bar-view{position:relative;overflow:hidden;max-width:100%}.pgc-rev-scroll-bar-view .pgc-rev-scroll-bar-slider-content-view{position:relative}.pgc-rev-scroll-bar-thumb-simple-border{position:absolute}.pgc-rev-scroll-bar-thumb-simple-border .pgc-rev-scroll-bar-thumb-main-wrap{position:relative;width:100%;height:100%;border-radius:inherit}.pgc-rev-scroll-bar-thumb-simple-border .pgc-rev-scroll-bar-thumb-item-wrap{position:relative;width:100%;height:100%;border-radius:inherit;overflow:hidden}.pgc-rev-scroll-bar-thumb-simple-border .pgc-rev-scroll-bar-thumb-item-wrap img{object-fit:cover;display:block;border:0;margin:0;padding:0;width:100% !important;height:100% !important;-webkit-backface-visibility:hidden;backface-visibility:hidden}.pgc-rev-scroll-bar-thumb-simple-border .pgc-rev-scroll-bar-thumb-item-hover{position:absolute;top:0;left:0;width:100%;height:100%;opacity:1;transition:0.4s}.pgc-rev-scroll-bar-thumb-simple-border .pgc-rev-scroll-bar-thumb-item-inner{position:absolute;top:0;left:0;width:100%;height:100%}.pgc-rev-scroll-bar-thumb-simple-border .pgc-rev-scroll-bar-thumb-item-link{position:absolute;width:34px;height:34px;padding:6px;border-radius:50%;left:50%;top:50%;transform:translateY(-50%) translateX(-50%);pointer-events:none}.pgc-rev-scroll-bar-thumb-simple-border .pgc-rev-scroll-bar-thumb-item-link svg{width:100%;height:100%;fill:rgba(0,0,0,0.58);display:block}.pgc-rev-scroll-bar-thumb-simple-border video{height:100%;width:100%;object-fit:contain}.pgc-rev-scroll-bar-thumb-simple-border.hover .pgc-rev-scroll-bar-thumb-hover,.pgc-rev-scroll-bar-thumb-simple-border.pgc-select .pgc-rev-scroll-bar-thumb-hover{opacity:0}.pgc-rev-scroll-bar-grabbable{cursor:move;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.pgc-rev-scroll-bar-grabbable:active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}\n",""]),t.locals={classPref:'".pgc-rev-scroll-bar-"',classPrefThumb:'".pgc-rev-scroll-bar-thumb-"'},e.exports=t},function(e,t,i){(t=i(4)(!1)).push([e.i,".pgc-rev-slider-view{position:absolute;overflow:hidden;left:0;right:0;top:0;bottom:0}.pgc-rev-slider-view *{box-sizing:border-box !important;line-height:1.4}.pgc-rev-slider-view.isDragging video{pointer-events:none}.pgc-rev-slider-view .pgc-rev-slider-hints{position:absolute;display:inline-block;padding:5px 10px;font-size:12px;line-height:normal;background-color:rgba(0,0,0,0.8);color:white;transform:translateY(-100%);border-radius:2px;transition:0.4s}.pgc-rev-slider-view.pgc-rev-slider-activate{pointer-events:auto;visibility:visible;opacity:1}.pgc-rev-slider-view .pgc-rev-slider-bg{width:100%;height:100%;transform:translateZ(0)}.pgc-rev-slider-view .pgc-rev-slider-wrap{position:absolute;user-select:none;width:100%;top:0;bottom:0}.pgc-rev-slider-view .miniScreen{margin-top:0;margin-bottom:0}.pgc-rev-slider-view .pgc-rev-slider-next-prev-button{position:absolute;width:45px;height:40px;top:50%;margin:0 10px;padding:0;cursor:pointer;transition:background-color 0.3s, transform 0.5s ease-out;border-radius:2px}.pgc-rev-slider-view .pgc-rev-slider-next-prev-button.next-prev-button-mini-screen{display:none}.pgc-rev-slider-view .pgc-rev-slider-next-prev-button svg{transition:fill 0.3s;width:100%;height:100%;vertical-align:baseline !important}.pgc-rev-slider-page-view{position:absolute;display:block;transform:translate3d(0, 0, 0);width:100%;top:0;bottom:0;left:0;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;-moz-user-select:none;-ms-user-select:none;touch-action:none}.pgc-rev-slider-page-view .pgc-rev-slider-page-place-holder{position:absolute;transition:0.35s ease-out;user-select:none}.pgc-rev-slider-page-view .pgc-rev-slider-page-place-holder.bg-mode{box-shadow:inset 0 0 100px rgba(0,0,0,0.5),inset 0 0 0 1px rgba(0,0,0,0.05);background:#eee}.pgc-rev-slider-page-view .pgc-rev-slider-page-place-holder video{max-width:100%;min-width:100%;max-height:100%;margin:auto;outline:none}.pgc-rev-slider-page-view .pgc-rev-slider-page-place-holder img{object-fit:cover;width:100%;height:100%}.pgc-rev-slider-page-view .pgc-rev-slider-page-place-holder img.onLoad{transition:0.35s ease-out;opacity:1}.pgc-rev-slider-page-view .pgc-rev-slider-page-inner{position:absolute;display:block;left:0;top:0;bottom:0;width:100%;overflow:hidden;transform:translate3d(0, 0, 0);backface-visibility:hidden;-webkit-backface-visibility:hidden;-webkit-transform-origin:left top;transform-origin:left top;user-select:none;touch-action:none;animation-duration:0.6s;animation-play-state:running;animation-fill-mode:both;animation-timing-function:ease-out}.pgc-rev-slider-page-view .pgc-rev-slider-page-inner img{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute !important;display:block !important;border:none !important;max-width:none !important;opacity:0;padding:0 !important;margin:0 !important;user-select:none;-webkit-tap-highlight-color:transparent}.pgc-rev-slider-page-view .pgc-rev-slider-page-inner img.iph-protect{-webkit-touch-callout:none}.pgc-rev-slider-page-view .pgc-rev-slider-page-inner img.onLoad{transition:0.35s ease-out;opacity:1}.pgc-rev-slider-page-view .pgc-rev-slider-page-sub-content-holder{position:absolute;visibility:hidden;transition:0.35s ease-out}.pgc-rev-slider-page-view .pgc-rev-slider-page-sub-content-holder .icon-holder{position:absolute;width:140px;height:140px;border-radius:50%;background-color:rgba(255,255,255,0.6);transform:translateY(-50%) translateX(-50%);left:50%;top:50%;padding:30px;cursor:pointer}.pgc-rev-slider-page-view .pgc-rev-slider-page-sub-content-holder .icon-holder svg{width:100%;height:100%;fill:rgba(0,0,0,0.4)}.pgc-rev-slider-page-view .pgc-rev-slider-page-sub-content-holder iframe{width:100% !important;height:100% !important;top:0;left:0}.pgc-rev-slider-page-view .pgc-rev-slider-page-sub-content-holder audio{outline:none;position:absolute;bottom:0;width:100%}.pgc-rev-slider-page-view.info-icon .pgc-rev-slider-page-sub-content-holder,.pgc-rev-slider-page-view.info-icon .pgc-rev-slider-page-icon-holder{visibility:visible}@keyframes pgc-rev-fade-in{from{opacity:0}to{opacity:1}}@keyframes pgc-rev-rotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.pgc-rev-wrap-rotate svg{animation-name:pgc-rev-rotate;animation-duration:2s;animation-iteration-count:infinite;animation-timing-function:linear}.pgc-rev-slider-post-informer-view{position:absolute;height:100%;width:100%}.pgc-rev-slider-post-informer-view .pgc-rev-slider-post-informer-button,.pgc-rev-slider-post-informer-view .pgc-rev-slider-post-informer-price{position:relative;cursor:pointer;display:inline-block;left:0;top:0;font-size:30px;line-height:33px;color:#fff;margin:10px 0 0 0;padding:3px 20px;background-color:rgba(0,0,0,0.8)}.pgc-rev-slider-post-informer-view .pgc-rev-slider-post-informer-price{font-size:22px;cursor:auto;margin:5px 0 0 0}.pgc-rev-slider-post-informer-view .pgc-rev-slider-post-informer-button:hover{background-color:#fff;color:rgba(0,0,0,0.8)}\n",""]),t.locals={classPref:'".pgc-rev-slider-"',classPrefPage:'".pgc-rev-slider-page-"',classPrefPostInformer:'".pgc-rev-slider-post-informer-"'},e.exports=t},function(e,t,i){(t=i(4)(!1)).push([e.i,".pgc-rev-lb-b-view{position:fixed;z-index:99999;left:0;right:0;top:0;bottom:0;visibility:hidden;opacity:0;-ms-touch-action:none;touch-action:none;-webkit-text-size-adjust:100%;font-family:Arial, Helvetica, sans-serif;-webkit-transition:opacity 0.4s ease;transition:opacity 0.4s ease, visibility 0.4s ease}.pgc-rev-lb-b-view *{box-sizing:border-box !important;line-height:1.4}.pgc-rev-lb-b-view.pgc-rev-lb-b-activate{pointer-events:auto;visibility:visible;opacity:1}.pgc-rev-lb-b-view .pgc-rev-lb-b-bg{width:100%;height:100%;will-change:opacity;transform:translateZ(0)}.pgc-rev-lb-b-view .pgc-rev-lb-b-bg.pgc-rev-lb-b-deactivate{transition:opacity 300ms}.pgc-rev-lb-b-view .pgc-rev-lb-b-content{position:absolute;top:0;left:0;width:100%;height:100%}.pgc-rev-lb-b-view .pgc-rev-lb-b-header{position:absolute;padding:5px;left:0;top:0;width:100%;display:flex;flex-direction:row;flex-wrap:wrap;transform:translateY(-100%);transition:transform 0.4s ease-out}.pgc-rev-lb-b-view .pgc-rev-lb-b-header *{user-select:none;-moz-user-select:none;-webkit-user-select:none}.pgc-rev-lb-b-view .pgc-rev-lb-b-header.pgc-rev-lb-b-show{transform:translateY(0%)}.pgc-rev-lb-b-view .pgc-rev-lb-b-header.pgc-rev-lb-b-touch-device{justify-content:flex-end}.pgc-rev-lb-b-view .pgc-rev-lb-b-footer{user-select:none;position:absolute;display:flex;justify-content:center;align-items:center;flex-wrap:wrap;left:0;bottom:0;width:100%;transform:translateY(100%);transition:transform 0.4s ease-out}.pgc-rev-lb-b-view .pgc-rev-lb-b-footer.pgc-rev-lb-b-show{transform:translateY(0%)}.pgc-rev-lb-b-view .pgc-rev-lb-b-footer.pgc-rev-lb-b-touch-device .pgc-rev-lb-b-caption-wrap{border-radius:2px;padding:0}.pgc-rev-lb-b-view .pgc-rev-lb-b-footer.pgc-rev-lb-b-touch-device .pgc-rev-lb-b-caption-play-wrap{width:100%;justify-content:center;min-height:25px}.pgc-rev-lb-b-view .pgc-rev-lb-b-footer .pgc-rev-lb-b-caption-wrap{border-radius:2px;padding:3px 10px;margin:5px}.pgc-rev-lb-b-view .pgc-rev-lb-b-description-wrap{flex:none;width:400px;max-width:100%;padding:0 5px;height:100%}.pgc-rev-lb-b-view .pgc-rev-lb-b-description-wrap a{cursor:pointer}.pgc-rev-lb-b-view .pgc-rev-lb-b-description-wrap a:hover,.pgc-rev-lb-b-view .pgc-rev-lb-b-description-wrap a:visited,.pgc-rev-lb-b-view .pgc-rev-lb-b-description-wrap a:link,.pgc-rev-lb-b-view .pgc-rev-lb-b-description-wrap a:active{text-decoration:none;box-shadow:none}.pgc-rev-lb-b-view .pgc-rev-lb-b-item-title{text-rendering:auto;color:#fff;font-size:18px;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:1.3;box-sizing:content-box;letter-spacing:0;margin-top:1px;margin-bottom:3px;text-decoration:none !important;box-shadow:none !important}.pgc-rev-lb-b-view .pgc-rev-lb-b-item-description{color:#969696;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.3}.pgc-rev-lb-b-view .pgc-rev-lb-b-free-space{flex:auto}.pgc-rev-lb-b-view .pgc-rev-lb-b-caption-play-wrap{display:flex;align-items:center}.pgc-rev-lb-b-view .pgc-rev-lb-b-caption-wrap{position:relative;flex:none;font-size:13px;line-height:22px;font-weight:400;color:white;display:inline-block;margin-right:15px}.pgc-rev-lb-b-view .pgc-rev-lb-b-caption-wrap .pgc-rev-lb-b-caption-current{position:relative;display:inline-block}.pgc-rev-lb-b-view .pgc-rev-lb-b-caption-wrap .pgc-rev-lb-b-caption-delimiter{position:relative;display:inline-block;padding:0 3px}.pgc-rev-lb-b-view .pgc-rev-lb-b-caption-wrap .pgc-rev-lb-b-caption-all{position:relative;display:inline-block}.pgc-rev-lb-b-view .pgc-rev-lb-b-caption-wrap-nt.mini-screen{height:30px}.pgc-rev-lb-b-view .pgc-rev-lb-b-caption-wrap-nt{position:relative;flex:none;width:60px;height:40px;font-size:15px;line-height:1;font-weight:400;font-family:serif;color:white;margin-right:5px}.pgc-rev-lb-b-view .pgc-rev-lb-b-caption-wrap-nt .pgc-rev-lb-b-caption-current{position:absolute;top:50%;left:50%;width:30px;text-align:right;transform:translate(-100%, -70%);padding:0 5px 0}.pgc-rev-lb-b-view .pgc-rev-lb-b-caption-wrap-nt .pgc-rev-lb-b-caption-delimiter{position:absolute;top:50%;left:50%;transform:translate(-50%, 0) rotate(-58deg);width:19px;height:1.5px;background-color:white}.pgc-rev-lb-b-view .pgc-rev-lb-b-caption-wrap-nt .pgc-rev-lb-b-caption-all{position:absolute;top:50%;left:50%;font-size:11px;margin-left:5px}.pgc-rev-lb-b-view .pgc-rev-lb-auto-play-wrap{position:relative;opacity:0;height:22px;transition:opacity 0.4s}.pgc-rev-lb-b-view .pgc-rev-lb-b-info-wrap{position:relative;flex:none;min-height:20px;padding:0 10px;max-width:100%}.pgc-rev-lb-b-view .pgc-rev-lb-b-item-menu-wrap{position:relative;flex:none;min-width:40px;overflow:hidden}.pgc-rev-lb-auto-play-wrap svg{width:22px;height:22px}.pgc-rev-lb-auto-play-wrap svg path{transition:unset}\n",""]),t.locals={classPref:'".pgc-rev-lb-b-"',classPrefAPlay:'".pgc-rev-lb-auto-play-"'},e.exports=t},function(e,t,i){(t=i(4)(!1)).push([e.i,".pgc-rev-modal-window{position:fixed;-webkit-backface-visibility:hidden;backface-visibility:hidden;top:0;left:0;right:0;bottom:0;overflow:hidden;opacity:0;will-change:opacity;transition:opacity 0.4s;text-align:center}.pgc-rev-modal-window *{box-sizing:border-box}.pgc-rev-modal-window .pgc-rev-modal-flex{display:inline-block;width:0;height:100%;vertical-align:middle}.pgc-rev-modal-window .pgc-rev-modal-close-button{position:absolute;width:100%;height:100%;z-index:-100;will-change:opacity}\n",""]),t.locals={classPref:'".pgc-rev-modal-"'},e.exports=t},function(e,t,i){(t=i(4)(!1)).push([e.i,".pgc-rev-modal-page-view{position:relative;font-size:14px;line-height:1.3;margin:0 10px;padding-bottom:10px;max-width:720px;min-width:260px;background-color:white;border-radius:2px;box-shadow:0 8px 16px rgba(0,0,0,0.15);vertical-align:middle;display:inline-block}.pgc-rev-modal-page-view .pgc-rev-modal-page-close-button{position:absolute;margin:10px;width:24px;height:24px;cursor:pointer;right:0}.pgc-rev-modal-page-view .pgc-rev-modal-page-close-button svg{width:100%;height:100%;vertical-align:baseline !important}\n",""]),t.locals={classPref:'".pgc-rev-modal-page-"'},e.exports=t},function(e,t,i){(t=i(4)(!1)).push([e.i,".fla-item-info-content{position:relative;overflow:hidden;min-height:36px;margin-right:35px}.fla-item-info-content .fla-item-info-fun{font-size:34px;margin:10px 0 5px}.fla-item-info-content .fla-item-info-description-wrap{min-width:200px;min-height:44px;padding:10px 0 0 20px;float:left;text-align:left;font-size:1em}.fla-item-info-content .fla-item-info-description-wrap .fla-item-info-item-title{font-size:1.3em;font-weight:600}.fla-item-info-content .fla-item-info-description-wrap .fla-item-info-item-description{margin-top:3px;font-size:1em;font-weight:400}.fla-item-info-content .fla-item-info-description-wrap .fla-item-info-terms-list{list-style:none;margin:0;overflow:hidden;padding:0}.fla-item-info-content .fla-item-info-description-wrap .fla-item-info-terms-list.fla-item-info-tags-ul{font-size:1rem !important;line-height:1.4 !important;margin-bottom:0 !important;margin-left:0 !important}.fla-item-info-content .fla-item-info-description-wrap .fla-item-info-terms-list.fla-item-info-tags-ul li{border-radius:3px;display:inline-block;height:26px;line-height:26px;padding:0 20px 0 23px;position:relative;margin:0 7px 10px 0;text-decoration:none;cursor:pointer;transition:0.3s}.fla-item-info-content .fla-item-info-description-wrap .fla-item-info-meta-exif-value{line-height:1.5;display:inline-block}.fla-item-info-content .fla-item-info-description-wrap .fla-item-info-meta-exif-separator{display:inline-block;font-size:100%;margin:0 4px;opacity:0.4}.fla-item-info-content .fla-item-info-description-wrap .fla-item-info-likes-view-com{position:relative;min-width:60px;min-height:40px;border:1px solid;border-color:rgba(0,0,0,0.18);border-radius:2px;background-color:#fafafa;padding:4px;margin:0 1%;text-align:center;display:inline-block}.fla-item-info-content .fla-item-info-description-wrap .fla-item-info-likes-view-com svg{display:inline-block;width:24px;height:24px;vertical-align:baseline !important}.fla-item-info-content .fla-item-info-description-wrap .fla-item-info-likes-view-com .fla-item-info-counter-text{font-size:15px;line-height:1}.fla-item-info-content .fla-item-info-description-wrap .fla-item-info-item-date{font-size:100%;line-height:1.9}.fla-item-info-content .fla-item-info-description-wrap .fla-item-info-item-date .fla-item-info-item-meta-key{float:left;width:40%;min-width:80px}.fla-item-info-content .fla-item-info-description-wrap .fla-item-info-item-date .fla-item-info-item-meta-value{float:left;white-space:nowrap;text-transform:capitalize}\n",""]),t.locals={classPref:'".fla-item-info-"'},e.exports=t},function(e,t,i){(t=i(4)(!1)).push([e.i,".fla-item-share-description-wrap{min-height:44px;padding:10px 20px 0 20px;float:left;text-align:left}.fla-item-share-description-wrap .fla-item-share-item-title{display:block;font-size:130%;font-weight:600;line-height:1.3}.fla-item-share-description-wrap .fla-item-share-item-button-wrap{position:relative;display:inline-block;padding:0 4px;min-width:130px;width:50%;height:42px}.fla-item-share-description-wrap .fla-item-share-item-button-wrap .fla-item-share-item-button{border:1px solid;border-color:rgba(0,0,0,0.18);cursor:pointer;width:100%;height:100%;border-radius:2px;background-color:#fafafa;transition:0.4s}.fla-item-share-description-wrap .fla-item-share-item-button-wrap .fla-item-share-item-button svg{width:40px;height:40px;float:left;vertical-align:baseline !important}.fla-item-share-description-wrap .fla-item-share-item-button-wrap .fla-item-share-item-button .fla-item-share-button-title{white-space:nowrap;position:absolute;left:30px;right:0;font-size:15px;font-weight:400;line-height:41px;text-align:center;opacity:0.7;transition:opacity 0.4s}.fla-item-share-description-wrap .fla-item-share-item-button-wrap .fla-item-share-item-button:hover{box-shadow:0 1px 4px rgba(0,0,0,0.2)}.fla-item-share-description-wrap .fla-item-share-item-button-wrap .fla-item-share-item-button:hover .fla-item-share-button-title{opacity:1}.fla-item-share-description-wrap .fla-item-share-item-button-wrap .fla-item-share-item-copy-link{background-color:#fafafa;border:solid 1px rgba(0,0,0,0.17);width:100%;height:100%;border-radius:2px;overflow:hidden;position:relative;cursor:pointer;transition:0.4s}.fla-item-share-description-wrap .fla-item-share-item-button-wrap .fla-item-share-item-copy-link .fla-item-share-button-title{position:absolute;white-space:nowrap;line-height:41px;left:41px;right:10px;overflow:hidden;opacity:0.7;transition:0.4s}.fla-item-share-description-wrap .fla-item-share-item-button-wrap .fla-item-share-item-copy-link svg{width:40px;height:40px;padding:4px;float:left;transition:fill 0.4s;vertical-align:baseline !important}.fla-item-share-description-wrap .fla-item-share-item-button-wrap .fla-item-share-item-copy-link:hover{box-shadow:0 1px 4px rgba(0,0,0,0.2)}.fla-item-share-description-wrap .fla-item-share-item-button-wrap .fla-item-share-item-copy-link:hover .fla-item-share-button-title{opacity:1}\n",""]),t.locals={classPref:'".fla-item-share-"'},e.exports=t},,function(e,t,i){"use strict";var n=i(16),a=i(1),o=i(2);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,i){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(i):a.value}})(e,t,i||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=p(e);if(t){var a=p(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return d(this,i)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(d,e);var t,i,n,s=h(d);function d(e,t){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(i=s.call(this,e,t)).scrollHandler=void 0,i}return t=d,(i=[{key:"createLayout",value:function(){this.scrollHandler||(this.scrollHandler=this.scrollHandlerFunction(),this.scrollHandler&&window.addEventListener("scroll",this.scrollHandler,!1)),this.page_Amount=Math.min(o.b.PAGINATION_AMOUNT,this.filteredCollection.length)}},{key:"scrollHandlerFunction",value:function(){var e=this;return function(){e.offsetYcontroll()}}},{key:"offsetYcontroll",value:function(){this.checkIfNeedNewPage()}},{key:"checkIfNeedNewPage",value:function(){this.bottomSpace<200&&this.addPageToStage()}},{key:"scrollToTop",value:function(){var e=window.scrollY+this.view.getBoundingClientRect().top;a.a.scrollToY(e,.4*Math.abs(this.view.getBoundingClientRect().top))}},{key:"prepareToRemove",value:function(){l(p(d.prototype),"prepareToRemove",this).call(this),window.removeEventListener("scroll",this.scrollHandler,!1)}},{key:"bottomSpace",get:function(){var e=this.view.getBoundingClientRect(),t=window.innerHeight;return e.bottom-t}}])&&r(t.prototype,i),n&&r(t,n),d}(n.a);t.a=u},function(e,t,i){(t=i(4)(!1)).push([e.i,".pgc-rev-fillmode-thumb-view{position:relative;opacity:0;transition:opacity 0.45s}.pgc-rev-fillmode-thumb-view .pgc-rev-fillmode-thumb-main-wrap{width:100%;height:100%}.pgc-rev-fillmode-thumb-view .pgc-rev-fillmode-thumb-main-wrap .pgc-rev-fillmode-thumb-item-wrap{position:relative;width:100%;height:100%;border-radius:inherit;overflow:hidden}.pgc-rev-fillmode-thumb-view .pgc-rev-fillmode-thumb-main-wrap .pgc-rev-fillmode-thumb-item-wrap img{position:absolute;display:block;border:0;margin:0;padding:0;max-height:none !important;max-width:none !important;min-height:0 !important;min-width:0 !important;-webkit-backface-visibility:hidden;backface-visibility:hidden}.pgc-rev-fillmode-thumb-view .pgc-rev-fillmode-thumb-item-hover{position:absolute;top:0;left:0;width:100%;height:100%}.pgc-rev-fillmode-thumb-view .pgc-rev-fillmode-thumb-item-inner{position:absolute;top:0;left:0;width:100%;height:100%}.pgc-rev-fillmode-thumb-view .pgc-rev-fillmode-thumb-image-substitute{position:relative;box-shadow:inset 0 0 100px rgba(0,0,0,0.5),inset 0 0 0 1px rgba(0,0,0,0.05);background:#eee;width:100%;display:flex;flex-direction:column;justify-content:center;align-content:center}.pgc-rev-fillmode-thumb-view .pgc-rev-fillmode-thumb-image-substitute svg{width:50px;height:50px}\n",""]),t.locals={classPref:'".pgc-rev-fillmode-thumb-"'},e.exports=t},function(e,t,i){(t=i(4)(!1)).push([e.i,".pgc-rev-np-navi-view{position:relative;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;align-items:center;user-select:none;margin-top:5px}.pgc-rev-np-navi-view *{box-sizing:border-box !important}.pgc-rev-np-navi-view .pgc-rev-np-navi-button{float:none;width:60px;height:24px;cursor:pointer;transition:opacity 0.5s}.pgc-rev-np-navi-view .pgc-rev-np-navi-button svg{display:block;width:100%;height:100%;fill:inherit}.pgc-rev-np-navi-view .pgc-rev-np-navi-button.pgc-desable{pointer-events:none;cursor:none;opacity:0.5}.pgc-rev-np-navi-view .pgc-rev-np-navi-button.pgc-remove{visibility:hidden}.pgc-rev-np-navi-view .pgc-rev-np-navi-sub-view{width:100%}.pgc-rev-bulet-view{position:relative;padding:10px;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;user-select:none}.pgc-rev-bulet-view *{box-sizing:border-box !important}.pgc-rev-bulet-view .pgc-rev-bulet-bulet{border-radius:50%;margin:4px;cursor:pointer;transition:0.3s;transition-delay:0.1s}.pgc-rev-bulet-view .pgc-rev-bulet-bulet.hover{transform:scale(1.3)}.pgc-rev-bulet-view.pgc-remove{visibility:hidden}.pgc-rev-scr-bar-view{position:relative;margin:5px 0 0;visibility:hidden;width:100%}.pgc-rev-scr-bar-view .pgc-rev-scr-bar-track{position:relative;left:0;top:0;right:0;bottom:0;border-radius:inherit}.pgc-rev-scr-bar-view .pgc-rev-scr-bar-track>div{border-radius:inherit}.pgc-rev-scr-bar-view .pgc-rev-scr-bar-bar{position:absolute;top:0;left:0;height:100%;transform-origin:left top;transform:translateX(0);border-radius:inherit}.pgc-rev-scr-bar-view .pgc-rev-scr-bar-bar>div{height:100%;border-radius:inherit;transition:transform 0.2s}.pgc-rev-scr-bar-view .pgc-rev-scr-bar-bar:hover>div{transform:scaleY(1.2);box-shadow:0 0 3px #000}.pgc-rev-scr-bar-view.pgc-enable{visibility:visible}.pgc-rev-scr-bar-view.pgc-mini-screen{margin:2px 0 0;opacity:0.5}\n",""]),t.locals={classPrefBulet:'".pgc-rev-bulet-"',classPrefNPnavi:'".pgc-rev-np-navi-"',classPrefScrollBar:'".pgc-rev-scr-bar-"'},e.exports=t},,,,,function(e,t,i){var n=i(3),a=i(57);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},function(e,t,i){var n=i(3),a=i(58);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},,,,,,,function(e,t,i){var n=i(3),a=i(56);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},function(e,t,i){(t=i(4)(!1)).push([e.i,".albumnavigator_skin{position:relative}.albumnavigator_skin *{box-sizing:border-box !important}.fla-albumnavigator-splash-grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center}.fla-albumnavigator-splash-grid.splash-classic{justify-content:unset}.fla-albumnavigator-cover-base-pint{position:relative;opacity:0;transition:opacity 0.45s, background-color 1s}.fla-albumnavigator-cover-base-pint .fla-albumnavigator-main-wrap{width:100%}.fla-albumnavigator-cover-base-pint .fla-albumnavigator-main-wrap .fla-albumnavigator-item-wrap{position:relative;width:100%;border-radius:inherit;overflow:hidden}.fla-albumnavigator-cover-base-pint img{display:block;border:0 !important;margin:0 !important;padding:0 !important;max-height:none !important;max-width:none !important;min-height:0 !important;min-width:0 !important;width:100% !important;height:auto !important;-webkit-backface-visibility:hidden;backface-visibility:hidden}.fla-albumnavigator-pint-style .fla-albumnavigator-item-wrap{cursor:pointer;border-radius:inherit}.fla-albumnavigator-pint-style .fla-albumnavigator-item-wrap .fla-albumnavigator-image-hover{position:absolute;top:0;left:0;bottom:0;right:0;opacity:1;transition:opacity 0.5s;background:linear-gradient(to bottom, rgba(0,0,0,0) 50%, rgba(0,0,0,0.83) 99%, rgba(0,0,0,0.85) 100%)}.fla-albumnavigator-pint-style .fla-albumnavigator-item-wrap .fla-albumnavigator-title-wrap{position:absolute;bottom:0;left:0;transition:0.5s;transform:translate(0, 0);opacity:1;font-size:20px;line-height:23px;color:#fff;font-weight:300;display:block;text-align:left;margin:0 0 10px 10px;padding:5px 10px 5px 10px}.fla-albumnavigator-pint-style .fla-albumnavigator-item-wrap .fla-albumnavigator-badge-wrap{position:absolute;top:50%;left:50%;transform:translate(-50%, -150%);opacity:0;width:50px;height:50px;padding:12px;border-radius:50%;background-color:#000000b5;fill:white;transition:0.5s}.fla-albumnavigator-pint-style .fla-albumnavigator-item-wrap .fla-albumnavigator-badge-wrap svg{width:100%;height:100%;fill:inherit;display:block}.fla-albumnavigator-pint-style.hover .fla-albumnavigator-image-hover{opacity:0}.fla-albumnavigator-pint-style.hover .fla-albumnavigator-badge-wrap{transform:translate(-50%, -50%);opacity:1}.fla-albumnavigator-pint-style .fla-albumnavigator-main-wrap .fla-albumnavigator-desc-wrap{position:relative;font-size:17px;line-height:20px;font-weight:300;display:block;text-align:left;padding:20px}.fla-albumnavigator-pint-style .fla-albumnavigator-main-wrap .fla-albumnavigator-desc-wrap .fla-albumnavigator-title-wrap{position:relative;color:inherit;line-height:1.2;font-weight:300;display:flex;flex-direction:row;justify-content:start;align-items:center}.fla-albumnavigator-pint-style .fla-albumnavigator-main-wrap .fla-albumnavigator-desc-wrap .fla-albumnavigator-title-wrap .fla-albumnavigator-count{margin:0 5px;white-space:nowrap}.fla-albumnavigator-pint-style .fla-albumnavigator-main-wrap .fla-albumnavigator-desc-wrap .fla-albumnavigator-description{color:inherit;margin:10px 0;padding:15px 0 0 0;border-top-width:1px;border-right-width:0;border-bottom-width:0;border-left-width:0;border-style:solid}.simple-alpha .fla-albumnavigator-item-hover,.simple-classic .fla-albumnavigator-item-hover{position:absolute;top:0;left:0;bottom:0;right:0;opacity:0;transition:opacity 0.5s}.simple-alpha .fla-albumnavigator-item-inner,.simple-classic .fla-albumnavigator-item-inner{cursor:pointer}.simple-alpha .fla-albumnavigator-item-inner .fla-albumnavigator-title-wrap,.simple-classic .fla-albumnavigator-item-inner .fla-albumnavigator-title-wrap{position:absolute;display:flex;flex-direction:row;align-items:center;padding:13px 17px;font-weight:500;line-height:1.2;left:0;bottom:0;transition:0.5s;transform:translate(0, 0)}.simple-alpha .fla-albumnavigator-item-inner .fla-albumnavigator-title-wrap .fla-albumnavigator-item-title,.simple-classic .fla-albumnavigator-item-inner .fla-albumnavigator-title-wrap .fla-albumnavigator-item-title{color:inherit;font-size:inherit;line-height:inherit}.simple-alpha .fla-albumnavigator-item-inner .fla-albumnavigator-title-wrap .fla-albumnavigator-item-counter,.simple-classic .fla-albumnavigator-item-inner .fla-albumnavigator-title-wrap .fla-albumnavigator-item-counter{color:inherit;font-size:inherit;line-height:inherit;margin:0 7px;white-space:nowrap}.simple-alpha:hover .fla-albumnavigator-item-hover{opacity:1}.simple-alpha:hover .fla-albumnavigator-title-wrap{transform:translate(0, -25%)}.simple-classic .fla-albumnavigator-item-inner{display:flex;flex-direction:column;justify-content:center}.simple-classic .fla-albumnavigator-title-wrap{flex-direction:column !important;justify-content:center;line-height:1.5 !important;bottom:unset !important;width:100%;text-align:center}.simple-classic .fla-albumnavigator-title-wrap .fla-albumnavigator-item-counter::before,.simple-classic .fla-albumnavigator-title-wrap .fla-albumnavigator-item-counter::after{content:'•'}.simple-classic img{transition:transform 0.7s ease}.simple-classic:hover img{transform:scale(1.05)}.simple-slide .fla-albumnavigator-item-wrap{cursor:pointer}.simple-slide .fla-albumnavigator-item-hover{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(255,255,255,0.8);animation-duration:0.2s;animation-play-state:running;animation-fill-mode:both;animation-timing-function:ease;transform:translate(0, -100%)}.simple-slide .fla-albumnavigator-item-inner{line-height:1.5;display:flex;flex-direction:column;flex-wrap:wrap;justify-content:center}.simple-slide .fla-albumnavigator-item-inner .fla-albumnavigator-title{margin:0 auto;color:inherit;font-size:inherit;line-height:inherit}.simple-slide .fla-albumnavigator-item-inner .fla-albumnavigator-counter{margin:0 auto;white-space:nowrap;font-style:italic;color:inherit;font-size:inherit;line-height:inherit}.simple-slide .fla-albumnavigator-item-inner .fla-albumnavigator-counter::before,.simple-slide .fla-albumnavigator-item-inner .fla-albumnavigator-counter::after{content:'•'}@keyframes fla-in-top{from{transform:translate(0, -100%)}to{transform:translate(0, 0)}}@keyframes fla-out-top{from{transform:translate(0, 0)}to{transform:translate(0, -100%)}}@keyframes fla-in-bottom{from{transform:translate(0, 100%)}to{transform:translate(0, 0)}}@keyframes fla-out-bottom{from{transform:translate(0, 0)}to{transform:translate(0, 100%)}}@keyframes fla-in-left{from{transform:translate(-100%, 0)}to{transform:translate(0, 0)}}@keyframes fla-out-left{from{transform:translate(0, 0)}to{transform:translate(-100%, 0)}}@keyframes fla-in-right{from{transform:translate(100%, 0)}to{transform:translate(0, 0)}}@keyframes fla-out-right{from{transform:translate(0, 0)}to{transform:translate(100%, 0)}}.fla-albumnavigator-splash-slider{position:relative;overflow:hidden}.fla-albumnavigator-slider-content-view{display:inline-flex;flex-direction:row}.fla-albumnavigator-splash-masonry{position:relative}.fla-albumnavigator-splash-masonry .splash-column{float:left}.fla-albumnavigator-justified-collection{position:relative;max-width:1300px;margin:0 auto}.fla-albumnavigator-justified-collection .fla-albumnavigator-content{display:flex;flex-direction:row;flex-wrap:wrap;min-height:150px}.fla-albumnavigator-collection-thumb-view.pgc-justified img{width:100% !important;height:100% !important}.fla-albumnavigator-collection-thumb-view .fla-albumnavigator-hover{opacity:0;transition:opacity 0.4s}.fla-albumnavigator-collection-thumb-view .fla-albumnavigator-item-badge{position:absolute;pointer-events:none;border-radius:50%;background-color:rgba(255,255,255,0.7);width:60px;height:60px;padding:10px;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}.fla-albumnavigator-collection-thumb-view .fla-albumnavigator-item-badge svg{display:block;width:100%;height:100%}.fla-albumnavigator-collection-thumb-view .fla-albumnavigator-item-title{color:inherit;line-height:1.5;padding:1em}.fla-albumnavigator-collection-thumb-view .fla-albumnavigator-interactiv{position:absolute;right:0;bottom:0;top:0;left:0}.fla-albumnavigator-collection-thumb-view .fla-albumnavigator-item-menu-holder{position:absolute;bottom:0;right:0;padding:5px;min-height:45px;transform:translateY(100%);transition:transform 0.5s}.fla-albumnavigator-collection-thumb-view.hover .fla-albumnavigator-hover{opacity:1}.fla-albumnavigator-collection-thumb-view.hover .fla-albumnavigator-item-menu-holder{transform:translateY(0)}\n",""]),e.exports=t},function(e,t,i){(t=i(4)(!1)).push([e.i,":root{--right-marg: 0}.pgc-rev-fs-modal-wrap-html{overflow:hidden;margin-right:var(--right-marg)}.pgc-rev-fs-modal-wrap-view{position:fixed;top:0;bottom:0;left:0;right:0;pointer-events:auto;overflow-y:auto;-webkit-overflow-scrolling:touch}.pgc-rev-fs-modal-wrap-view *{box-sizing:border-box !important}.pgc-rev-fs-modal-wrap-view .pgc-rev-fs-modal-wrap-free-space{flex:auto}.pgc-rev-fs-modal-wrap-view.pgc-clear-scroll::-webkit-scrollbar{display:none}.pgc-rev-fs-modal-wrap-bg{position:fixed;top:0;left:0;width:100%;height:100%;will-change:opacity;transition:0.4s;transform:translateY(-100%);background-color:white}\n",""]),t.locals={classPref:'".pgc-rev-fs-modal-wrap-"'},e.exports=t},function(e,t,i){(t=i(4)(!1)).push([e.i,".pgc-rev-collection-collection-page .pgc-rev-collection-header{position:relative;width:100%;display:flex;min-height:50px;overflow:hidden;flex-direction:column;justify-content:center;transform:translateY(-100%);transition:transform 0.3s;box-shadow:0 1px 3px rgba(0,0,0,0.05)}.pgc-rev-collection-collection-page .pgc-rev-collection-header .pgc-rev-collection-title{margin:20px auto 5px;padding:0 40px;font-size:1.3em}.pgc-rev-collection-collection-page .pgc-rev-collection-header .pgc-rev-collection-description{margin:5px auto 7px;padding:0 10px;text-align:center;font-size:1em;max-width:640px}.pgc-rev-collection-collection-page .pgc-rev-collection-header .pgc-rev-collection-navi-wrap{margin:0 auto 3px;text-align:center}.pgc-rev-collection-collection-page .pgc-rev-collection-header .pgc-rev-collection-navi-wrap .pgc-rev-collection-button{display:inline-block;width:38px;height:38px;margin:0 3px;padding:6px;border-radius:2px;cursor:pointer}.pgc-rev-collection-collection-page .pgc-rev-collection-header .pgc-rev-collection-navi-wrap .pgc-rev-collection-button svg{display:block;width:100%;height:100%}.pgc-rev-collection-collection-page .pgc-rev-collection-header .pgc-rev-collection-close-button{position:absolute;top:0;right:0;margin:4px;width:38px;height:38px;padding:4px;border-radius:2px;cursor:pointer}.pgc-rev-collection-collection-page .pgc-rev-collection-header .pgc-rev-collection-close-button svg{width:100%;height:100%}.pgc-rev-collection-collection-page .pgc-rev-collection-header.pgc-rev-collection-init{transform:translateY(0)}.pgc-rev-collection-collection-page .pgc-rev-collection-content{position:relative;margin:10px auto 20px;min-height:150px}.pgc-rev-collection-header-fixed{position:fixed;top:0;left:0;min-height:50px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;transform:translateY(-100%);transition:transform 0.3s;background-color:white;box-shadow:0 1px 3px rgba(0,0,0,0.05)}.pgc-rev-collection-header-fixed .pgc-rev-collection-title{margin:0 20px;font-size:1.3em;flex:none}.pgc-rev-collection-header-fixed .pgc-rev-collection-navi-wrap{margin:0 20px;flex:none}.pgc-rev-collection-header-fixed .pgc-rev-collection-navi-wrap .pgc-rev-collection-button{display:inline-block;width:48px;height:48px;margin:0 3px;padding:4px}.pgc-rev-collection-header-fixed .pgc-rev-collection-navi-wrap .pgc-rev-collection-button svg{width:100%;height:100%}.pgc-rev-collection-header-fixed .pgc-rev-collection-close-button{top:0;right:0;width:38px;height:38px;padding:4px;margin:4px;cursor:pointer;flex:none}.pgc-rev-collection-header-fixed .pgc-rev-collection-close-button svg{width:100%;height:100%}.pgc-rev-collection-header-fixed.pgc-rev-collection-init{transform:translateY(0)}\n",""]),t.locals={classPref:'".pgc-rev-collection-"'},e.exports=t},,,,,,,function(e,t,i){"use strict";i.r(t);i(55);var n=i(17),a=i(5),o=i(7),s=i(10),r=i(1),l=i(2),c=i(9),h=i(0),d=i(47),p=i.n(d);function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,i){return t&&u(e.prototype,t),i&&u(e,i),e}var v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appSet=t,this.view=document.createElement("div"),this.view.className="".concat(e.classPref,"view"),this.bg=document.createElement("div"),this.bg.className="".concat(e.classPref,"bg"),this.header=document.createElement("div"),this.header.className="".concat(e.classPref,"header"),this.view.appendChild(this.header),this.content=document.createElement("div"),this.content.className="".concat(e.classPref,"content"),this.view.appendChild(this.content),this.headerFixed=document.createElement("div"),this.headerFixed.className="".concat(e.classPref,"header-fixed"),this.headerFixed.style.right="".concat(h.a.getScrollbarWidth,"px"),this.addToStage()}return m(e,null,[{key:"classPref",get:function(){var e=p.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}}]),m(e,[{key:"scrollTo",value:function(e){h.a.scrollInElementToY(this.view,e)}},{key:"addToStage",value:function(){var t=this,i=document.getElementsByTagName("body")[0],n=document.getElementsByTagName("html")[0],a=document.documentElement;h.a.hasScrollbar&&i.clientWidth!==window.innerWidth&&a.style.setProperty("--right-marg","".concat(h.a.getScrollbarWidth,"px")),h.a.hasScrollbar&&i.clientWidth===window.innerWidth&&0!==h.a.getScrollbarWidth&&(this.view.classList.add("pgc-clear-scroll"),this.headerFixed.style.right="0"),n.classList.add("".concat(e.classPref,"html")),this.bg.style.zIndex=h.a.findHighestZIndex(i)+1,this.view.style.zIndex=h.a.findHighestZIndex(i)+2,this.headerFixed.style.zIndex=h.a.findHighestZIndex(i)+3,i.appendChild(this.bg),i.appendChild(this.view),i.appendChild(this.headerFixed),setTimeout((function(){t.bg.style.transform="translateY(0)"}),30)}},{key:"prepareToRemove",value:function(){this.view.removeChild(this.header),this.view.removeChild(this.content),this.headerFixed.parentNode.removeChild(this.headerFixed),this.bg.style.opacity="0",document.getElementsByTagName("html")[0].classList.remove("".concat(e.classPref,"html"))}},{key:"bottomSpace",get:function(){var e=this.view;return e.scrollHeight-e.scrollTop-e.clientHeight}},{key:"pageYOffset",get:function(){return this.view.scrollTop}}]),e}(),g=i(16),f=i(48),w=i.n(f);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,i){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(i):a.value}})(e,t,i||e)}function C(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t,i){return t&&C(e.prototype,t),i&&C(e,i),e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=_(e);if(t){var a=_(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return k(this,i)}}function k(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(i,e);var t=E(i);function i(e,n){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(a=t.call(this,e)).config=i.CONFIG,h.a.copyProperties(n,a.config),a.fixedHeaderShow=!1,a.removing=!1,a.startItem=void 0,a.view.classList.add("".concat(i.classPref,"collection-page")),a.header.classList.add("".concat(i.classPref,"header")),a.headerFixed.classList.add("".concat(i.classPref,"header-fixed")),a.content.classList.add("".concat(i.classPref,"content")),a.bg.style.backgroundColor=a.config.mc_backgroundColor,a.header.style.backgroundColor=a.config.mc_headerBackgroundColor,a.header.style.color=a.config.mc_headerTextColor,a.headerFixed.style.backgroundColor=a.config.mc_fixedHeaderBackgroundColor,a.headerFixed.style.color=a.config.mc_fixedHeaderTextColor,a.closeButton=document.createElement("div"),a.closeButton.className="".concat(i.classPref,"close-button"),a.closeButton.innerHTML=h.a.ICONS.CLOSE_SVG,a.closeButton.style.fill=a.config.mc_headerButtonIconColor,a.closeButton.style.backgroundColor=a.config.mc_headerButtonBgColor,a.closeButton.onclick=function(){a.prepareToRemove()},a.header.appendChild(a.closeButton),a.title=document.createElement("div"),a.title.className="".concat(i.classPref,"title"),a.config.mc_descriptionShow||a.config.mc_shareButtonShow||(a.title.style.margin="auto"),a.header.appendChild(a.title),a.titleFixed=document.createElement("div"),a.titleFixed.className="".concat(i.classPref,"title"),a.headerFixed.appendChild(a.titleFixed);var o=document.createElement("div");if(o.className="".concat(i.classPref,"free-space"),a.headerFixed.appendChild(o),a.config.mc_descriptionShow){var s=document.createElement("div");s.className="".concat(i.classPref,"description"),a.description=s,a.header.appendChild(s)}return a}return x(i,null,[{key:"classPref",get:function(){var e=w.a.classPref;return e.substring(e.lastIndexOf(".")+1,e.lastIndexOf('"'))}},{key:"EVENTS",get:function(){return{MC_BUTTONS_ACTION:"MC_BUTTONS_ACTION",MC_COLLECTION_MODAL_REMOVE:"MC_COLLECTION_MODAL_REMOVE"}}},{key:"CONFIG",get:function(){return{mc_collection:void 0,mc_backgroundColor:"rgba(255,255,255,1)",mc_headerBackgroundColor:"rgba(255,255,255,1)",mc_headerTextColor:"rgba(0,0,0,1)",mc_fixedHeaderBackgroundColor:"rgba(255,255,255,1)",mc_fixedHeaderTextColor:"rgba(0,0,0,1)",mc_headerButtonIconColor:"rgba(255,255,255,1)",mc_headerButtonBgColor:"rgba(0,0,0,1)",mc_descriptionShow:!1,mc_shareButtonShow:!1}}}]),x(i,[{key:"initByTerm",value:function(e){var t=this;this.collection=this.config.mc_collection,this.collection?(this.term=e,this.title.innerHTML=e.title,this.titleFixed.innerHTML="".concat(e.title," • ").concat(e.count),this.description&&e.description&&""!==e.description&&(this.description.innerHTML=e.description),this.appSet.appEventManager.addGMEventListener(g.a.EVENTS.PAGE_ADDED,this,"checkNeedNewPage"),this.loadCollectionDelay=setTimeout((function(){t.header.classList.add("".concat(i.classPref,"init")),t.initCollection()}),400)):h.a.trace("************* Need CollectionGallery for PAGE **************")}},{key:"initCollection",value:function(){this.content.appendChild(this.collection.view),this.collection.parentWrap=this.view,this.startItem&&(this.collection.startItem=this.startItem),this.collection.init(),this.collection.initData(this.term.itemsList),this.initLayout()}},{key:"initLayout",value:function(){this.scrollHandler=this.scrollHandlerFunction(),this.view.addEventListener("scroll",this.scrollHandler,!1)}},{key:"prepareToRemove",value:function(){var e=this;this.loadCollectionDelay&&clearTimeout(this.loadCollectionDelay),this.removing=!0,this.appSet.appEventManager.removeGMEventListener(g.a.EVENTS.PAGE_ADDED,this,"checkNeedNewPage"),this.collection.prepareToRemove(),delete this.collection,this.view.removeEventListener("scroll",this.scrollHandler,!1),y(_(i.prototype),"prepareToRemove",this).call(this),setTimeout((function(){e.view&&e.view.parentNode&&(e.view.parentNode.removeChild(e.view),e.bg.parentNode.removeChild(e.bg)),delete e.view,e.appSet.appEventManager.dispatchGMEvent(h.a.GMEvent(i.EVENTS.MC_COLLECTION_MODAL_REMOVE,e,{}))}),400)}},{key:"checkNeedNewPage",value:function(){this.bottomSpace<200&&this.collection.addPageToStage()}},{key:"scrollToTop",value:function(){h.a.scrollInElementToY(this.view,0)}},{key:"scrollHandlerFunction",value:function(){var e=this;return function(){e.offsetYcontroll()}}},{key:"offsetYcontroll",value:function(){this.view.scrollTop>this.header.clientHeight?this.showFixedHeader(!0):this.showFixedHeader(!1),this.checkNeedNewPage()}},{key:"showFixedHeader",value:function(e){if(this.fixedHeaderShow!==e){switch(e){case!0:this.headerFixed.appendChild(this.closeButton),this.headerFixed.classList.add("".concat(i.classPref,"init"));break;default:this.headerFixed.classList.remove("".concat(i.classPref,"init")),this.header.appendChild(this.closeButton)}this.fixedHeaderShow=e}}},{key:"resizeHandler",value:function(){this.collection&&this.collection.resizeHandler()}},{key:"bottomSpace",get:function(){var e=this.view;return e.scrollHeight-e.scrollTop-e.clientHeight}}]),i}(v),I=i(15),L=i(12);function N(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.a.trace;var M=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.a.copyProperties(t,this),window.FlaGallery&&(this.appName=i,this.appDiv=n,this.appDivWidth=this.appDiv.clientWidth,this.resizeTimeOut=void 0,this.audioPlayer=void 0,this.modal=void 0,this.lightbox=void 0,this.splashPage=void 0,this.viewsSet={},this.likesSet={},this.settings.appName=i,this.settings.appEventManager=r.a.GMEventsManager(),this.settings.cacheItemsList=r.a.CacheItemsList(),this.appSet=this.settings,this.startItem=void 0,this.terms={},this.termsList=[],this.splashPage=void 0,this.modalCollection=void 0,this.startApp())}var t,i,n;return t=e,(i=[{key:"createLightbox",value:function(){r.a.trace("********* Need Lightbox Implementation *********")}},{key:"keydownHandler",value:function(){var e=this;return e.handlerKB=function(t){switch(t.keyCode){case 27:e.modal?e.modal.prepareToRemove():e.lightbox?e.lightbox.prepareToRemove():e.modalCollection&&e.modalCollection.prepareToRemove()}},e.handlerKB}},{key:"startApp",value:function(){var e=this;this.appSet.appEventManager.addGMEventListener(l.a.NEED_NEW_COLLECTION_BY_TERM,this,"coverActionHandler"),this.appSet.appEventManager.addGMEventListener(l.a.NEED_NEW_COLLECTION,this,"pushNewCollectionByTermID"),this.appSet.appEventManager.addGMEventListener(l.a.NEED_MODAL,this,"createModal"),this.appSet.appEventManager.addGMEventListener(l.a.ITEM_ACTION,this,"itemActionHandler"),this.appSet.lightBoxEnable&&this.appSet.appEventManager.addGMEventListener(l.a.NEED_LIGHTBOX,this,"needLightbox"),document.addEventListener("keydown",this.keydownHandler(),!0),this.popstateHandler=function(){if(e.modal&&e.modal.prepareToRemove(),e.lightbox&&e.lightbox.prepareToRemove(),e.splashPage){if(e.modalCollection){if(e.itemIDFromHash){var t=e.modalCollection.collection;if(t){var i=t.getItemIndexByID(e.itemIDFromHash);return void e.appSet.appEventManager.dispatchGMEvent(r.a.GMEvent(l.a.NEED_LIGHTBOX,e,{collection:t,index:i}))}}return void(e.termFromHash||e.modalCollection.prepareToRemove())}e.addCollectionoFromHash()}},window.addEventListener("popstate",this.popstateHandler,!1),this.viewsSet={},this.appSet.appEventManager.addGMEventListener(l.a.COUNTERS_UPDATED,this,"itemsCountersUpdateHandler"),this.likesSet=r.a.likesSet(),window.addEventListener("resize",(function(){e.windowResizeHandler(e)})),this.termsLoaded()}},{key:"termsLoaded",value:function(){if(this.data&&0!==this.data.length){for(var e=this.data,t=0;t<e.length;t+=1){var i=r.a.Term(this.data[t],this.appName);this.termsList.push(i)}this.initSplash(this.termsList),this.addCollectionFormHashStartApp()}}},{key:"initSplash",value:function(e){this.splashPage=this.splashPageConstructor,this.splashPage&&(this.appDiv.appendChild(this.splashPage.view),this.splashPage.initByTermsList(e))}},{key:"collectionHash",value:function(e){return"#".concat(this.appName,"-").concat(e.term_id)}},{key:"itemHash",value:function(e){var t="#".concat(this.appName);return this.modalCollection&&this.modalCollection.term&&(t=this.collectionHash(this.modalCollection.term)),"".concat(t,"-").concat(e.ID)}},{key:"addCollectionFormHashStartApp",value:function(){this.startItem=this.itemIDFromHash;var e=this.termFromHash;e&&(window.history.replaceState("",document.title,window.location.pathname+window.location.search),this.needModalForTerm(e))}},{key:"addCollectionoFromHash",value:function(){var e=this.termFromHash;e&&this.needModalForTerm(e)}},{key:"removeCollectionDeepLink",value:function(){this.termFromHash?window.history.back():window.history.replaceState(null,null,window.location.pathname+window.location.search)}},{key:"coverActionHandler",value:function(e){e.params.term&&this.needModalForTerm(e.params.term)}},{key:"needModalForTerm",value:function(e){if(this.appSet.appEventManager.addGMEventListener(T.EVENTS.MC_BUTTONS_ACTION,this,"modalCollectionButtonsActionHandler"),this.appSet.appEventManager.addGMEventListener(T.EVENTS.MC_COLLECTION_MODAL_REMOVE,this,"modalCollectionRemoveHandler"),this.modalCollection=this.modalCollectionConstructor,this.modalCollection){this.startItem&&(this.modalCollection.startItem=this.startItem),this.modalCollection.initByTerm(e);var t=this.collectionHash(e);window.location.hash!==t&&window.history.pushState(null,null,t)}}},{key:"modalCollectionButtonsActionHandler",value:function(e){this.createModal(e)}},{key:"modalCollectionRemoveHandler",value:function(){this.appSet.appEventManager.removeGMEventListener(T.EVENTS.MC_BUTTONS_ACTION,this,"modalCollectionButtonsActionHandler"),this.appSet.appEventManager.removeGMEventListener(T.EVENTS.MC_COLLECTION_MODAL_REMOVE,this,"modalCollectionRemoveHandler"),delete this.modalCollection,this.removeCollectionDeepLink()}},{key:"itemActionHandler",value:function(e){if(e&&e.params&&e.params.type&&e.params.item)switch(e.params.type){case"like":this.likeItem=e.params.item;break;case"view":this.viewItem=e.params.item}}},{key:"itemsCountersUpdate",value:function(){if(this.viewsSet){var e=[];for(var t in this.viewsSet)this.viewsSet[t]&&e.push(t);if(e.length>0){var i={likes:[],views:e},n="action=flagallery_update_counters&json=".concat(JSON.stringify(i));r.a.request(n,this,l.a.COUNTERS_UPDATED),this.viewsSet={}}}}},{key:"itemsCountersUpdateHandler",value:function(){}},{key:"needLightbox",value:function(e){if(e.params||e.params.collection){var t=e.params.collection,i=e.params.index,n=t.filteredCollection[i];this.lightbox&&this.lightbox.prepareToRemove(),window.localStorage.getItem("fla_likesSet")&&(this.likesSet=JSON.parse(window.localStorage.getItem("fla_likesSet")));var a=this.createLightbox();if(a){this.lightbox=a,this.lightbox.initByList(t.filteredCollection,i);var o=this.itemHash(n);window.location.hash!==o&&window.history.pushState(null,null,o)}}}},{key:"updateItemLink",value:function(e){var t=this.itemHash(e);window.history.replaceState(null,null,t)}},{key:"removeLightbox",value:function(e){if(e.target===this.lightbox){var t=this;setTimeout((function(){t.lightbox.view&&t.lightbox.view.parentNode&&t.lightbox.view.parentNode.removeChild(t.lightbox.view),t.lightbox&&(t.lightbox=void 0)}),100),this.itemsCountersUpdate(),this.itemIDFromHash&&window.history.back()}}},{key:"createModal",value:function(e){if(e.params.type&&e.params.item){var t=e.params.item,i=c.a.CONFIG;i.mwBackgroundColor=this.appSet.modaBgColor;var n,a=document.getElementsByTagName("body")[0];if(i.mwParentDiv=this.lightbox?this.lightbox.view:a,i.mwFixedMode=!this.lightbox,!this.modal){this.modal=new c.a(this.appSet,i),this.appSet.appEventManager.addGMEventListener(c.a.EVENTS.REMOVE_MODAL_WINDOW,this,"deleteModal");var o,s=L.a.PAGE_CONFIG;switch(s.mpPageBgColor=this.appSet.modalInfoBoxBgColor,s.mpButtonIconColor=this.appSet.modalInfoBoxTitleTextColor,e.params.type){case"share":(o=L.a.CONFIG).mpModalInfoBoxTitleTextColor=this.appSet.modalInfoBoxTitleTextColor,r.a.copyProperties(s,o),n=new L.a(this.appSet,this.modal,o);break;case"info":(o=I.a.CONFIG).mpModalInfoBoxTitleTextColor=this.appSet.modalInfoBoxTitleTextColor,o.mpModalInfoBoxTextColor=this.appSet.modalInfoBoxTextColor,o.mpInfoBarDateInfoEnable=this.appSet.infoBarDateInfoEnable,o.mpInfoBarExifEnable=this.appSet.infoBarExifEnable,o.mpInfoBarCountersEnable=this.appSet.infoBarCountersEnable,o.mpInfoBarTerms=this.appSet.infoBarTerms,o.mpInfoBarTermsTitleColor=this.appSet.infoBarTermsTitleColor,o.mpInfoBarTermsBackgroundColorAlbums=this.appSet.infoBarTermsBackgroundColorAlbums,o.mpInfoBarTermsBackgroundColorCategories=this.appSet.infoBarTermsBackgroundColorCategories,o.mpInfoBarTermsBackgroundColorTags=this.appSet.infoBarTermsBackgroundColorTags,r.a.copyProperties(s,o),n=new I.a(this.appSet,this.modal,o)}}n.item=t,this.modal.pushPage(n.view)}}},{key:"deleteModal",value:function(){this.modal&&delete this.modal,this.appSet.appEventManager.removeGMEventListener(c.a.EVENTS.REMOVE_MODAL_WINDOW,this,"deleteModal")}},{key:"fullscreenSwitch",value:function(){var e=this.lightbox.view;e&&(r.a.toggleFullScreen(e),this.windowResizeHandler())}},{key:"windowResize",value:function(){this.splashPage&&this.splashPage.resizeHandler(),this.modalCollection&&this.modalCollection.resizeHandler(),this.lightbox&&this.lightbox.resizeHandler()}},{key:"windowResizeHandler",value:function(){var e=this;clearTimeout(this.resizeTimeOut),r.a.isTouchDevice?this.resizeTimeOut=setTimeout((function(){e.windowResize()}),200):this.windowResize()}},{key:"appSet",set:function(e){}},{key:"splashPageConstructor",get:function(){r.a.trace("************* Need SplashPage Implementation **************")}},{key:"modalCollectionConstructor",get:function(){r.a.trace("************* Need ModalCollection Implementation **************")}},{key:"termFromHash",get:function(){var e=window.location.hash.indexOf("".concat(this.appName,"-"));if(e+1){var t=window.location.hash.substr(e).split("-")[1];if(!t)return;for(var i=0;i<this.termsList.length;i+=1){var n=this.termsList[i];if(parseInt(n.term_id)===parseInt(t))return n}}}},{key:"itemIDFromHash",get:function(){var e,t=window.location.hash.indexOf("".concat(this.appName,"-"));return t+1&&(e=window.location.hash.substr(t).split("-").length>=3?window.location.hash.substr(t).split("-")[2]:void 0),e}},{key:"likeItem",set:function(e){if(e){e.meta.likes||(e.meta.likes=0),e.meta.likes=parseInt(e.meta.likes)+1,e.view&&e.view.like&&(e.view.like=!0);var t=e.ID;if(!this.likesSet[t]){this.likesSet[t]="like",this.viewsSet[t]&&delete this.viewsSet[t];var i={likes:[t],views:[t]},n="action=flagallery_update_counters&json=".concat(JSON.stringify(i));r.a.request(n,this,l.a.COUNTERS_UPDATED),r.a.likesSet(this.likesSet)}}}},{key:"viewItem",set:function(e){var t=e.ID;this.updateItemLink(e),this.viewsSet[t]="view"}}])&&N(t.prototype,i),n&&N(t,n),e}(),P=i(40);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t,i){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(i):a.value}})(e,t,i||e)}function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=F(e);if(t){var a=F(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return V(this,i)}}function V(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function W(e,t,i){return t&&G(e.prototype,t),i&&G(e,i),e}!function(){console.log("%c FlAGallery AlbumNavigator v.2.0.0","background: #222; color: #bada55");var e="albumnavigator",t="fla-".concat(e,"-"),i=r.a.moduleSettings,c=r.a.trace,h="TERM_COVER_ACTION",d=function(e){H(n,e);var i=A(n);function n(e,a){var o;return D(this,n),(o=i.call(this,e,a)).view.classList.add("".concat(t,"pint-style")),o}return W(n,[{key:"initSubContent",value:function(){this.badge=document.createElement("div"),this.badge.className="".concat(t,"badge-wrap"),this.badge.innerHTML=r.a.ICONS.ZOOM_SVG,this.wrap_item.appendChild(this.badge),(this.appSet.coverTitleEnable||this.appSet.coverCollectoinAmount||this.term.description&&""!==this.term.description)&&(this.descriptionWrap=document.createElement("div"),this.descriptionWrap.className="".concat(t,"desc-wrap"),this.descriptionWrap.style.color=this.appSet.coverTitleTextColor,this.descriptionWrap.style.backgroundColor=this.appSet.coverHoverColor,this.wrap_main.appendChild(this.descriptionWrap),(this.appSet.coverTitleEnable||this.appSet.coverCollectoinAmount)&&(this.titleWrap=document.createElement("div"),this.titleWrap.className="".concat(t,"title-wrap"),this.titleWrap.style.fontSize="".concat(this.appSet.coverTitleFontSize,"px"),this.descriptionWrap.appendChild(this.titleWrap),this.appSet.coverTitleEnable&&(this.title=document.createElement("div"),this.title.className="".concat(t,"title"),this.title.innerHTML=this.term.title,this.titleWrap.appendChild(this.title)),this.appSet.coverCollectoinAmount&&(this.count=document.createElement("div"),this.count.className="".concat(t,"count"),this.count.innerHTML="• ".concat(this.term.count).concat(this.appSet.coverTitleEnable?"":" •"),this.appSet.coverTitleEnable||(this.count.style.margin="auto"),this.titleWrap.appendChild(this.count))),this.term.description&&""!==this.term.description&&(this.description=document.createElement("div"),this.description.className="".concat(t,"description"),this.description.innerHTML=this.term.description,this.description.style.borderColor=this.appSet.coverTitleTextColor,this.descriptionWrap.appendChild(this.description)))}},{key:"initInteractive",value:function(){var e=this;function t(e){switch(e.type){case"mouseenter":this.classList.add("hover");break;case"mouseleave":this.classList.remove("hover")}}this.wrap_item.addEventListener("click",(function(){e.view.classList.remove("hover"),e.clickHandler()})),this.view.addEventListener("mouseenter",t,!1),this.view.addEventListener("mouseleave",t,!1)}}]),n}(function(){function e(i,n){D(this,e),this.term=i,this.appName=n,this.imageBoxSize=void 0,this.thumbSize=r.a.Size(0,0),this.view=document.createElement("div"),this.view.className="".concat(t,"cover-base-pint"),this.view.id="gal_".concat(i.term_id),this.wrap_main=document.createElement("div"),this.wrap_main.className="".concat(t,"main-wrap"),this.view.appendChild(this.wrap_main),this.wrap_item=document.createElement("div"),this.wrap_item.className="".concat(t,"item-wrap"),this.wrap_main.appendChild(this.wrap_item),this.opacityDelay=void 0,this.displayPr=void 0,this.opacityPr=1,this.imgCompleted=!1,this.itemViewSrcCompleted=!1,this.init()}return W(e,[{key:"init",value:function(){if(this.term&&this.term.meta&&this.term.meta.cover){var e=this,t=this.term.meta.cover;this.thumbSize=t.itemViewThumbSize,this.type=t.type,this.itemViewSrc=t.itemViewSrc,this.img=new Image,this.img.onload=function(){e.term.title&&this.setAttribute("alt",e.term.title),e.imgCompleted=!0,e.view.style.minHeight=null,e.updateImgSize(),e.view.style.opacity=e.opacityPr},this.img.onerror=function(){e.view.classList.add("fla-error"),t.errorStatus=!0},this.wrap_item.appendChild(this.img),this.img.src=t.itemViewThumbSrc,this.initSubContent(),this.initInteractive(),this.updateProps()}else c("Term ERROR DATA")}},{key:"clickHandler",value:function(){this.appSet.appEventManager.dispatchGMEvent(r.a.GMEvent(h,this,{term:this.term}))}},{key:"initSubContent",value:function(){}},{key:"initInteractive",value:function(){}},{key:"updateProps",value:function(){this.wrap_main.style.padding="".concat(this.appSet.coverThumbSpacing/2,"px")}},{key:"updateSize",value:function(e){if(e&&(this.view.style.width="".concat(e,"px")),!this.imgCompleted){var t=this.term.meta.cover;this.view.style.minHeight="".concat(t.ratio*this.view.clientWidth,"px")}}},{key:"updateImgSize",value:function(){this.imgCompleted&&"audio"!==this.type&&!this.itemViewSrcCompleted&&(this.view.clientWidth/this.img.naturalWidth>1.1||this.view.clientHeight/this.img.naturalHeight>1.1)&&this.itemViewSrc&&(this.img.src=this.itemViewSrc,this.itemViewSrcCompleted=!0)}},{key:"appSet",get:function(){return i(this.appName)}}]),e}()),p=function(e){H(a,e);var t=A(a);function a(e,o){var s;D(this,a);var r=i(o),l=n.a.CONFIG;if(l.thumb_coverHieghtRation=r.coverHieghtRation,l.thumb_spasing=r.coverThumbSpacing,(s=t.call(this,l)).term=e,s.appSet=r,!s.term||!s.term.meta||!s.term.meta.cover)return c("Term ERROR DATA"),V(s);var h=s.term.meta.cover;return s.init(h),s}return W(a,[{key:"initInteractive",value:function(){var e=this;function t(t){switch(t.type){case"click":e.clickHandler(),this.classList.remove("hover");break;case"mouseenter":this.classList.add("hover");break;case"mouseleave":this.classList.remove("hover")}}this.view.addEventListener("click",t,!1),this.view.addEventListener("mouseenter",t,!1),this.view.addEventListener("mouseleave",t,!1)}},{key:"clickHandler",value:function(){this.appSet.appEventManager.dispatchGMEvent(r.a.GMEvent(h,this,{term:this.term}))}}]),a}(n.a),u=function(e){H(n,e);var i=A(n);function n(){return D(this,n),i.apply(this,arguments)}return W(n,[{key:"initSubContent",value:function(){this.view.classList.add("simple-alpha"),this.inner.classList.add("".concat(t,"item-inner")),this.hover.classList.add("".concat(t,"item-hover")),this.hover.style.background="linear-gradient(0deg,".concat(this.appSet.coverHoverColor,"0%,rgba(0,0,0,0) 50%)"),this.titleWrap=document.createElement("div"),this.titleWrap.className="".concat(t,"title-wrap"),this.titleWrap.style.color=this.appSet.coverTitleTextColor,this.titleWrap.style.fontSize="".concat(this.appSet.coverTitleFontSize,"px"),this.inner.appendChild(this.titleWrap),this.appSet.coverTitleEnable&&(this.title=document.createElement("div"),this.title.className="".concat(t,"item-title"),this.title.innerHTML=this.term.title,this.titleWrap.appendChild(this.title)),this.appSet.coverCollectoinAmount&&(this.counter=document.createElement("div"),this.counter.className="".concat(t,"item-counter"),this.counter.innerHTML="• ".concat(this.term.count).concat(this.appSet.coverTitleEnable?"":" •"),this.titleWrap.appendChild(this.counter))}}]),n}(p),m=function(e){H(n,e);var i=A(n);function n(){return D(this,n),i.apply(this,arguments)}return W(n,[{key:"initSubContent",value:function(){this.view.classList.add("simple-classic"),this.inner.classList.add("".concat(t,"item-inner")),this.titleWrap=document.createElement("div"),this.titleWrap.className="".concat(t,"title-wrap"),this.titleWrap.style.color=this.appSet.coverTitleTextColor,this.titleWrap.style.backgroundColor=this.appSet.coverHoverColor,this.titleWrap.style.fontSize="".concat(this.appSet.coverTitleFontSize,"px"),this.inner.appendChild(this.titleWrap),this.appSet.coverTitleEnable&&(this.title=document.createElement("div"),this.title.className="".concat(t,"item-title"),this.title.innerHTML=this.term.title,this.titleWrap.appendChild(this.title)),this.appSet.coverCollectoinAmount&&(this.counter=document.createElement("div"),this.counter.className="".concat(t,"item-counter"),this.counter.innerHTML=" ".concat(this.term.count," "),this.titleWrap.appendChild(this.counter))}}]),n}(p),v=function(e){H(n,e);var i=A(n);function n(){return D(this,n),i.apply(this,arguments)}return W(n,[{key:"initSubContent",value:function(){this.eventsStack={},this.view.classList.add("simple-slide"),this.wrap_item.classList.add("".concat(t,"item-wrap")),this.inner.classList.add("".concat(t,"item-inner")),this.hover.classList.add("".concat(t,"item-hover")),this.hover.style.backgroundColor=this.appSet.coverHoverColor,this.inner.style.color=this.appSet.coverTitleTextColor,this.inner.style.fontSize="".concat(this.appSet.coverTitleFontSize,"px"),this.inner.style.background="linear-gradient(0deg,rgba(0,0,0,0) 0%,".concat(this.appSet.coverHoverColor,"50%,rgba(0,0,0,0) 100%)"),this.appSet.coverTitleEnable&&(this.title=document.createElement("div"),this.title.className="".concat(t,"title"),this.title.innerHTML="".concat(this.term.title?this.term.title:""),this.inner.appendChild(this.title)),this.appSet.coverCollectoinAmount&&(this.counter=document.createElement("div"),this.counter.className="".concat(t,"counter"),this.counter.innerHTML=" ".concat(this.term.count," "),this.inner.appendChild(this.counter))}},{key:"initInteractive",value:function(){var e=this;function t(t){if("click"===t.type&&e.clickHandler(),e.eventsStack[t.type]=!0,"mouseenter"===t.type||"mouseleave"===t.type){var i,n;"mouseenter"===t.type?i="".concat("fla-","in"):"mouseleave"===t.type&&(i="".concat("fla-","out"));var a=this.getBoundingClientRect(),o=a.left,s=a.top,r=e.imageBoxSize.width,l=e.imageBoxSize.height,c=(t.pageX-window.pageXOffset-o-r/2)*(r>l?l/r:1),h=(t.pageY-window.pageYOffset-s-l/2)*(l>r?r/l:1);switch(Math.round(Math.atan2(h,c)/1.57079633+5)%4){case 0:n="-top";break;case 1:n="-right";break;case 2:n="-bottom";break;case 3:n="-left"}e.hover.style.animationName=i+n}}this.view.addEventListener("click",t,!1),this.view.addEventListener("mouseenter",t,!1),this.view.addEventListener("mouseleave",t,!1)}}]),n}(p),g=function(){function e(t){D(this,e),this.appName=t,this.itemsList=[]}return W(e,[{key:"termCoverHandler",value:function(e){e.params.term.itemsList&&this.appSet.appEventManager.dispatchGMEvent(r.a.GMEvent(l.a.NEED_NEW_COLLECTION_BY_TERM,this,e.params))}},{key:"appSet",get:function(){return i(this.appName)}}]),e}(),f=function(e){H(n,e);var i=A(n);function n(e){var a;return D(this,n),(a=i.call(this,e)).columnsArr=[],a.columnsHeightsArr=[],a.view=document.createElement("div"),a.view.className="".concat(t,"splash-masonry"),a}return W(n,[{key:"initByTermsList",value:function(e){this.appSet.appEventManager.addGMEventListener(h,this,"termCoverHandler"),this.createColumns(),this.termsList=e;for(var t=0;t<e.length;t+=1)this.itemsList[t]=new d(e[t],this.appName),this.arangeItemToColum(this.itemsList[t])}},{key:"updateLayout",value:function(){if(!1!==this.createColumns())for(var e=0;e<this.itemsList.length;e+=1)this.arangeItemToColum(this.itemsList[e])}},{key:"createColumns",value:function(){var e=Math.floor(this.contentWidth/this.appSet.coverRecomendedWidth);if(e=e<1?1:e,e=Math.min(e,this.appSet.coverСolumns),this.columnsArr.length!==e){for(var t=0;t<this.columnsArr.length;t+=1)this.view.removeChild(this.columnsArr[t]);this.columnsArr=[],this.columnsHeightsArr=[];for(var i=0;i<e;i+=1){var n=document.createElement("div");n.className="splash-column",n.style.width="".concat(100/e,"%"),this.columnsArr.push(n),this.columnsHeightsArr.push(0),this.view.appendChild(n)}return!0}return!1}},{key:"getColumWithMinHeight",value:function(){for(var e=this.columnsHeightsArr[0],t=0,i=1;i<this.columnsHeightsArr.length;i+=1)e!==Math.min(e,this.columnsHeightsArr[i])&&(e=Math.min(e,this.columnsHeightsArr[i]),t=i);return t}},{key:"arangeItemToColum",value:function(e){var t=e.view,i=this.getColumWithMinHeight();this.columnsArr[i].appendChild(t),e.updateSize(),this.columnsHeightsArr[i]+=t.clientHeight}},{key:"resizeHandler",value:function(){this.updateLayout()}},{key:"contentWidth",get:function(){return this.view.clientWidth-this.appSet.coverThumbSpacing}},{key:"itemWidth",get:function(){var e=Math.floor(this.contentWidth/this.appSet.coverRecomendedWidth);return e=e<1?1:e,e=Math.min(e,this.appSet.coverСolumns),this.contentWidth/e}}]),n}(g),w=function(e){H(n,e);var i=A(n);function n(e){var a;return D(this,n),(a=i.call(this,e)).view=document.createElement("div"),a.view.className="".concat(t,"splash-grid"),a}return W(n,[{key:"initByTermsList",value:function(e){this.appSet.appEventManager.addGMEventListener(h,this,"termCoverHandler"),this.termsList=e;for(var t=0;t<e.length;t+=1)this.appSet.tv?this.itemsList[t]=new u(e[t],this.appName):"сlassic"===this.appSet.splashType?(this.view.classList.add("splash-classic"),this.itemsList[t]=new m(e[t],this.appName)):this.itemsList[t]=new v(e[t],this.appName);this.createLayout()}},{key:"createLayout",value:function(){for(var e=0;e<this.itemsList.length;e+=1)this.addItemToStage(this.itemsList[e]);this.updateLayout()}},{key:"addItemToStage",value:function(e){this.arangeItem(e);var t=e.view;e.opacity={opacity:1,delay:0},this.view.appendChild(t)}},{key:"updateLayout",value:function(){var e=this.appSet.coverThumbSpacing/2;this.view.style.padding="".concat(e,"px");for(var t=0;t<this.itemsList.length;t+=1)this.arangeItem(this.itemsList[t])}},{key:"arangeItem",value:function(e){e.updateSize(this.itemWidth),e.display="block"}},{key:"resizeHandler",value:function(){this.updateLayout()}},{key:"contentWidth",get:function(){return Math.floor(this.view.clientWidth-.1-this.appSet.coverThumbSpacing)}},{key:"itemWidth",get:function(){var e=Math.floor(this.contentWidth/this.appSet.coverRecomendedWidth);return e=e<1?1:e,e=Math.min(e,this.appSet.coverСolumns),this.contentWidth/e}}]),n}(g),b=function(e){H(n,e);var i=A(n);function n(e){var a;D(this,n),(a=i.call(this,e)).viewWidth=0,a.view=document.createElement("div"),a.view.className="".concat(t,"splash-slider");var r=o.a.CONFIG;r.scrh_dragin=!0;if(a.slider=new o.a(a.appSet,r,{}),a.appSet.appEventManager.addGMEventListener(o.a.EVENTS.SCR_ACTION,R(a),"sliderHandler"),a.view.appendChild(a.slider.view),a.appSet.sliderButtonsNaviEnable){var l=s.b.CONFIG;l.np_navi_color=a.appSet.navigationColor,l.np_navi_color_over=a.appSet.navigationColorHover,l.np_navi_icon_color=a.appSet.navigationIconColor,l.np_navi_icon_color_over=a.appSet.navigationIconColor;a.controlls=new s.b(a.appSet,l,{}),a.appSet.appEventManager.addGMEventListener(s.b.EVENTS.NP_NAVI_ACTION,R(a),"controllsHandler"),a.view.appendChild(a.controlls.view)}if(a.appSet.sliderPpointsNaviEnable){var c=s.a.CONFIG;c.bl_n_bulColor=a.appSet.navigationColor,c.bl_n_activColor=a.appSet.navigationColorHover;a.buletsNavi=new s.a(a.appSet,c,{}),a.appSet.appEventManager.addGMEventListener(s.a.EVENTS.BULET_NAVI_ACTION,R(a),"buletsHandler"),a.controlls?a.controlls.addSubView=a.buletsNavi.view:a.view.appendChild(a.buletsNavi.view)}return a}return W(n,[{key:"sliderHandler",value:function(e){if(e.target===this.slider){var t=e.params,i=t.pages,n=t.currentPage,a=t.hasPrevPage,o=t.hasNextPage;this.buletsNavi&&(this.buletsNavi.init(i),this.buletsNavi.selectedItem=n),this.controlls&&void 0!==a&&void 0!==o&&this.controlls.setStaus(a,o)}}},{key:"buletsHandler",value:function(e){var t=e.params.index;this.slider&&this.slider.gotoPageByIndex(t)}},{key:"controllsHandler",value:function(e){if(this.slider)switch(e.params.type){case"next":this.slider.gotoNext();break;case"prev":this.slider.gotoPrev()}}},{key:"termCoverHandler",value:function(e){this.slider.draging||O(F(n.prototype),"termCoverHandler",this).call(this,e)}},{key:"initByTermsList",value:function(e){this.appSet.appEventManager.addGMEventListener(h,this,"termCoverHandler"),this.termsList=e;for(var t=0;t<e.length;t+=1)this.itemsList[t]=new u(e[t],this.appName);this.createLayout()}},{key:"createControlls",value:function(){}},{key:"createLayout",value:function(){this.contentView=document.createElement("div"),this.contentView.className="".concat(t,"slider-content-view");for(var e=0;e<this.itemsList.length;e+=1)this.addItemToStage(this.itemsList[e]);this.slider.initByScrollView(this.contentView),this.updateLayout()}},{key:"addItemToStage",value:function(e){this.arangeItem(e),e.opacity={opacity:1,delay:0};var t=e.view;this.contentView.appendChild(t)}},{key:"updateLayout",value:function(){for(var e=0;e<this.itemsList.length;e+=1)this.arangeItem(this.itemsList[e])}},{key:"arangeItem",value:function(e){e.updateSize(this.itemWidth),e.display="block"}},{key:"resizeHandler",value:function(){this.updateLayout(),this.slider&&this.slider.resizeHandler()}},{key:"contentWidth",get:function(){return this.view.clientWidth}},{key:"itemWidth",get:function(){var e=Math.floor(this.contentWidth/this.appSet.coverRecomendedWidth);return e=e<1?1:e,e=Math.min(e,this.appSet.coverСolumns),this.contentWidth/e}}]),n}(g),y=function(e){H(n,e);var i=A(n);function n(e,a,o){var s;return D(this,n),(s=i.call(this,e,a,o)).captions=!1,s.widthForCollectionPr=0,s.heightForCollectionPr=0,s.rect=r.a.Rect(0,0,0,0),s.view.classList.add("".concat(t,"collection-thumb-view")),s.config.thumb_square_mode||s.view.classList.add("pgc-justified"),s.hover.classList.add("".concat(t,"hover")),s}return W(n,null,[{key:"CONFIG",get:function(){var e=O(F(n),"CONFIG",this);return e.thumb_sub_menu=!1,e.thumb_square_mode=!1,e}}]),W(n,[{key:"initSubContent",value:function(){var e=this.item,i=document.createElement("div");switch(i.className="".concat(t,"item-badge"),e.type){case"video":"vimeo"===e.mime_type.split("/")[1]?(i.innerHTML=r.a.ICONS.VIMEO_SVG,i.firstChild.style.fill="#00adef"):(i.innerHTML=r.a.ICONS.YOU_TUBE_SVG,i.firstChild.style.fill="#e02f2f"),this.inner.appendChild(i);break;case"audio":i.innerHTML=r.a.ICONS.NOTE_SVG,i.firstChild.style.fill="#4a4a4a",this.inner.appendChild(i)}this.captions=this.appSet.collectionThumbTitleShow&&e.title&&e.title.length>0,this.title=document.createElement("div"),this.title.className="".concat(t,"item-title"),this.title.innerHTML=e.title,this.inner.appendChild(this.title),this.interactivBox=document.createElement("div"),this.interactivBox.className="".concat(t,"interactiv"),this.inner.appendChild(this.interactivBox),this.menuHolder=document.createElement("div"),this.menuHolder.className="".concat(t,"item-menu-holder"),this.inner.appendChild(this.menuHolder)}},{key:"initInteractive",value:function(){var e,t=this,i=this.item;function n(n){switch("click"===n.type&&t.appSet.lightBoxEnable&&(t.view.classList.remove("hover"),t.clickHandler()),n.type){case"mouseenter":this.classList.add("hover"),e&&(e.updateForItem(i),t.menuHolder.appendChild(e.view));break;case"mouseleave":this.classList.remove("hover")}}(this.appSet.collectionThumbSubMenuVisibility||this.appSet.collectionThumbSubMenuInfo||this.appSet.collectionThumbSubMenuShare||this.appSet.collectionThumbSubMenuDownload||this.appSet.collectionLikesEnabled)&&(e=this.config.thumb_sub_menu),e=!this.appSet.tv&&e,this.appSet.lightBoxEnable&&(this.inner.style.cursor="zoom-in"),this.interactivBox.addEventListener("click",n,!1),this.view.addEventListener("mouseenter",n,!1),this.view.addEventListener("mouseleave",n,!1)}},{key:"updateProps",value:function(){O(F(n.prototype),"updateProps",this).call(this),this.wrap_main.style.color="".concat(this.appSet.collectionThumbTitleColor),this.wrap_main.style.fontSize="".concat(this.appSet.collectionThumbFontSize,"px"),this.wrap_main.style.borderRadius="".concat(this.appSet.collectionthumbRoundedCorners,"px"),this.hover.style.backgroundColor="".concat(this.appSet.collectionthumbHoverBgColor),this.title.style.backgroundColor="".concat(this.appSet.collectionthumbHoverTitleTextBgColor),this.title.style.boxShadow="10px 0 0 ".concat(this.appSet.collectionthumbHoverTitleTextBgColor,",\n      -10px 0 0 ").concat(this.appSet.collectionthumbHoverTitleTextBgColor),this.captions?this.inner.insertBefore(this.title,this.interactivBox):this.inner.removeChild(this.title)}},{key:"thumbWidthByHeight",value:function(e){return this.rect.width=e/this.ratio,this.rect.width}},{key:"thumbHeightByWidth",value:function(e){return this.rect.height=e*this.ratio,this.rect.height}},{key:"updateSize",value:function(e){e?(this.squareMode=!0,O(F(n.prototype),"updateSize",this).call(this,e)):(this.view.style.width="".concat(this.rect.width.toFixed(2),"px"),this.view.style.height="".concat(this.rect.height.toFixed(2),"px"),this.updateImgSize())}},{key:"updateImgSize",value:function(){this.squareMode?O(F(n.prototype),"updateImgSize",this).call(this):this.imgCompleted&&"audio"!==this.type&&!this.itemViewSrcCompleted&&(this.rect.width.toFixed(2)/this.img.naturalWidth>1.15||this.rect.height.toFixed(2)/this.img.naturalHeight>1.15)&&this.itemViewSrc&&(this.img.src=this.itemViewSrc,this.itemViewSrcCompleted=!0)}},{key:"ratio",get:function(){return this.item.ratio}},{key:"widthForCollection",set:function(e){this.rect.width=e},get:function(){return this.rect.width}},{key:"heightForCollection",set:function(e){this.rect.height=e}},{key:"width",get:function(){return this.rect.width}},{key:"height",get:function(){return this.rect.height}},{key:"x",set:function(e){this.rect.x=e},get:function(){return this.rect.x}},{key:"y",set:function(e){this.rect.y=e},get:function(){return this.rect.y}}]),n}(n.a),C=function(e){H(o,e);var a=A(o);function o(e,i){var s;return D(this,o),(s=a.call(this,e,i)).context="CollectionJustified",s.classPref=t,s.view.className="".concat(t,"justified-collection"),s.header.className="".concat(t,"header"),s.content.className="".concat(t,"content"),s.footer.className="".concat(t,"footer"),s.appSet.lightBoxEnable&&s.appSet.appEventManager.addGMEventListener(n.a.EVENT.THUMB_ACTION,R(s),"thumbActionHandler"),s}return W(o,[{key:"thumbActionHandler",value:function(e){if(e.target.context===this.context&&(!e.target||e.params&&void 0!==!e.params.index)){var t=e.params.index;this.itemsAction(t,"lightBox")}}},{key:"createGrid",value:function(){this.rowWidth=0,this.rowHeight=0,this.gridHeight=0,this.corectedHeight=0,this.rowArray=[];var e=this.contentWidth,t=i(this.appName).collectionThumbRecomendedHeight,n=this.filteredCollection;if(0!==n.length){for(var a=0;a<n.length;a+=1){var o=n[a].thumbView;this.rowWidth+o.thumbWidthByHeight(t)<e?(o.heightForCollection=t,this.rowWidth+=o.thumbWidthByHeight(t),this.rowArray.push(o),this.rowHeight=t):(this.rowArray.length>0&&(this.corectHeight(this.rowArray),this.gridHeight+=this.rowHeight),this.rowArray=new Array(0),this.rowWidth=o.thumbWidthByHeight(t),o.heightForCollection=t,this.rowArray.push(o)),o.y=this.gridHeight}this.rowArray.length>0&&(this.corectHeight(this.rowArray,!0),this.rowArray=[],this.gridHeight+=this.rowHeight)}}},{key:"corectHeight",value:function(e,t){var n=0,a=this.contentWidth,o=a/this.rowWidth,s=i(this.appName).collectionThumbRecomendedHeight;0===this.corectedHeight&&(this.corectedHeight=s*o),this.corectedHeight=t?o<1?this.rowHeight*o:this.rowHeight:s*o,this.rowHeight=this.corectedHeight;for(var r=0;r<e.length;r+=1){var l=e[r];n+=l.thumbWidthByHeight(this.corectedHeight),l.heightForCollection=this.corectedHeight,l.x=r-1<0?0:e[r-1].x+e[r-1].width}if(t&&n>a&&(this.rowWidth=n,this.corectHeight(e,t)),!t&&e.length>0&&n!==a){var c=a-n;e[e.length-1].widthForCollection+=c}}},{key:"createLayout",value:function(){O(F(o.prototype),"createLayout",this).call(this),this.appSet.collectionThumbSquareMode||this.createGrid(),this.addPageToStage()}},{key:"addItemToStage",value:function(e){this.arangeItem(e);var t=e.view;this.content.appendChild(t),this.presentedList.push(e)}},{key:"updateLayout",value:function(){this.appSet.collectionThumbSquareMode||this.createGrid();for(var e=0;e<this.presentedList.length;e+=1)this.arangeItem(this.presentedList[e])}},{key:"arangeItem",value:function(e){e.updateSize(this.appSet.collectionThumbSquareMode?this.itemWidth:void 0),e.display="block"}},{key:"prepareToRemove",value:function(){O(F(o.prototype),"prepareToRemove",this).call(this),this.appSet.appEventManager.removeGMEventListener(n.a.EVENT.THUMB_ACTION,this,"thumbActionHandler")}},{key:"appSet",get:function(){return i(this.appName)}},{key:"itemViewConstructor",get:function(){var e=this;return function(){var t=y.CONFIG;return t.thumb_spasing=e.appSet.thumbSpacing,t.thumb_loading_lazy=!0,t.thumb_sub_menu=this.itemMenu,t.thumb_square_mode=this.appSet.collectionThumbSquareMode,new y(t,this.appSet,this.context)}}},{key:"contentWidth",get:function(){return this.content.clientWidth-1}},{key:"itemWidth",get:function(){var e=Math.floor(this.contentWidth/i(this.appName).collectionThumbRecomendedHeight);return e=e<1?1:e,this.contentWidth/e}}]),o}(P.a),x=function(e){H(n,e);var t=A(n);function n(){return D(this,n),t.apply(this,arguments)}return W(n,[{key:"createLightbox",value:function(){var e=a.a.CONFIG;return e.lb_copyR_Alert=this.appSet.copyR_Alert,e.lb_copyR_Proptection="GRANDPackPlus"===window.FlaGallery.pack&&this.appSet.copyR_Protection,e.lb_scrollNavi="GRANDPackPlus"===window.FlaGallery.pack&&this.appSet.sliderScrollNavi,e.lb_sliderNextPrevAnimation="GRANDPackPlus"!==window.FlaGallery.pack||this.appSet.sliderNextPrevAnimation,e.lb_backgroundColor=this.appSet.sliderBgColor,e.lb_headerFooterColor=this.appSet.sliderHeaderFooterBgColor,e.lb_preloaderColor=this.appSet.sliderPreloaderColor,e.lb_sliderNavigationColor=this.appSet.sliderNavigationColor,e.lb_sliderNavigationIconColor=this.appSet.sliderNavigationIconColor,e.lb_sliderNavigationColorOver=this.appSet.sliderNavigationColorOver,e.lb_sliderNavigationIconColorOver=this.appSet.sliderNavigationIconColorOver,e.lb_itemCounterColor=this.appSet.itemCounterColor,e.lb_itemTitleEnable=this.appSet.sliderItemTitleEnable,e.lb_itemTitleFontSize=this.appSet.sliderItemTitleFontSize,e.lb_itemTitleTextColor=this.appSet.sliderItemTitleTextColor,e.lb_thumbBarEnable=!this.appSet.tv&&this.appSet.sliderThumbBarEnable,e.lb_thumbBarHoverColor=this.appSet.sliderThumbBarHoverColor,e.lb_zoom=this.appSet.sliderZoomButton,e.lb_itemInfoEnable=this.appSet.sliderInfoEnable,e.lb_itemShare=this.appSet.sliderSocialShareEnabled,e.lb_itemDownload=!this.appSet.tv&&this.appSet.sliderItemDownload,e.lb_itemLike=this.appSet.sliderLikesEnabled,e.lb_discuss=!1,e.lb_fullscreen=this.appSet.sliderFullScreen,e.lb_menuBackgroundColor=this.appSet.sliderThumbSubMenuBackgroundColor,e.lb_menuBackgroundColorOver=this.appSet.sliderThumbSubMenuBackgroundColorOver,e.lb_menuIconColor=this.appSet.sliderThumbSubMenuIconColor,e.lb_menuIconColorOver=this.appSet.sliderThumbSubMenuIconHoverColor,e.lb_slideshowEneble=!this.appSet.tv&&this.appSet.sliderPlayButton,e.lb_slideshowIndicatorColor=this.appSet.slideshowProgressBarColor,e.lb_slideshowIndicatorColorBg=this.appSet.slideshowProgressBarBGColor,e.lb_slideshowTimer="GRANDPackPlus"!==window.FlaGallery.pack?1:this.appSet.slideshowDelay,e.lb_audioPlayer=this.audioPlayer,e.lb_likesSet=r.a.likesSet,this.appSet.appEventManager.addGMEventListener(a.a.EVENTS.LB_NEED_MODAL,this,"createModal"),this.appSet.appEventManager.addGMEventListener(a.a.EVENTS.LB_REMOVE_LIGHTBOX,this,"removeLightbox"),this.appSet.appEventManager.addGMEventListener(a.a.EVENTS.LB_FULLSCREEN_SWITCH,this,"fullscreenSwitch"),this.appSet.appEventManager.addGMEventListener(a.a.EVENTS.LB_ITEM_ACTION,this,"itemActionHandler"),new a.a(r.a.moduleSettings(this.appName),e)}},{key:"removeLightbox",value:function(e){O(F(n.prototype),"removeLightbox",this).call(this,e),this.appSet.appEventManager.removeGMEventListener(a.a.EVENTS.LB_NEED_MODAL,this,"createModal"),this.appSet.appEventManager.removeGMEventListener(a.a.EVENTS.LB_REMOVE_LIGHTBOX,this,"removeLightbox"),this.appSet.appEventManager.removeGMEventListener(a.a.EVENTS.LB_FULLSCREEN_SWITCH,this,"fullscreenSwitch"),this.appSet.appEventManager.removeGMEventListener(a.a.EVENTS.LB_ITEM_ACTION,this,"itemActionHandler")}},{key:"appSet",set:function(e){window.FlaGallery.pack&&"GRANDPackPlus"===window.FlaGallery.pack||(i(this.appName).tv=document.createElement("div")),i(this.appName).splashType=i(this.appName).tv?"grid":e.splashType,i(this.appName).coverСolumns=void 0===e.coverСolumns?3:parseInt(e.coverСolumns),i(this.appName).coverRecomendedWidth=parseInt(e.coverRecomendedWidth),i(this.appName).coverThumbSpacing=parseInt(e.coverThumbSpacing),i(this.appName).coverHoverTitleTextColor=e.coverHoverTitleTextColor,i(this.appName).coverHoverTitleFontSize=parseInt(e.coverHoverTitleFontSize),i(this.appName).coverHieghtRation=parseFloat(e.coverHieghtRation),i(this.appName).coverTitleEnable="1"===e.coverTitleEnable,i(this.appName).coverTitleFontSize=parseInt(e.coverTitleFontSize),i(this.appName).coverHoverColor=e.coverHoverColor,i(this.appName).coverTitleTextColor=e.coverTitleTextColor,i(this.appName).coverCollectoinAmount="1"===e.coverCollectoinAmount,i(this.appName).sliderPpointsNaviEnable="1"===e.sliderPpointsNaviEnable,i(this.appName).sliderButtonsNaviEnable="1"===e.sliderButtonsNaviEnable,i(this.appName).navigationColor=e.navigationColor,i(this.appName).navigationColorHover=e.navigationColorHover,i(this.appName).navigationIconColor=e.navigationIconColor,i(this.appName).tagsFilter=!1,i(this.appName).lightBoxEnable=i(this.appName).tv?1:"1"===e.lightBoxEnable,i(this.appName).collectionBgColor=e.collectionBgColor,i(this.appName).collectionHeaderBgColor=e.collectionHeaderBgColor,i(this.appName).collectionTitleColor=e.collectionHeaderTextColor,i(this.appName).collectionHeaderControllIconColor=e.collectionHeaderControllIconColor,i(this.appName).collectionHeaderControllBgColor=e.collectionHeaderControllBgColor,i(this.appName).collectionDescription="1"===e.collectionDescription,i(this.appName).collectionThumbSquareMode=""===window.FlaGallery.pack||"square"===e.collectionThumbSquareMode,i(this.appName).collectionthumbRoundedCorners=0,i(this.appName).collectionThumbRecomendedHeight=r.a.miniScreen?.65*parseInt(e.collectionThumbRecomendedHeight):parseInt(e.collectionThumbRecomendedHeight),i(this.appName).thumbSpacing=parseInt(e.collectionThumbInPadding),i(this.appName).collectionthumbHoverBgColor=e.collectionthumbHoverBgColor,i(this.appName).collectionThumbTitleShow="1"===e.collectionThumbTitleShow,i(this.appName).collectionThumbTitleColor=e.collectionThumbTitleColor,i(this.appName).collectionThumbFontSize=parseInt(e.collectionThumbFontSize),i(this.appName).collectionThumbSubMenuVisibility="1"===e.collectionThumbSubMenuVisibility,i(this.appName).collectionThumbSubMenuInfo="1"===e.collectionInfoEnable,i(this.appName).collectionThumbSubMenuDownload="1"===e.collectionItemDownload,i(this.appName).collectionThumbSubMenuShare="1"===e.collectionSocialShareEnabled,i(this.appName).collectionThumbSubMenuLikes="1"===e.collectionLikesEnabled,i(this.appName).collectionThumbSubMenuBgColor=e.collectionThumbSubMenuBackgroundColor,i(this.appName).collectionThumbSubMenuBgColorHover=e.collectionThumbSubMenuBackgroundColorOver,i(this.appName).collectionThumbSubMenuIconColor=e.collectionThumbSubMenuIconColor,i(this.appName).collectionThumbSubMenuIconColorHover=e.collectionThumbSubMenuIconHoverColor,i(this.appName).modaBgColor=e.modaBgColor,i(this.appName).modalInfoBoxBgColor=e.modalInfoBoxBgColor,i(this.appName).modalInfoBoxTitleTextColor=e.modalInfoBoxTitleTextColor,i(this.appName).modalInfoBoxTextColor=e.modalInfoBoxTextColor,i(this.appName).infoBarCountersEnable="1"===e.infoBarCountersEnable,i(this.appName).infoBarDateInfoEnable="1"===e.infoBarDateInfoEnable,i(this.appName).infoBarExifEnable=!i(this.appName).tv&&"1"===e.infoBarExifEnable,i(this.appName).copyR_Alert=e.copyR_Alert,i(this.appName).copyR_Protection=!i(this.appName).tv&&"1"===e.copyR_Protection,i(this.appName).sliderNextPrevAnimation=!!i(this.appName).tv||"animation"===e.sliderNextPrevAnimation,i(this.appName).sliderScrollNavi="1"===e.sliderScrollNavi,i(this.appName).sliderThumbBarEnable="1"===e.sliderThumbBarEnable,i(this.appName).sliderThumbBarHoverColor=e.sliderThumbBarHoverColor,i(this.appName).sliderPreloaderColor=e.sliderPreloaderColor,i(this.appName).sliderBgColor=e.sliderBgColor,i(this.appName).sliderHeaderFooterBgColor=e.sliderHeaderFooterBgColor,i(this.appName).sliderNavigationColor=e.sliderNavigationColor,i(this.appName).sliderNavigationIconColor=e.sliderNavigationIconColor,i(this.appName).sliderNavigationColorOver=e.sliderNavigationColorOver,i(this.appName).sliderNavigationIconColorOver=e.sliderNavigationIconColorOver,i(this.appName).sliderItemTitleEnable="1"===e.sliderItemTitleEnable,i(this.appName).sliderItemTitleFontSize=parseInt(e.sliderItemTitleFontSize),i(this.appName).sliderItemTitleTextColor=e.sliderItemTitleTextColor,i(this.appName).sliderThumbSubMenuBackgroundColor=e.sliderThumbSubMenuBackgroundColor,i(this.appName).sliderThumbSubMenuBackgroundColorOver=e.sliderThumbSubMenuBackgroundColorOver,i(this.appName).sliderThumbSubMenuIconColor=e.sliderThumbSubMenuIconColor,i(this.appName).sliderThumbSubMenuIconHoverColor=e.sliderThumbSubMenuIconHoverColor,i(this.appName).sliderInfoEnable="1"===e.sliderInfoEnable,i(this.appName).sliderItemDownload="1"===e.sliderItemDownload,i(this.appName).sliderItemDiscuss="1"===e.sliderItemDiscuss,i(this.appName).sliderSocialShareEnabled="1"===e.sliderSocialShareEnabled,i(this.appName).sliderLikesEnabled="1"===e.sliderLikesEnabled,i(this.appName).sliderZoomButton="1"===e.sliderZoomButton,i(this.appName).sliderFullScreen="1"===e.sliderFullScreen,i(this.appName).sliderPlayButton="1"===e.sliderPlayButton,i(this.appName).slideshowDelay=parseInt(e.slideshowDelay),i(this.appName).slideshowProgressBarColor=e.slideshowProgressBarColor,i(this.appName).slideshowProgressBarBGColor=e.slideshowProgressBarBGColor},get:function(){return i(this.appName)}},{key:"splashPageConstructor",get:function(){var e;switch(this.appSet.splashType){case"grid":case"сlassic":e=new w(this.appName);break;case"slider":e=new b(this.appName);break;case"masonry":e=new f(this.appName)}return e}},{key:"modalCollectionConstructor",get:function(){var e=new C(this.appName),t=T.CONFIG;return t.mc_collection=e,t.mc_backgroundColor=this.appSet.collectionBgColor,t.mc_descriptionShow=!this.appSet.tv&&this.appSet.collectionDescription,t.mc_fixedHeaderBackgroundColor=this.appSet.collectionHeaderBgColor,t.mc_fixedHeaderTextColor=this.appSet.collectionTitleColor,t.mc_headerBackgroundColor=this.appSet.collectionHeaderBgColor,t.mc_headerButtonBgColor=this.appSet.collectionHeaderControllBgColor,t.mc_headerButtonIconColor=this.appSet.collectionHeaderControllIconColor,t.mc_headerTextColor=this.appSet.collectionTitleColor,t.mc_shareButtonShow=this.appSet.collectionShareButtons,new T(this.appSet,t)}}]),n}(M);function S(){for(var t=document.body.getElementsByClassName("".concat(e,"_skin")),i=0;i<t.length;i+=1){var n=t[i].id;if(window[n]&&!window[n].appName){var a=JSON.parse(t[i].getElementsByClassName(t[i].id)[0].textContent);window[n]=a,window[n]=new x(a,n,t[i])}}}window["fla_module_".concat(e)]={},window["fla_module_".concat(e)].initViewPorts=function(){S()},window["fla_module_".concat(e)].initVPbyID=function(e){!function(e){var t=document.getElementById(e);if(t){var i=JSON.parse(t.getElementsByClassName(e)[0].textContent);window[e]=i;var n=t.getElementsByTagName("DIV")[0];n&&t.removeChild(n);var a=t.getElementsByTagName("AUDIO")[0];a&&t.removeChild(a),window[e]=new x(i,e,t)}}(e)},window.addEventListener("load",(function(){S()}))}()}]);